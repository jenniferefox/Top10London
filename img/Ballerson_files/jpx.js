!function(e){var t=window.webpackJsonpJpx__name_;window.webpackJsonpJpx__name_=function(r,i,a){for(var s,c,u,l=0,d=[];l<r.length;l++)c=r[l],n[c]&&d.push(n[c][0]),n[c]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s]);for(t&&t(r,i,a);d.length;)d.shift()();if(a)for(l=0;l<a.length;l++)u=o(o.s=a[l]);return u};var r={},n={27:0};function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e}}({1:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=void 0;try{(n=window.top).location.href}catch(e){n=window}function o(e,t){var r,o,a;return(i={enumerable:!1,browser:!1,browserVersion:!1,os:"",osVersion:"",device:"",deviceType:"desktop",resolution:{enumerable:!1,width:0,height:0},userAgent:!1,uri:{enumerable:!1,url:null,ssl:!1,domain:null,page:null},cookies:null}).resolution.width=!!screen.width&&screen.width,i.resolution.height=!!screen.height&&screen.height,i.uri={url:n.location.href?n.location.href:"",ssl:"https"==n.location.protocol,domain:n.location.host?n.location.host:n.location.hostname,page:n.location.pathname?n.location.pathname:""},i.userAgent=t,i.browser=navigator.appName,i.browserVersion=""+parseFloat(e),-1!=(o=t.indexOf("Opera"))?(i.browser="Opera",i.browserVersion=t.substring(o+6),-1!=(o=t.indexOf("Version"))&&(i.browserVersion=t.substring(o+8))):-1!=(o=t.indexOf("MSIE"))?(i.browser="Microsoft Internet Explorer",i.browserVersion=t.substring(o+5)):-1!=(o=t.indexOf("Trident"))?(i.browser="Microsoft Internet Explorer",i.browserVersion=11,-1!=(o=t.indexOf("rv:"))&&(i.browserVersion=t.substring(o+3))):-1!=(o=t.indexOf("Edge"))?(i.browser="Edge",i.browserVersion=t.substring(o+5)):-1!=(o=t.indexOf("Chrome"))?(i.browser="Chrome",i.browserVersion=t.substring(o+7)):-1!=(o=t.indexOf("Safari"))?(i.browser="Safari",i.browserVersion=t.substring(o+7),-1!=(o=t.indexOf("Version"))&&(i.browserVersion=t.substring(o+8))):-1!=(o=t.indexOf("Firefox"))?(i.browser="Firefox",i.browserVersion=t.substring(o+8)):(r=t.lastIndexOf(" ")+1)<(o=t.lastIndexOf("/"))&&(i.browser=t.substring(r,o),i.browserVersion=t.substring(o+1),i.browser.toLowerCase()==i.browser.toUpperCase()&&(i.browser=navigator.appName)),-1!=(a=i.browserVersion.indexOf(";"))&&(i.browserVersion=i.browserVersion.substring(0,a)),-1!=(a=i.browserVersion.indexOf(")"))&&(i.browserVersion=i.browserVersion.substring(0,a)),-1!=(a=i.browserVersion.indexOf(" "))&&(i.browserVersion=i.browserVersion.substring(0,a)),i.isOldIE="Microsoft Internet Explorer"===i.browser&&("9"===i.browserVersion.charAt(0)||"8"===i.browserVersion.charAt(0)),i.cookies=!!navigator.cookieEnabled,void 0!==navigator.cookieEnabled||i.cookies||(document.cookie="testcookie",i.cookies=-1!=document.cookie.indexOf("testcookie")),i}var i={};o(navigator.appVersion,navigator.userAgent);var a={_getMetaData:o,getMeta:function(){return i},getBrowser:function(){return i.browser},getBrowserVer:function(){return i.browserVersion},getInstalledPlugins:function(){for(var e,t=[],r=Array.prototype.slice.call(navigator.plugins);e=r.shift();)t.push(e.name+";"+e.description+";"+e.filename);return encodeURI(t.join(","))},getScreenOrientation:function(){return n.screen.orientation},getWindowWidth:function(){return n.window.innerWidth},getWindowHeight:function(){return n.window.innerHeight},getWindowYOffset:function(){return n.window.pageYOffset},getDocumentHeight:function(){return n.document.body.offsetHeight},getScreenWidth:function(){return n.screen.availWidth},getScreenHeight:function(){return n.screen.availHeight},getTopScope:function(){return n},isChrome:function(){return"Chrome"===i.browser},isFirefox:function(){return"Firefox"===i.browser},isOpera:function(){return"Opera"===i.browser},isEdge:function(){return"Edge"===i.browser},isSafari:function(){return"Safari"===i.browser},isIE:function(){return"Microsoft Internet Explorer"===i.browser},isIE11:function(){return this.isIE()&&"11"===i.browserVersion.substr(0,2)},isIE10:function(){return this.isIE()&&"10"===i.browserVersion.substr(0,2)},isIE9:function(){return this.isIE()&&"9"===i.browserVersion.charAt(0)},isMobile:function(){return this.isPhone()},isPhone:function(){return"phone"==i.deviceType},isTablet:function(){return"tablet"==i.deviceType},setDevice:function(e){i.deviceType=e},getNavigatorTrack:function(){return(void 0!==navigator.doNotTrack?navigator.doNotTrack:"")||""},isOldIE:function(){return i.isOldIE}};t.default=a},11:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(4)),o=a(r(218)),i=a(r(1));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var c=new WeakMap,u=new WeakMap,l=new WeakMap,d=i.default.getTopScope(),p=function(e){function t(r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this)),i=o;return u.set(i,{wrapper:null,click:null,videos:[],types:[],resources:{jsResource:[],flashResource:[],viewableImpression:[]},rawXML:""}),l.set(i,{impressions:[],clickTracking:[],viewableImpression:{viewable:[],notViewable:[],viewUndetermined:[]}}),i._setPrivates(r,n),o}return s(t,e),t.prototype._setPrivates=function(e,t){var r={};r.request=this._resolveVast(e,t),c.set(this,r)},t.prototype._resolveVast=function(e,t){var r=this;return t?Promise.resolve(r._loadFromJSON(t)):o.default.get(e).ready().then(function(e){return r._parseVast(e)})},t.prototype._loadFromJSON=function(e){return u.set(this,e.data),l.set(this,e.events),e},t.prototype._parseVast=function(e){var t=this,r=t._parse(e),n=t._xml(r);if(u.get(t).rawXML=e,n.data&&n.data.wrapper)return t._resolveVast(n.data.wrapper);if(!n.data)throw new Error("Loading Vast failed");return t._vastLoaded=!0,n.data},t.prototype._xml=function(e){var t=e,r=u.get(this),n=l.get(this);if("function"!=typeof t.getElementsByTagName)return e;if(t.getElementsByTagName("MediaFile").length>0||t.getElementsByTagName("VASTAdTagURI").length>0){this._events(t,"xml");var o=t.getElementsByTagName("ClickThrough")[0],i=t.getElementsByTagName("VideoClicks")[0];if(void 0!==o&&(r.click=o.childNodes[0].nodeValue.trim(),r.originClick=o.childNodes[0].nodeValue.trim(),0===r.click.length&&(r.click=o.childNodes[0].wholeText.trim(),r.originClick=o.childNodes[0].wholeText.trim())),void 0!==i){var a=i.getElementsByTagName("ClickTracking");if(void 0!==a)for(var s=a.length;s--;){var c=a[s].childNodes[0].nodeValue.trim();0===c.length&&(c=a[s].childNodes[0].wholeText.trim()),n.clickTracking.push(c)}}for(var d=t.getElementsByTagName("MediaFile").length,p=t.getElementsByTagName("MediaFile"),f=0;f<d;f++){var h=p[f].childNodes[0].nodeValue.trim();if(0===h.length&&(h=p[f].childNodes[0].wholeText.trim()),1===d&&"flv"===h.split(".").pop())return{};r.videos.push(h),r.types.push(p[f].getAttribute("type").trim())}var g=t.getElementsByTagName("Verification");if(g[0]&&g[0].childNodes[0])for(var v=0;v<g.length;v++){var m=g[v].getElementsByTagName("JavaScriptResource"),y=g[v].getElementsByTagName("FlashResource"),b=g[v].getElementsByTagName("ViewableImpression");if(m[0])for(var w=0;w<m.length;w++)r.resources.jsResource.push(m[w].childNodes[0].wholeText.trim());if(y[0])for(var x=0;x<y.length;x++)r.resources.flashResource.push(y[x].childNodes[0].wholeText.trim());if(b[0])for(var j=0;j<b.length;j++)r.resources.viewableImpression.push(b[j].childNodes[0].wholeText.trim())}return r.wrapper=this._getWrapperUrl(t),{data:r,events:n}}return{}},t.prototype._events=function(e,t){var r=l.get(this);switch(t){case"json":var n=e.Ads[0].Creatives[0].Linear.TrackingEvents,o=e.Ads[0].Impression,i=void 0;for(i in n)n.hasOwnProperty(i)&&(r[i]=n[i][0]);r.impressions=o;break;case"xml":var a=e.getElementsByTagName("TrackingEvents")[0],s=e.getElementsByTagName("Impression"),c=e.getElementsByTagName("ViewableImpression")[0];if(a)for(var u=a.childNodes.length,d=0;d<u;d++)if(null===a.childNodes[d].nodeValue){var p=a.childNodes[d].childNodes[0].nodeValue.trim();0===p.length&&(p=a.childNodes[d].childNodes[0].wholeText.trim()),r[a.childNodes[d].getAttribute("event")]||(r[a.childNodes[d].getAttribute("event")]=[]),-1==r[a.childNodes[d].getAttribute("event")].indexOf(p)&&r[a.childNodes[d].getAttribute("event")].push(p)}if(s)for(var f=s.length,h=0;h<f;h++){var g=s[h].childNodes[0].nodeValue.trim();0===g.length&&(g=s[h].childNodes[0].wholeText.trim()),-1==r.impressions.indexOf(g)&&r.impressions.push(g)}if(c){var v=e.getElementsByTagName("Viewable"),m=e.getElementsByTagName("NotViewable"),y=e.getElementsByTagName("ViewUndetermined");if(v)for(var b=0;b<v.length;b++)r.viewableImpression.viewable.push(v[b].childNodes[0].wholeText.trim());if(m)for(var w=0;w<m.length;w++)r.viewableImpression.notViewable.push(m[w].childNodes[0].wholeText.trim());if(y)for(var x=0;x<y.length;x++)r.viewableImpression.viewUndetermined.push(y[x].childNodes[0].wholeText.trim())}}return r},t.prototype._getWrapperUrl=function(e){var t=e.getElementsByTagName("VASTAdTagURI"),r=void 0;return void 0!==t[0]&&0===(r=(t=t[0]).childNodes[0].nodeValue.trim()).length&&(r=t.childNodes[0].wholeText.trim()),r},t.prototype._parse=function(e){try{e=JSON.parse(e)}catch(t){if(d.DOMParser)e=(new DOMParser).parseFromString(e,"text/xml");else(e=new ActiveXObject("Microsoft.XMLDOM")).async=!1,e.loadXML(e)}return e},t.prototype.getData=function(e){var t=u.get(this);return function(e,t){for(var r=void 0,n=t;r=e.shift();){if(!n[r])return null;n=n[r]}return n}(e.split("."),t)},t.prototype.getEvents=function(e){var t=l.get(this);return function(e,t){for(var r=void 0,n=t;r=e.shift();){if(!n[r])return[];n=n[r]}return n||[]}(e.split("."),t)},t.prototype.getVast=function(){return{data:u.get(this),events:l.get(this)}},t.prototype.getRawXml=function(){return u.get(this).rawXML},t.prototype.ready=function(){var e=u.get(this),t=l.get(this),r=c.get(this);return this._vastLoaded?Promise.resolve({data:e,events:t}):r.request},t.prototype.setScope=function(e){_privates.get(this).di.scope=e},t.get=function(e,r){return new t(e,r)},t}(n.default);t.default=p},119:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(r(434)),o=c(r(1)),i=c(r(120)),a=c(r(2)),s=c(r(4));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var l=new WeakMap,d=null,p=o.default.getTopScope(),f=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this)),o=n,i={},a=(r=r||{}).di||{};return o._validateConstructorArguments(r),l.set(o,i),i.vDOM=[a.window.document.createDocumentFragment()],i.root=[],i.elements=[],i.di=a,i.binds=[],i.head=[],i.preId=r.elId||!1,n}return u(t,e),t.prototype._bindToElement=function(e,t,r){var n=l.get(this).binds;e.getDOMElement().addEventListener(t,r);var o=function o(){var i=n.indexOf(o);i>-1&&n.splice(i,1),e.getDOMElement().removeEventListener(t,r)};return n.push(o),o},t.prototype._bindToScope=function(e,t,r){var n=l.get(this).binds;e.addEventListener(t,r);var o=function o(){var i=n.indexOf(o);i>-1&&n.splice(i,1),e.removeEventListener(t,r)};return n.push(o),o},t.prototype._createElement=function(e,r,o,i){var a=this,s=l.get(a),c={},u=void 0;if("String"!==t.getType(e))throw a.error(102,{property:"definition",class:"JDOM",method:"createElement"});if("Object"!==t.getType(r))throw a.error(102,{property:"options",class:"JDOM",method:"createElement"});if(e=e||a.getId(),a.publish("beforeCreateElement",[a,e,r]),r.di={window:s.di.window},s.preId&&(r.preId="pjx-"+e+"-"+s.preId),c.element=new n.default(r),c.name=e,c.options=r,"String"===t.getType(r.parent)){var d=r.parent.match(/^(@head)/);if(d&&"@head"===d[1])u={head:!0};else if((d=r.parent.match(/^(@root)(\[([0-9]{0,})\]){0,}/))&&"@root"===d[1]){u={root:!0,idx:parseInt(d[3]||0)};for(var p=s.vDOM,f=s.di;u.idx+1>p.length;)p.push(f.window.document.createDocumentFragment())}else u=o.find(function(e){return e.name===r.parent})}else r.parent instanceof n.default&&(u={element:r.parent});if(!u)throw a.error(300,{element:r.parent});if(delete r.parent,c.parent=u,s.isRendered&&!i){var h=c.element;if(h.render(),h.isPrerendered())return s.isAppended&&h.publish("afterAppend",[h]),c;if(u.head)s.di.window.document.head.appendChild(h.getDOMElement());else if(u.root){(s.isAppended?s.root[u.idx]:s.vDOM[u.idx]).appendChild(h.getDOMElement())}else{var g=c.parent.element.getDOMElement();a._getBindableElement(g).appendChild(h.getDOMElement()),s.isAppended&&h.publish("afterAppend",[h])}}return a.publish("afterCreateElement",[a,e,c]),c},t.prototype._getElementChildren=function(e){var t=[];return l.get(this).elements.forEach(function(r){r.parent.name==e.name&&t.push(r)}),t},t.prototype._getBindableElement=function(e){switch(e.tagName.toLocaleLowerCase()){case"iframe":return!e||e&&!e.contentDocument?{appendChild:function(t){e.onload=function(){e.contentDocument.body.appendChild(t)}}}:(e.contentDocument||e.contentWindow.document).body;default:return e}},t.prototype._validateConstructorArguments=function(e){if(!(e.di||{}).window)throw this.error(100,{class:this.constructor.name,parameter:"window",instance:"Window"});return this},t.prototype.appendTo=function(e,t){var r=this,n=l.get(r),o=n.elements,i=n.vDOM,a=n.head;if(n.root=e=Array.isArray(e)?e:[e],t=Array.isArray(t)?t:[t],n.root.length!=i.length)throw r.error(106,{property:"parents",reason:"its length should be equal to "+i.length});return i.forEach(function(n,o){for(var i=Array.prototype.slice.call(n.childNodes),a=void 0;a=i.shift();){var s=r._getBindableElement(e[o]);if(void 0===t[o]||null===t[o])s.appendChild(a);else{var c=s.children[t[o]];c?s.insertBefore(a,c):s.appendChild(a),t[o]++}}}),o.forEach(function(e){e.element.publish("afterAppend",[e.element])}),a.forEach(function(e){n.di.window.document.head.appendChild(e)}),n.isAppended=!0,r.publish("afterAppend",[n.root]),r},t.prototype.bind=function(e,t,r){var n=this,o=l.get(n),i=o.di,a=function(){};if(e.search("@scope")>-1){var s=void 0;s="document"===e.split(".").pop()?i.window.document:i.window,a=n._bindToScope(s,t,r)}else{var c=n.getElement(e);if(-1!==c)if(o.isRendered)a=n._bindToElement(c,t,r);else{var u=null,d=n.subscribe("afterRender",function(){u=n._bindToElement(c,t,r)});a=function(){u?d():u()}}}return a},t.prototype.createElement=function(e,t){var r,n=l.get(this).elements;if(n.find(function(t){return t.name===e}))throw this.error(301,{name:e});return r=this._createElement(e,t,n),n.push(r),this},t.prototype.removeElement=function(e){var t=this,r=l.get(t),n=r.elements,o=void 0;if(!(o=n.find(function(t){return t.name==e})))throw t.error(300,{name:e});if(n.forEach(function(e){if("Object"==s.default.getType(e.parent)&&e.parent.name==o.name)return t.removeElement(e.name)}),r.isRendered){var i=o.element.getDOMElement();i.parentNode.removeChild(i)}var a=n.indexOf(o);return n.splice(a,1),t},t.prototype.destroy=function(){var e=this,t=l.get(e),r=t.elements,n=t.binds;for(e.publish("beforeDestroy",[e]);n.length;)n[0]();return r.length&&r.forEach(function(e){e.element.destroy()}),e.publish("afterDestroy",[e]),e},t.prototype.getElement=function(e,t){var r=l.get(this).elements;if(arguments.length<2){var n;return(n=r.find(function(t){return t.name===e}))?n.element:-1}return this.createElement(e,t).getElement(e)},t.prototype.getScope=function(){return l.get(this).di.window},t.prototype.getScopeWidth=function(){return l.get(this).di.window.document.body.offsetWidth},t.prototype.getScopeHeight=function(){return l.get(this).di.window.innerHeight},t.prototype.getOuterHeight=function(e){var t=l.get(this).di.window;return o.default.isSafari()?e?i.default.isPortrait()?t.innerHeight:t.innerWidth:t.innerHeight:e?i.default.isPortrait()?t.outerHeight:t.outerWidth:t.outerHeight},t.prototype.getScrollBarWidth=function(){if(!d){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var r=e.offsetWidth;t.style.overflow="scroll";var n=e.offsetWidth;r==n&&(n=t.clientWidth),document.body.removeChild(t),d=r-n}return d},t.prototype.getInnerWidth=function(){return l.get(this).di.window.innerWidth},t.prototype.getInnerHeight=function(){return l.get(this).di.window.innerHeight},t.prototype.getOuterWidth=function(e){var t=l.get(this).di.window;return o.default.isSafari()?e?i.default.isPortrait()?t.innerWidth:t.innerHeight:t.innerWidth:e?i.default.isPortrait()?t.outerWidth:t.outerHeight:t.outerWidth},t.prototype.getScrollPosition=function(e){var t=l.get(this).di.window;return e?e instanceof n.default?e.getDOMElement().scrollTop:e.scrollTop:t.document.body.scrollTop},t.prototype.scrollTo=function(e,t,r,n){var o,i=this,s=(l.get(i).di.window,Date.now()),c=(r=r||600,t=t||p.pageYOffset,(e=e||1)-t);n=n||p;c&&function u(){var l=Date.now()-s;l<r?(o=function(e,t,r,n,o){return n*t/o+r}(0,l,t,c,r),a.default.delay(i,u,1)):o=e,n.scrollTo(0,o)}()},t.prototype.isRendered=function(){return l.get(this).isRendered},t.prototype.replaceElement=function(e,t){var r=this,n=l.get(r),o=n.elements,i=-1,a=o.find(function(t,r){return t.name===e&&(i=r,!0)}),s=void 0;if(i<0)throw r.error(300,{element:e});return t.parent=a.parent.name,r.publish("beforeReplace",{scope:r,oldElement:a,defNew:t}),s=r._createElement(e,t,o,!0),n.isRendered&&(s.element.render(),a.element.getDOMElement().parentNode.replaceChild(s.element.getDOMElement(),a.element.getDOMElement())),o.splice(i,1,s),r.publish("afterReplace",{scope:r,newElement:s}),r},t.prototype.renderDOM=function(){var e=this,t=l.get(e),r=t.elements,n=t.vDOM;e.publish("beforeRender",[e]),r.forEach(function(r){r.element.render(),r.element.isPrerendered()||(r.parent.head?t.head.push(r.element.getDOMElement()):r.parent.root?n[r.parent.idx].appendChild(r.element.getDOMElement()):e._getBindableElement(r.parent.element.getDOMElement()).appendChild(r.element.getDOMElement()))}),t.isRendered=!0,e.publish("afterRender",[e,t.vDOM])},t.prototype.setParent=function(e,t){var r=l.get(this),n=l.get(this).elements;if(r.isRendered)throw new Error("Can't change parent after element is rendered");var o=n.find(function(t){return t.name===e});if(!o)throw new Error("Can't find element definition called "+e);var i=n.find(function(e){return e.name===t});if(!i)throw new Error("Can't find parent element called "+t);return o.parent=i,this},t}(s.default);t.default=f},120:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(1));var o=n.default.getTopScope(),i={isPortrait:function(){var e=!0;return n.default.isTablet()&&n.default.isSafari()?o.screen.height<o.screen.width&&(e=!1):o.innerHeight<o.innerWidth&&(e=!1),this._isPortrait=e}};t.default=i},121:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(1)),o=a(r(11)),i=a(r(18));function a(e){return e&&e.__esModule?e:{default:e}}var s={getPercentageVideoVisibility:function(e,t){var r=e.height*e.calculation.ratio.center,o=t.getDOMElement().getBoundingClientRect(),i=n.default.getWindowHeight(),a=o.height+i-o.bottom,s=0,c=0,u=o.top+o.bottom>o.height&&i-o.bottom>=0,l=o.bottom<o.height&&o.bottom>0,d=a>0&&a<o.height;return l?c=o.bottom:d&&(c=a),s=u?100:l?c>0&&c<r?Math.round(100*c/r):c>0?100:0:d?c>0&&c<r?Math.round(100*c/r):c>0?100:0:0,Math.abs(s)},createVideo:function(e,t,r,n){var a=e.di,s=e,c=a.jDOM,u=c.getElement("vastVideo"+(s.iterator=s.iterator>=0?++s.iterator:0),{tag:"div",parent:"@root",attributes:{style:"display: none"}});if(t){var l=new o.default(r,null),d=new i.default({di:{jDOM:a.jDOM,jStyle:a.jStyle,jModel:l,jTracking:a.jTracking,videoName:n}});return d.setup(u,{fromApi:!0,events:{}}),c.createElement("jp-api-video-controls-"+d.getId(),{tag:"style",parent:u,attributes:{type:"text/css",class:"jpx-stylesheet"},properties:{content:'.jp-video-wrapper {display: none;} .jpx-video-controls.jpx-video-controls-medium>.jpx-video-control-mute:after,.jpx-video-controls>.jpx-video-control-mute:after{background-position:-14px 0;height:22px!important;width:18px!important}.jpx-video-controls.jpx-video-controls-medium>.jpx-video-control-pause:after,.jpx-video-controls>.jpx-video-control-pause:after{background-position:-14px -22px;height:22px!important;width:18px!important}.jpx-video-controls.jpx-video-controls-medium>.jpx-video-control-play:after,.jpx-video-controls>.jpx-video-control-play:after{background-position:-14px -44px;height:18px!important;width:18px!important}.jpx-video-controls.jpx-video-controls-medium>.jpx-video-control-reload:after,.jpx-video-controls>.jpx-video-control-reload:after{background-position:-14px -66px;height:22px!important;width:18px!important}.jpx-video-controls.jpx-video-controls-medium>.jpx-video-control-unmuted:after,.jpx-video-controls>.jpx-video-control-unmuted:after{background-position:-14px -88px;height:22px!important;width:18px!important}.jpx-video-controls.jpx-video-controls-big>.jpx-video-control-mute:after{background-position:-32px 0;height:24px!important;width:21px!important}.jpx-video-controls.jpx-video-controls-big>.jpx-video-control-pause:after{background-position:-32px -22px;height:24px!important;width:22px!important}.jpx-video-controls.jpx-video-controls-big>.jpx-video-control-play:after{background-position:-32px -44px;height:22px!important;width:21px!important}.jpx-video-controls.jpx-video-controls-big>.jpx-video-control-reload:after{background-position:-32px -66px;height:24px!important;width:24px!important}.jpx-video-controls.jpx-video-controls-big>.jpx-video-control-unmuted:after{background-position:-32px -88px;height:24px!important;width:21px!important}.jp-video-wrapper{position:relative}.jp-video-wrapper>.jpx-video-controls{align-content:stretch;align-items:center;bottom:10px;display:flex;flex-direction:row;left:0;margin:0 auto;overflow:hidden;pointer-events:auto;position:absolute;right:0;width:100%}.jp-video-wrapper>.jpx-video-controls>[class*=jpx-video-control-]{flex:5%;height:18px;opacity:.7;position:relative;text-align:center;transition:flex .7s,opacity .7s}@media (max-width:1200px){.jp-video-wrapper>.jpx-video-controls>[class*=jpx-video-control-]{flex:12%}}.jpx-pd-wrapper .jp-video-wrapper>.jpx-video-controls>[class*=jpx-video-control-],.jpx-sa-advanced .jp-video-wrapper>.jpx-video-controls>[class*=jpx-video-control-]{flex:15%}.jpx-cf-wrapper .jp-video-wrapper>.jpx-video-controls>[class*=jpx-video-control-]{flex:12%}.jp-video-wrapper>.jpx-video-controls>[class*=jpx-video-control-]:after{background-image:url("https://s3-eu-west-1.amazonaws.com/justpremium/adr/jp-controls-test.png");background-repeat:no-repeat;content:"";display:inline-block;height:18px;width:18px}.jp-video-wrapper>.jpx-video-controls>[class*=jpx-video-control-].jpx-video-control-progress{background:hsla(0,0%,100%,.5);flex:90%;height:2px;overflow:hidden}@media (max-width:1200px){.jp-video-wrapper>.jpx-video-controls>[class*=jpx-video-control-].jpx-video-control-progress{flex:76%}}.jpx-pd-wrapper .jp-video-wrapper>.jpx-video-controls>.jpx-video-control-progress,.jpx-sa-advanced .jp-video-wrapper>.jpx-video-controls>.jpx-video-control-progress{flex:70%}.jpx-cf-wrapper .jp-video-wrapper>.jpx-video-controls>.jpx-video-control-progress{flex:78%}.jp-video-wrapper>.jpx-video-controls>[class*=jpx-video-control-].jpx-video-control-progress:after{content:none}.jp-video-wrapper>.jpx-video-controls>[class*=jpx-video-control-].jpx-video-control-progress>.jpx-video-control-buffered{background:hsla(0,0%,100%,.3);border-radius:4px;display:block;height:2px;width:0}.jp-video-wrapper>.jpx-video-controls>[class*=jpx-video-control-].jpx-video-control-progress>.jpx-video-control-buffered:after{content:none}.jp-video-wrapper>.jpx-video-controls>[class*=jpx-video-control-].jpx-video-control-progress>.jpx-video-control-progress-update{background:#fff;border-radius:10px;bottom:0;display:block;height:2px;position:absolute;width:100%}.jp-video-wrapper>.jpx-video-controls.jpx-video-controls-big>[class*=jpx-video-control-]:not([class*=-control-progress]){height:22px}'}}),l.ready().then(function(){var e=c.getElement("jp-video-wrapper-"+d.getId()),r=c.getElement("jp-api-video-controls-"+d.getId());e&&(t.appendChild(e.getDOMElement()),t.appendChild(r.getDOMElement()),d.play(),e.getDOMElement().style.display="block")}),d}}};t.default=s},14:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=s(r(19)),i=s(r(15)),a=s(r(4));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var u=s(r(1)).default.getTopScope(),l={beforeInit:{object:"jExecution",event:"beforeInit"},init:{object:"jExecution",event:"beforeFrameWrite"},afterInit:{object:"jExecution",event:"afterProductInit"},create:{object:"jExecution",event:"afterFrameWrite"},sanitize:{object:"jExecution",event:"afterProductCreate"},beforeMatch:{object:"jExecution",event:"adFrameReady"},match:{object:"jExecution",event:"afterProductRender"},beforeAdCall:{object:"jExecution",event:"beforeFrameWrite"},beforeRender:{object:"jAd",event:"afterProductRender"},hide:{object:"jProduct",event:"afterHide"},show:{object:"jProduct",event:"beforeShow"}},d=new WeakMap,p=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this)),o=n;r=r||{};var i={};return i.di=r.di||{},d.set(o,i),n}return c(t,e),t.prototype.setDependency=function(e,t){return d.get(this).di[e]=t,this.publish(e+"DependencySet",[t]),this},t.prototype.sandbox=function(e){var t=this;t._scope||(t._scope=new function(){},t._extendScope(t._scope)),o.default.warn("JHelperCompatibilityAdapter: executing legacy code.");try{e=t._extendFnBody(e),new Function(e).apply(t._scope)}catch(r){o.default.log(e),o.default.error(r),o.default.error(e),t.publish("initError",[r])}},t.prototype.whenReady=function(e){var t=this,r=d.get(t).di,n=r[e];return{then:function(o){if(n)return o(n);t.subscribe(e+"DependencySet",function(){o(r[e])})}}},t.prototype.oldAdDetected=function(e){var t=u[u.jpx_template_id],r=t&&t.format;return Array.isArray(e)||(e=[e]),e.indexOf(r)>-1},t.prototype._extendFnBody=function(e){var t=d.get(this).di;return function(){var e=void 0;try{(e=window.top).location.href}catch(t){e=window}var jpxApi=e.PRODUCTAPI_NAME||{};jpxApi.__x=jpxApi.getId()}.toString().replace("PRODUCTAPI_NAME",t.jProductApi.getId()).replace(/function\s*\(\)\s*\{?/i,"").slice(0,-1)+";"+e},t.prototype._extendScope=function(e){var t=this,r=d.get(t).di;t.whenReady("jModel").then(function(){e.format=r.jModel.getFormat()}),e.logger=o.default;var a=function(r,n,i,a){r.subscribe(i,function(){try{a.apply(e)}catch(e){throw o.default.error(e),o.default.error(a.toString()),t.error(902,{event:n})}})};return e.addCallback=function(e,r){try{var n=l[e],i=d.get(t).di,s=i[n.object];s?a(s,e,n.event,r):t.subscribe(n.object+"DependencySet",function(){var t=i[n.object];a(t,e,n.event,r)})}catch(e){throw o.default.error(e),t.error(901)}},e.fail=function(e){},e.product=function(){return{callback:{add:function(t,r){e.addCallback(t,r)}}}},e.$_assign=function(e,t){return n(e,t)},u.jpx_template_id=t.getId(),u[u.jpx_template_id]=e,e.direction="r"===i.default.direction(u.document.body)||"r"===i.default.direction(u.document.getElementsByTagName("html")[0])?"r":null,e.$_helpers={JHelperDOM:i.default},t},t}(a.default);t.default=p},15:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(2));o(r(42));function o(e){return e&&e.__esModule?e:{default:e}}var i=o(r(1)).default.getTopScope(),a={getId:function(){return"JHelperDOM"},getElementValue:function(e,t){return e?i.getComputedStyle&&i.getComputedStyle(e,null)?i.getComputedStyle(e,null).getPropertyValue(t):e.style[t]:""},getElementRealSize:function(e){var t=i.getComputedStyle(e,null);return{width:parseFloat(t.getPropertyValue("width").replace("px","")),height:parseFloat(t.getPropertyValue("height").replace("px",""))}},applyStyle:function(e,t,r,n){n=void 0!==n?n:"",e.style.setProperty(this.prefix.css+t,r),e.style.setProperty(t,r,n)},clearUnresolvedTransitionListeners:function(e){var t=void 0;if(e._transitionOnceListeners)for(;t=e._transitionOnceListeners.shift();)this.transitionEnd?e.removeEventListener(this.transitionEnd,t):t.cancel()},getNaturalImageSize:function(e){return{height:e.naturalHeight,width:e.naturalWidth}},loadImage:function(e){return new Promise(function(t,r){var n=new Image;n.crossOrigin="anonymous",n.onload=function(){var e=document.createElement("canvas");e.width=n.naturalWidth,e.height=n.naturalHeight,e.getContext("2d").drawImage(n,0,0),t(e.toDataURL("image/png"))},n.onerror=t,n.src=e})},onTransitionEnd:function(e,t,r){var o=this;if(e._transitionOnceListeners=e._transitionOnceListeners||[],o.transitionEnd){var i=function r(n){e.removeEventListener(o.transitionEnd,r);for(var i=e._transitionOnceListeners.length,a=-1,s=0;s<i;s++)e._transitionOnceListeners[s]===r&&(a=s);return a>-1&&e._transitionOnceListeners.splice(a,1),t(n)};e.addEventListener(o.transitionEnd,i),e._transitionOnceListeners.push(i)}else e._transitionOnceListeners.push(n.default.delay(o,t,r||500))},fixIframeMouseMove:function(e,t){return!t||void i.location.hostname?this.transferIframeMouseMove(e):function(){}},transferIframeMouseMove:function(e){var t=function(){return n.default.delay({getId:function(){return"transferIframeMouseMove"}},function(){if(!e.contentWindow)return!1;try{e.contentWindow.onmousemove}catch(e){return!1}var t=e.contentWindow.onmousemove;e.contentWindow.onmousemove=function(r){t&&t(r);var n=e.getBoundingClientRect(),o=n.width/e.offsetWidth,a=n.height/e.offsetHeight,s=void 0;try{(s=document.createEvent("MouseEvents")).initMouseEvent("mousemove",!0,!1,i,r.detail,r.screenX,r.screenY,n.left+r.clientX*o+i.document.body.scrollLeft,n.top+r.clientY*a+i.document.body.scrollTop,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,null)}catch(e){s=new i.MouseEvent("mousemove",{bubbles:!0,view:i,canBubble:!0,cancelable:!1,detail:r.detail,screenX:r.screenX,screenY:r.screenY,clientX:n.left+r.clientX*o+i.document.body.scrollLeft,clientY:n.top+r.clientY*a+i.document.body.scrollTop})}e.dispatchEvent(s)}},1)};if(e.contentWindow)t();else{var r=!0;e.onload=function(){r&&(r=!1,t())}}},direction:function(e){return e&&e.style&&("rtl"===e.dir||"rtl"===e.style.direction)?"r":"l"},getParentAndIndex:function(e,t){var r=void 0,n=e,o=null;switch(t){case"before_sibling":n=e.parentNode,o=(r=Array.prototype.slice.call(n.children)).indexOf(e);break;case"after_sibling":n=e.parentNode,o=(r=Array.prototype.slice.call(n.children)).indexOf(e),o+=1;break;case"before":n=e.parentNode,n=(r=Array.prototype.slice.call(n.children))[o=r.indexOf(e)],o=0}return{parent:n,index:o}},prefix:function(){var e=i.getComputedStyle(i.document.documentElement,""),t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return{dom:"WebKit|Moz|MS|O".match(new RegExp("("+t+")","i"))[1],lowercase:t,css:"-"+t+"-",js:t[0].toUpperCase()+t.substr(1)}}(),transitionEnd:function(){var e=document.createElement("fakeelement"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var r in t)if(void 0!==e.style[r])return t[r]}()};t.default=a},18:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(26)),o=a(r(19)),i=a(r(42));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var c=new WeakMap,u=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r)),o=n,i={};return c.set(o,i),i.di=r.di,o._setPrefix(i.layer),o._bindEvents(),n}return s(t,e),t.prototype._bindEvents=function(){var e=c.get(this).di.jDOM;this._promises.push(new Promise(function(t){e.subscribe("afterRender",function(){t()})}))},t.prototype._bindVastSources=function(){var e=this,t=c.get(e),r=t.di.jModel,n=t.di.jDOM;r.getData("videos").forEach(function(t,o){n.createElement(e.getPrefix()+"source-"+o+"-"+e.getId(),{tag:"source",parent:e.getPrefix()+"container-"+e.getId(),attributes:{src:t,type:r.getData("types")[o]}})})},t.prototype._bindVastEvents=function(){var e=this,t=c.get(e).di.jModel,r=i.default.instance();e.subscribe("viewable",function(){t.getEvents("viewableImpression.viewable").forEach(function(e,t){r.externalTrack("Vast:viewableImpression:viewable:"+(t+1),e)})}),e.subscribe("notViewable",function(){t.getEvents("viewableImpression.notViewable").forEach(function(e,t){r.externalTrack("Vast:viewableImpression:notViewable:"+(t+1),e)})}),e.subscribe("viewUndetermined",function(){t.getEvents("viewableImpression.viewUndetermined").forEach(function(e,t){r.externalTrack("Vast:viewableImpression:viewUndetermined:"+(t+1),e)})}),t.getEvents("impressions").forEach(function(e,t){r.externalTrack("Vast:impressions:"+(t+1),e)}),t.getEvents("creativeView").forEach(function(e,t){r.externalTrack("Vast:creativeView:"+(t+1),e)}),e.subscribe("start",function(){t.getEvents("start").forEach(function(e,t){r.externalTrack("Vast:start:"+(t+1),e)})}),e.subscribe("pause",function(){t.getEvents("pause").forEach(function(e,t){r.externalTrack("Vast:pause:"+(t+1),e)})}),e.subscribe("resume",function(){t.getEvents("resume").forEach(function(e,t){r.externalTrack("Vast:resume:"+(t+1),e)})}),e.subscribe("complete",function(){t.getEvents("complete").forEach(function(e,t){r.externalTrack("Vast:ended:"+(t+1),e)})}),e.subscribe("mute",function(){t.getEvents("mute").forEach(function(e,t){r.externalTrack("Vast:mute:"+(t+1),e)})}),e.subscribe("unmute",function(){t.getEvents("unmute").forEach(function(e,t){r.externalTrack("Vast:unmute:"+(t+1),e)})}),e.subscribe("firstQuartile",function(){t.getEvents("firstQuartile").forEach(function(e,t){r.externalTrack("Vast:firstQuartile:"+(t+1),e)})}),e.subscribe("midpoint",function(){t.getEvents("midpoint").forEach(function(e,t){r.externalTrack("Vast:midpoint:"+(t+1),e)})}),e.subscribe("thirdQuartile",function(){t.getEvents("thirdQuartile").forEach(function(e,t){r.externalTrack("Vast:thirdQuartile:"+(t+1),e)})}),e.subscribe("rewind",function(){t.getEvents("rewind").forEach(function(e,t){r.externalTrack("Vast:rewind:"+(t+1),e)})})},t.prototype._bindVideoEvents=function(){e.prototype._bindVideoEvents.call(this,{sdk:"VAST",type:"video-only"})},t.prototype._createVastResource=function(){var e=this,t=c.get(e).di,r=t.jDOM,n=t.jModel.getData("resources.jsResource");n&&0!==n.length&&(r.createElement(e.getPrefix()+"vast-res",{tag:"div",parent:e.getPrefix()+"wrapper-"+e.getId(),attributes:{class:e.getPrefix()+"vast-res"}}),n.forEach(function(t){r.createElement(e.getPrefix()+"vast-res-source"+Math.floor(1e8*Math.random()),{tag:"script",parent:e.getPrefix()+"vast-res",attributes:{src:t}})}))},t.prototype._prepareVideo=function(){var e=this;return c.get(e).di.jModel.ready().then(function(){e._createVastResource()}).then(function(){o.default.info("JPlayerVast: Vast loaded."),e._bindVastSources(),e._bindVastEvents(),e._bindVideoEvents(),e._bindControlsEvents(),e.publish("vastPlayerReady",[e]),o.default.info("JPlayerVast: Ready to play.")}).catch(function(t){e.publish("vastError",[t]),o.default.error(t)}),e},t.prototype.ready=function(){return Promise.all(this._promises).then(function(e){return e})},t}(n.default);t.default=u},19:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(217)),o=s(r(437)),i=s(r(1)),a=s(r(4));function s(e){return e&&e.__esModule?e:{default:e}}var c={_debug:!1,_logLineNumber:!0,_filters:{include:n.default.read("JHelperLogger#_filters.include")||[],exclude:n.default.read("JHelperLogger#_filters.exclude")||[]},_filter:function(e){var t=c._filters,r=!0,n=!1;return t.include.length&&(r=!!t.include.find(function(t){return(e||"").search(t)>-1})),t.exclude.length&&(n=!!t.exclude.find(function(t){return(e||"").search(t)>-1})),r&&!n},_getExecutionLine:function(e){var t="";if(!i.default.isChrome()&&!i.default.isSafari())return"";try{throw new Error}catch(a){for(var r=a.stack.replace("Error\n","").replace(/    at /g,"-> ").split("\n");c._isInternalFn(r[0]);)r.shift();if(i.default.isChrome()){if(e)t=r.join("\n");else if(r[0]){var n=r[0].match(/\s\(.*\)/);t=n?n[0]?n[0]:"":"("+r[0].replace("-> ","")+")"}}else if(e)t=r.join("\n");else if(r[0]){var o=r[0].match(/\@(.*)/);t=o?o[0]?o[0]:"":"@"+r[0]}}return t},_isInternalFn:function(e){return!!["_getExecutionLine","log","info","warn","error"].find(function(t){return e.search(function(e){return i.default.isChrome()?"."+e:i.default.isSafari()?e+"@":e}(t))>-1})},_saveFilters:function(){var e=c._filters;n.default.save("JHelperLogger#_filters.include",e.include),n.default.save("JHelperLogger#_filters.exclude",e.exclude)},alwaysLog:function(e,t,r){var n=c._debug;c._debug=!0,c[e](t,r),c._debug=n},log:function(e,t){if(c._debug){var r="padding: 2px; background: rgba(0, 0, 0, 0.5); color: rgba(255, 255, 255, 1);";if(c._filter(e)){var n=c._getExecutionLine();t=t||"","String"===a.default.getType(e)?console.log("%c("+o.default.format(o.default.now())+")%c"+e,r,t):console.log("%c("+o.default.format(o.default.now())+")%c"+a.default.getType(e),r,t,e),n.length&&console.log(n)}}},warn:function(e){return c.log(e,"padding: 2px; background: rgba(255, 153, 0, 0.3); color: rgba(255, 153, 0, 1);"),this},info:function(e){return c.log(e,"padding: 2px; background: rgba( 0, 153, 204, 0.3); color: rgba( 0, 153, 204, 1);"),this},error:function(e){return c.log(e,"padding: 2px; background: rgba(255, 0, 0, 0.3); color: rgba(255, 0, 0, 1);"),this},table:function(e){if(c._debug)return console.table?console.table(e):c.log(e),this},debug:function(e){c._debug=!!e},filterInclude:function(e){c._filters.include.push(e),c._saveFilters()},filterExclude:function(e){c._filters.exclude.push(e),c._saveFilters()},clear:function(){c._filters.exclude.length=0,c._filters.include.length=0,c._saveFilters()}};c.debug(!1),t.default=c},2:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={objects:{},win:window,cancelAllInObj:function(e){for(var t=e.getId(),r=n.objects[t],o=void 0;o=r.pop();)o.clear()},cancelAll:function(){Object.keys(n.objects).forEach(function(e){for(var t=void 0;t=n.objects[e].pop();)t.clear()})},delay:function(e,t,r){var o=e.getId(),i=n.objects[o]=n.objects[o]||function(){var e=[];return e.add=function(t){var r=function(){var r=-1;e.find(function(e,n){e.id===t&&(r=n)}),r>-1&&(e.splice(r,1),n.win.clearTimeout(t))};return e.push({id:t,clear:r}),r},e}(),a=void 0,s=void 0,c=new Promise(function(e,t){a=e,s=t}),u=i.add(n.win.setTimeout(function(){u();try{a(t?t():{})}catch(e){s(e)}},r||0));return u.promise=function(){return c},u},getObjectRunningTasks:function(e){return n.objects[e.getId()]||[]},window:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){n.win=e||window})};t.default=n},217:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(1)).default.getTopScope(),o={prefix:"jpx-",decode:function(e){return JSON.parse(e)},encode:function(e){return JSON.stringify(e)},read:function(e){try{var t=n.localStorage;if(!t)return!1;var r=t.getItem(this.prefix+e);return!!r&&(r=this.decode(r))}catch(e){return!1}},save:function(e,t){try{var r=n.localStorage;return!!r&&r.setItem(this.prefix+e,this.encode(t))}catch(e){return!1}}};t.default=o},218:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(4));o(r(1));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var a=new WeakMap,s=function(e){function t(r,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));o=o||{};var s=i;return a.set(i,{scope:o.isolatedScope&&"boolean"==typeof o.isolatedScope?i._createIsolatedScope():Promise.resolve(o.isolatedScope||window)}),"SCRIPT"===r?s._createPromise(n):s._createXHRPromise(r,n,o),i}return i(t,e),t.prototype._createIsolatedScope=function(){var e=window.document,t=document.createElement("iframe"),r="<body></body>";return t.setAttribute("style","position: fixed; top: -9999px; left: -9999px;"),t.setAttribute("frameborder","0"),e.body?(e.body.appendChild(t),t.contentWindow.document.open(),t.contentWindow.document.write(r),t.contentWindow.document.close(),Promise.resolve(t.contentWindow)):new Promise(function(n){e.addEventListener("DOMContentLoaded",function(){e.body.appendChild(t),t.contentWindow.document.open(),t.contentWindow.document.write(r),t.contentWindow.document.close(),n(t.contentWindow)},!1)})},t.prototype._createPromise=function(e){var t=a.get(this);this._promise=t.scope.then(function(t){return new Promise(function(r,n){var o=document.createElement("script");o.onload=function(){r({scope:t})},o.onerror=function(e){n(e)},o.src=e,t.document.head.appendChild(o)})})},t.prototype._createXHRPromise=function(e,t,r){var n=a.get(this);this._promise=n.scope.then(function(n){return new Promise(function(o,i){var a=new n.XMLHttpRequest;a.onreadystatechange=function(){if(4===a.readyState){var e=a.status;if(e>=200&&e<300||304===e){if(r.json)try{var t=JSON.parse(a.responseText);o(t)}catch(e){return i(e)}return o(a.responseText)}i(new Error(a.statusText))}},a.onerror=function(){var e=new Error(this.statusText||"Can't retrieve response from "+t);e.code=221,i(e)},"withCredentials"in a&&(a.withCredentials=!0),a.open(e,t,!0),r.json&&a.setRequestHeader("Content-Type","text/plain"),"POST"===e||"PUT"===e?(r.json&&(r.body=JSON.stringify(r.body)),a.send(r.body)):a.send()})})},t.prototype.ready=function(){return this._promise},t.get=function(e,r){return new t("GET",e,r)},t.post=function(e,r){return new t("POST",e,r)},t.script=function(e,r){return new t("SCRIPT",e,r)},t}(n.default);t.default=s},22:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(4)),o=s(r(2)),i=s(r(1)),a=s(r(121));s(r(11)),s(r(18));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var u=new WeakMap,l=i.default.getTopScope(),d=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this)),o=n;return o._setPrivates(r),o._bindEvents(),n}return c(t,e),t.prototype.addSheet=function(e){var t=u.get(this);u.get(this).di.jDOM.createElement("stylesheet-api-"+t.counter++,{tag:"style",parent:"@head",attributes:{type:"text/css",class:"jpx-stylesheet"},properties:{content:"/* JPX custom stylesheet */ "+e}})},t.prototype.clearInit=function(e){if(!e||-1===e||void 0==e||"function"!=typeof e)throw new Error("The function is empty.\n");this.whenReady("jProduct").then(function(t){t.subscribe("afterDestroy",e)})},t.prototype.close=function(){var e=u.get(this),t=e.di;e.productShow?t.jProduct.hide():this.whenReady("jProduct").then(function(e){e.subscribe("afterShow",function(e){t.jProduct.hide()})})},t.prototype.geo=function(){var e=u.get(this).di;if(e.jTracking)return e.jTracking.geo()},t.prototype.loadJcl=function(e,t){var r=u.get(this).di;try{this._loadJcl(e,t)}catch(e){e.code=403,this.publish("apiExecError",[e,r&&r.jModel||{}])}},t.prototype.getInnerScope=function(){var e=u.get(this).di;return e.localWindow||e.window},t.prototype.isMobile=function(){return i.default.isMobile()},t.prototype.onNativeEvent=function(e,t){if(!e)throw new Error("The state provided is empty.\n");if(!t||-1===t||void 0==t||"function"!=typeof t)throw new Error("The function is empty.\n");l.addEventListener(e,t)},t.prototype.setDependency=function(e,t){return u.get(this).di[e]=t,this.publish(e+"DependencySet",[t]),this},t.prototype.setSiteWidth=function(e){var t=u.get(this).di,r=t.jModel;t.jExecution.subscribe("adFrameReady",function(){r.addProperty("site.width",e)})},t.prototype.createVastVideo=function(e,t,r){var n=u.get(this);this.whenReady("jProduct").then(function(){n.players[e]=a.default.createVideo(n,t,r,e)})},t.prototype.videoEvent=function(e,t,r){var n=u.get(this);this.whenReady("jProduct").then(function(){n.players[t]&&n.players[t].subscribe(e,r)})},t.prototype.track=function(e,t){var r=u.get(this).di;r.jTracking&&r.jTracking.initCustomTracking(e,t)},t.prototype.whenReady=function(e){var t=this,r=u.get(t).di;return{then:function(n){var i=void 0,a=new Promise(function(e){i=e}),s=r[e];if(s){var c=n(s);return o.default.delay(t,function(){i(c)}),a}return t.subscribe(e+"DependencySet",function(){i(n(r[e]))}),a}}},t.prototype._bindEvents=function(){var e=u.get(this);this.whenReady("jProduct").then(function(t){t.subscribe("afterShow",function(t){e.productShow=!0})})},t.prototype._setPrivates=function(e){e=e||{};var t={};return t.di=e.di||{},l[this.getId()]=this,u.set(this,t),t.productShow=!1,t.counter=0,t.players={},t},t.prototype._loadJcl=function(e,t){var r=this,n=u.get(r).di,o=n.jModel&&n.jModel.getData()||{},i=e.responsive,a=e.format||o.format,s=e.layer,c=e.height,d=e.width,p=e.h,f=e.b,h=e.f;if(void 0===a)throw new Error("Format not found.");"ca"===a||"ci"===a||"fi"===a||"hi"===a||"mt"===a?i=!0:"wp"===a&&"top"===s&&(i=!0);var g=void 0;if((g=t.jpx_ad_config?t.jpx_ad_config:n.jModel.getData("config"))&&g.layout&&g.layout.responsive&&(i=!0),"cf"===a&&!i){var v=new Error("Classic Floorad should be always responsive. Passed params "+JSON.stringify({responsive:e.responsive,format:e.format,height:e.height}));v.code=401,r.publish("apiExecError",[v,n.jModel||{}])}var m=document.createElement("iframe");if(m.scrolling="no",m.style.border="0px",m.style.display="block",m.style.scrolling="no",m.width=i?"100%":d,m.height=i?"100%":c,"is"===a?(m.style.width=i?"100vw":d+"px",m.style.height=i?"100vh":d+"px"):(m.style.width=i?"100%":d+"px",m.style.height=i?"100%":c+"px"),"wp"===a&&s){var y=void 0;m.className="jcl-wrapper","global"===s?t.window.document.body.appendChild(m):(y="jpx-wp-layer-"+s,(t=l.document.getElementById(y)).appendChild(m))}else m.className="jcl-wrapper",t.document.body.appendChild(m);var b="<script>let currWindow;try{currWindow = window.top;let test = currWindow.location.href;}catch (e) {currWindow = window;} var jpxApi = currWindow."+r.getId()+"; window.jpxOnReady = function (cb) {cb(jpxApi)};<\/script>",w=(p=p.replace("</head>",b+"</head>"))+f+h;s&&"global"!==s&&(m.onload=function(){r.publish(s+"AfterFrameWrite",[r,m,n])}),m.contentWindow.document.open(),m.contentWindow.document.write(w),m.contentWindow.document.close()},t}(n.default);t.default=d},221:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(1)).default.getTopScope(),o={getToTopScrolled:function(){var e=n.document,t=n.innerHeight||(e.documentElement||e.body).clientHeight,r=function(){var e=n.document;return Math.max(e.body.scrollHeight,e.documentElement.scrollHeight,e.body.offsetHeight,e.documentElement.offsetHeight,e.body.clientHeight,e.documentElement.clientHeight)}()-t,o=n.pageYOffset||(e.documentElement||e.body.parentNode||e.body).scrollTop;return{pixel:o,percent:o/r}},getDocHeight:function(e){var t=e;return Math.max(t.body.scrollHeight,t.documentElement.scrollHeight,t.body.offsetHeight,t.documentElement.offsetHeight,t.body.clientHeight,t.documentElement.clientHeight)},getElementRects:function(e){var t=e.getBoundingClientRect();return{offset:Math.round(e.offsetHeight),top:Math.round(t.top),bottom:Math.round(t.bottom),height:Math.round(t.height)}},getPositionFromTop:function(e){return e.getBoundingClientRect().top+n.scrollY||""},checkCorrectPosition:function(e){var t=e.getBoundingClientRect().top+n.scrollY||2e3,r=this.getToTopScrolled(),o=n.innerHeight||(doc.documentElement||doc.body).clientHeight,i=r.pixel;return!(i+o<t-o*(2/3))&&(-1*(t-(o+i))<=e.getBoundingClientRect().height||t+e.getBoundingClientRect().height+t-(o+i)>0)}};t.default=o},25:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(r(119)),o=c(r(4)),i=c(r(84)),a=c(r(43)),s=(c(r(19)),c(r(22)));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}r(438);var l=new WeakMap,d=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this)),o=n,i={},a=(r=r||{}).di||{};return o._validateConstructorArguments(r),l.set(o,i),i.di=a,o._setPrefix(),n}return u(t,e),t.prototype._afterShow=function(){var e=l.get(this).di,t=e.jDOM,r=e.jAdFrame.getJDOMElement("wrapper");return this.publish("afterShow",[this,t,r]),this},t.prototype._beforeShow=function(){var e=l.get(this).di,t=e.jDOM,r=e.jAdFrame;return this.publish("beforeShow",[this,t,r]),this},t.prototype._setPrefix=function(){throw this.error(104,{class:t.constructor.name,method:"setPrefix"})},t.prototype._show=function(){throw this.error(104,{class:t.constructor.name,method:"_show"})},t.prototype._validateConstructorArguments=function(e){var t=e.di||{};if(!(t.jDOM instanceof n.default))throw this.error(100,{class:this.constructor.name,parameter:"jDOM",instance:"JDOM"});if(!(t.jModel instanceof i.default))throw this.error(100,{class:this.constructor.name,parameter:"jModel",instance:"JModel"})},t.prototype.appendTo=function(e){return l.get(this).di.jDOM.appendTo(e),this.publish("afterAppend",[this]),this},t.prototype.bindEvents=function(){throw this.error(104,{class:t.constructor.name,method:"bindEvents"})},t.prototype.destroy=function(){var e=l.get(this).di;e.jDOM.destroy(),e.jAdFrame.destroy(),this.publish("afterDestroy",[this])},t.prototype.getPrefix=function(){return this._prefix},t.prototype.hide=function(){throw this.error(104,{class:t.constructor.name,method:"hide"})},t.prototype.render=function(){var e=this,t=l.get(e).di;return e.publish("beforeDOMRender",[e,t.jDOM]),t.jDOM.renderDOM(),e.bindEvents(),e.publish("afterDOMRender",[e,t.jDOM]),e},t.prototype.setup=function(){throw this.error(104,{class:t.constructor.name,method:"setup"})},t.prototype.show=function(){this._beforeShow(),this._show(),this._afterShow()},t.factory=function(e){return new(0,e.di.constructor)({di:e.di})},t.getModel=function(e){var t=e.product,r=e.model;return r.width=t.width,r.height=t.height,r.site=e.global.site,new i.default({data:r})},t.getAdFrame=function(e){return new a.default(e)},t.getProductApi=function(e){return new s.default(e)},t}(o.default);t.default=d},26:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(4)),o=a(r(2)),i=a(r(19));a(r(1));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var c=new WeakMap,u=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r)),o=n,i={};return c.set(o,i),i.di=r.di,i.prefix=r.prefix,i.playerOpts=r.options||{},i.playerOpts.muted=!0,i.playerOpts.centerPlayButton=i.playerOpts.centerPlayButton||!1,i.playerOpts.customControls=void 0===i.playerOpts.customControls||i.playerOpts.customControls,o._promises=[],o._deffer={},o._promises.push(new Promise(function(e,t){o._deffer.resolve=e,o._deffer.reject=t})),o._isMuted=i.playerOpts.muted||!1,o._isPlaying=!1,o._started=!1,o._videoCursorPosition=0,o._playCount=0,i.progressBarInterval=function(){},i.pastEvents={started:!1,firstQuartile:!1,midpoint:!1,thirdQuartile:!1,completed:!1},n}return s(t,e),t.prototype._bindControlsEvents=function(){var e=this,t=c.get(e),r=t.di.jDOM;t.playerOpts.customControls&&(e.subscribe("progress",function(){r.getElement(e.getPrefix()+"control-progress-update-"+e.getId()).setStyle("width",e.getCurrentTimeInPercent()+"%")}),e.subscribe("ended",function(){var n=r.getElement(e.getPrefix()+"control-play-"+e.getId());r.getElement(e.getPrefix()+"control-progress-update-"+e.getId()).setStyle("width","0"),t.progressBarInterval(),n.addClass("jpx-video-control-play"),n.addClass("jpx-video-control-reload")}))},t.prototype._bindFocusEvent=function(){var e=this;c.get(e).di.jDOM.getScope().addEventListener("focus",function(){e.publish("focus",[e])})},t.prototype._bindMuteEvent=function(e){var t=this;c.get(t).di.jDOM.getScope().addEventListener("blur",function(){t.publish("blur",[t,e]),e&&e.fromApi||t.pause()},!1)},t.prototype._bindVideoEvents=function(e){var t=this,r=c.get(t),n=r.di.jTracking,o="CUSTOM",i="custom-rich-media";e&&(o=e.sdk,i=e.type);var a={player:{sdk:o,height:0,width:0,id:r.di.videoName?r.di.videoName:""},creative:{type:i},action:{},site:{}},s=a.player,u=a.action;t.subscribe("richVideo",function(){a.creative.type="rich-video"}),t.subscribe("complete",function(){s.height=t.getVideoHeight(),s.width=t.getVideoWidth(),u.type="COMPLETE",u.emitted="auto",u.playback=t.getCurrentTime(),n.videoTracking([a])}),t.subscribe("firstQuartile",function(){s.height=t.getVideoHeight(),s.width=t.getVideoWidth(),u.type="FIRST_QUARTILE",u.emitted="auto",u.playback=t.getCurrentTime(),n.videoTracking([a])}),t.subscribe("midpoint",function(){s.height=t.getVideoHeight(),s.width=t.getVideoWidth(),u.type="MIDPOINT",u.emitted="auto",u.playback=t.getCurrentTime(),n.videoTracking([a])}),t.subscribe("pauseClicked",function(){s.height=t.getVideoHeight(),s.width=t.getVideoWidth(),u.type="PAUSED",u.emitted="user",u.playback=t.getCurrentTime(),n.videoTracking([a])}),t.subscribe("pause",function(){s.height=t.getVideoHeight(),s.width=t.getVideoHeight(),u.type="PAUSED",u.emitted="auto",u.playback=t.getCurrentTime(),t.getCurrentTimeInPercent()<98&&n.videoTracking([a])}),t.subscribe("play",function(){t.isPlaying()||(s.height=t.getVideoHeight(),s.width=t.getVideoWidth(),u.type="PLAY",u.emitted="auto",u.playback=t.getCurrentTime(),n.videoTracking([a]))}),t.subscribe("resume",function(){s.height=t.getVideoHeight(),s.width=t.getVideoWidth(),u.type="RESUMED",u.emitted="auto",u.playback=t.getCurrentTime(),n.videoTracking([a])}),t.subscribe("rewind",function(){s.height=t.getVideoHeight(),s.width=t.getVideoWidth(),u.type="REWIND",u.emitted="auto",u.playback=t.getCurrentTime(),n.videoTracking([a])}),t.subscribe("start",function(){s.height=t.getVideoHeight(),s.width=t.getVideoWidth(),u.type="STARTED",u.emitted="auto",u.playback=t.getCurrentTime(),n.videoTracking([a])}),t.subscribe("playClicked",function(){s.height=t.getVideoHeight(),s.width=t.getVideoWidth(),u.type="PLAY",u.emitted="user",u.playback=t.getCurrentTime(),n.videoTracking([a])}),t.subscribe("thirdQuartile",function(){s.height=t.getVideoHeight(),s.width=t.getVideoWidth(),u.type="THIRD_QUARTILE",u.emitted="auto",u.playback=t.getCurrentTime(),n.videoTracking([a])}),t.subscribe("userClose",function(){s.height=t.getVideoHeight(),s.width=t.getVideoWidth(),u.type="USER_CLOSE",u.emitted="user",u.playback=t.getCurrentTime(),n.videoTracking([a])}),t.subscribe("unmuteClicked",function(){s.height=t.getVideoHeight(),s.width=t.getVideoWidth(),u.type="VOLUME_CHANGED",u.emitted="user",u.playback=t.getCurrentTime(),n.videoTracking([a])}),t.subscribe("unmute",function(){t.isMuted()&&(s.height=t.getVideoHeight(),s.width=t.getVideoWidth(),u.type="VOLUME_CHANGED",u.emitted="auto",u.playback=t.getCurrentTime(),n.videoTracking([a]))}),t.subscribe("mute",function(){t.isMuted()||(s.height=t.getVideoHeight(),s.width=t.getVideoWidth(),u.type="VOLUME_MUTED",u.emitted="auto",u.playback=t.getCurrentTime(),n.videoTracking([a]))}),t.subscribe("muteClicked",function(){s.height=t.getVideoHeight(),s.width=t.getVideoWidth(),u.type="VOLUME_MUTED",u.emitted="user",u.playback=t.getCurrentTime(),n.videoTracking([a])})},t.prototype._bindVideoSources=function(){var e=this,t=c.get(e),r=t.di.jModel,n=t.di.jDOM;r.getData("sources").forEach(function(t,r){n.createElement(e.getPrefix()+"source-"+r+"-"+e.getId(),{tag:"source",parent:e.getPrefix()+"container-"+e.getId(),attributes:{src:t.src,type:t.type}})})},t.prototype._checkVideoCursorPosition=function(){var e=this,t=c.get(e),r=e.getCurrentTime()/e.getDuration()*100,n=t.pastEvents;return r<25&&n.thirdQuartile&&!n.completed&&(e.publish("complete",[e]),n.completed=!0),r>=100&&!n.completed?(n.completed=!0,e.publish("complete",[e])):r>=25&&r<50&&!n.firstQuartile?(n.firstQuartile=!0,e.publish("firstQuartile",[e])):r>=50&&r<75&&!n.midpoint?(n.midpoint=!0,e.publish("midpoint",[e])):r>75&&r<100&&!n.thirdQuartile?(n.thirdQuartile=!0,e.publish("thirdQuartile",[e])):void 0},t.prototype._createButtons=function(){this._hasButtons=!0,this._createButtonPlay(),this._createProgressBar(),this._createButtonSound()},t.prototype._createButtonsContainer=function(){var e=this;c.get(e).di.jDOM.createElement(e.getPrefix()+"controls-"+e.getId(),{tag:"div",parent:e.getPrefix()+"wrapper-"+e.getId(),attributes:{class:"jpx-video-controls"}}),e._createButtons()},t.prototype._createButtonPlay=function(){var e=this,t=c.get(e).di.jDOM;t.createElement(e.getPrefix()+"control-play-"+e.getId(),{tag:"div",parent:e.getPrefix()+"controls-"+e.getId(),events:{click:{listener:function(r){var n=t.getElement(e.getPrefix()+"control-play-"+e.getId()),o=t.getElement(e.getPrefix()+"control-mute-"+e.getId());e.isPlaying()?(e.pause(),n.addClass("jpx-video-control-play"),e.publish("pauseClicked",[r])):(e.play(),e.unmute(),n.removeClass("jpx-video-control-play"),n.removeClass("jpx-video-control-reload"),o.addClass("jpx-video-control-unmuted"),e.publish("playClicked",[r]))}}},attributes:{title:"Click to play",class:"jpx-video-control-pause jpx-video-control-play"}})},t.prototype._createButtonSound=function(){var e=this,t=c.get(e).di.jDOM;t.createElement(e.getPrefix()+"control-mute-"+e.getId(),{tag:"div",parent:e.getPrefix()+"controls-"+e.getId(),events:{click:{listener:function(r){var n=t.getElement(e.getPrefix()+"control-mute-"+e.getId());e.isMuted()?(t.getElement(e.getPrefix()+"control-mute-"+e.getId()).setAttribute("title","Click to mute"),e.unmute(),n.addClass("jpx-video-control-unmuted"),e.publish("unmuteClicked",[r])):(t.getElement(e.getPrefix()+"control-mute-"+e.getId()).setAttribute("title","Click to unmute"),e.mute(),n.removeClass("jpx-video-control-unmuted"),e.publish("muteClicked",[r]))}}},attributes:{title:"Click to mute",class:"jpx-video-control-mute"}})},t.prototype._createCenterPlayButton=function(e){var t=this;c.get(t).di.jDOM.createElement(t.getPrefix()+"controls-button-play-"+t.getId(),{tag:"div",parent:e,events:{click:{listener:function(){t.play()}}},attributes:{title:"Click to play",class:t.getPrefix()+"control-play jpx-wp-controls-play"}})},t.prototype._createProgressBar=function(){var e=this,t=c.get(e).di.jDOM;t.createElement(e.getPrefix()+"control-progress-"+e.getId(),{tag:"div",parent:e.getPrefix()+"controls-"+e.getId(),attributes:{class:"jpx-video-control-progress"}}),t.createElement(e.getPrefix()+"control-buffered-"+e.getId(),{tag:"div",parent:e.getPrefix()+"control-progress-"+e.getId(),attributes:{class:"jpx-video-control-buffered"}}),t.createElement(e.getPrefix()+"control-progress-update-"+e.getId(),{tag:"div",parent:e.getPrefix()+"control-progress-"+e.getId(),attributes:{class:"jpx-video-control-progress-update"}})},t.prototype._createVideoContainer=function(e){var t=this,r=c.get(t),n=r.di.jStyle,o=r.di.jDOM;return o.createElement(t.getPrefix()+"wrapper-"+t.getId(),{tag:"div",parent:e,attributes:{class:t.getPrefix()+"wrapper"},events:{click:{listener:function(e){t._isPlaying||t._started||t.play()}}}}),o.createElement(t.getPrefix()+"container-"+t.getId(),{tag:"video",parent:t.getPrefix()+"wrapper-"+t.getId(),events:{canplay:{listener:function(e){t._deffer.resolve(e),t.publish("loaded",[e])}},timeupdate:{listener:function(e){t.publish("progress",[e]),t._checkVideoCursorPosition()}},play:{listener:function(e){if(t.publish("play",[e]),t._started)t.publish("resume",[e]);else{t._started=!0,t._videoCursorPosition=0,t._playCount++,t._playCount>1&&t.publish("rewind",[e]);var n=r.pastEvents;n.started||(n.started=!0,t.publish("start",[e]))}}},pause:{listener:function(e){t.publish("pause",[e]),t._isPlaying=!1;var r=o.getElement(t.getPrefix()+"control-play-"+t.getId());-1!==r&&r.addClass("jpx-video-control-play")}},ended:{listener:function(e){t._isPlaying=!1,t._started=!1,t.publish("ended",[e])}},error:{listener:function(e){t._deffer.reject(e)}}},attributes:{class:t.getPrefix()+"container-"+t.getId(),loop:!!r.playerOpts.loop&&"loop",playsinline:"playsinline",muted:"muted",controls:!!r.playerOpts.controls&&"controls",preload:!0,autoplay:"autoplay"},properties:{muted:"true"}}),n.addRule(t.getPrefix()+"container-"+t.getId(),{selector:"."+t.getPrefix()+"container-"+t.getId(),properties:{width:"100%",height:"100%","min-width":"100%",margin:"0 auto"}}),t},t.prototype._resetPastEvents=function(){var e=c.get(this);e.pastEvents.started=!1,e.pastEvents.firstQuartile=!1,e.pastEvents.midpoint=!1,e.pastEvents.thirdQuartile=!1,e.pastEvents.completed=!1},t.prototype._prepareVideo=function(){var e=this;return c.get(e).di.jModel.ready().then(function(){e._bindVideoSources(),e._bindVideoEvents(),e._bindControlsEvents(),e.publish("playerReady",[e])}).catch(function(t){e.publish("error",[t]),i.default.error(t)}),e},t.prototype._setPrefix=function(e){this._prefix=e||"jp-video-"},t.prototype.getCurrentTime=function(){var e=c.get(this).di.jDOM.getElement(this.getPrefix()+"container-"+this.getId()).getDOMElement();return e?!0===isNaN(e.currentTime)?0:e.currentTime:0},t.prototype.getCurrentTimeInPercent=function(){var e=this.getDuration(),t=this.getCurrentTime(),r=parseFloat(t/e*100);return!0===isNaN(r)?0:r},t.prototype.getDuration=function(){var e=this;if(e._duration)return e._duration;var t=c.get(e).di.jDOM.getElement(e.getPrefix()+"container-"+e.getId()).getDOMElement();return t?(e._duration=t.duration,!0===isNaN(e._duration)?0:e._duration):0},t.prototype.getPrefix=function(){return this._prefix},t.prototype.getPlayerHeight=function(){return c.get(this).di.jDOM.getElement(this.getPrefix()+"container-"+this.getId()).getDOMElement().offsetHeight},t.prototype.getPlayerWidth=function(){return c.get(this).di.jDOM.getElement(this.getPrefix()+"container-"+this.getId()).getDOMElement().offsetWidth},t.prototype.getVideoHeight=function(){return c.get(this).di.jDOM.getElement(this.getPrefix()+"container-"+this.getId()).getDOMElement().videoHeight},t.prototype.getVideoWidth=function(){return c.get(this).di.jDOM.getElement(this.getPrefix()+"container-"+this.getId()).getDOMElement().videoWidth},t.prototype.isMuted=function(){return this._isMuted},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.mute=function(){var e=this,t=c.get(e),r=t.di.jDOM,n=r.getElement(e.getPrefix()+"container-"+e.getId()).getDOMElement();return e._isMuted=!0,n.muted=!0,e.publish("mute",[e,n]),t.playerOpts.customControls&&r.getElement(e.getPrefix()+"control-mute-"+e.getId()).removeClass("jpx-video-control-unmuted"),e},t.prototype.pause=function(){var e=this,t=c.get(e),r=t.di.jDOM,n=r.getElement(e.getPrefix()+"container-"+e.getId()).getDOMElement();e._isPlaying=!1,t.progressBarInterval(),t.playerOpts.customControls&&r.getElement(e.getPrefix()+"control-play-"+e.getId()).addClass("jpx-video-control-play"),t.playerOpts.centerPlayButton&&r.getElement(e.getPrefix()+"controls-button-play-"+e.getId()).addClass(e.getPrefix()+"control-play-visible");var o=r.getElement("jpx-wp-controls-button-play");-1!=o&&o.addClass("jpx-wp-play");var i=r.getElement("jpx-wp-layer-center-video-controls-button-play");-1!=i&&i.addClass("jpx-wp-layer-center-video-play");var a=r.getElement("jpx-hv-controls-overlay");return-1!=a&&a.addClass("jpx-hv-control-overlay-visible"),n.pause()},t.prototype.play=function(){var e=this,t=c.get(e),r=t.di.jDOM,n=r.getElement(e.getPrefix()+"container-"+e.getId()).getDOMElement();return t.viewable||(t.viewableTracking=o.default.delay(e,function(){e.publish("viewable"),t.viewable=!0},2e3)),e._isPlaying=!0,e.progressBarMove(),t.playerOpts.customControls&&(r.getElement(e.getPrefix()+"control-play-"+e.getId()).removeClass("jpx-video-control-play"),r.getElement(e.getPrefix()+"control-play-"+e.getId()).removeClass("jpx-video-control-reload")),t.playerOpts.centerPlayButton&&r.getElement(e.getPrefix()+"controls-button-play-"+e.getId()).removeClass(e.getPrefix()+"control-play-visible"),n.play()},t.prototype.progressBarMove=function(){var e=this;c.get(e).progressBarInterval=o.default.delay(e,function(){e.publish("progress"),e.progressBarMove()},16)},t.prototype.ready=function(){return Promise.all(this._promises)},t.prototype.unmute=function(){var e=this,t=c.get(e),r=t.di.jDOM,n=r.getElement(e.getPrefix()+"container-"+e.getId()).getDOMElement();return e._isMuted=!1,n.muted=!1,e.publish("unmute",[e,n]),t.playerOpts.customControls&&-1!==r.getElement(e.getPrefix()+"video-control-mute")&&r.getElement(e.getPrefix()+"video-control-mute").addClass("jpx-video-control-unmuted"),e},t.prototype.setup=function(e,t){var r=this,n=c.get(r);r._setPrefix(n.prefix),r._createVideoContainer(e),r._prepareVideo(),n.playerOpts.customControls&&r._createButtonsContainer(),r._bindMuteEvent(t),r._bindFocusEvent(),n.playerOpts.centerPlayButton&&r._createCenterPlayButton(e)},t}(n.default);t.default=u},27:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=a(r(84)),i=a(r(1));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var c=new WeakMap,u=new WeakMap,l=i.default.getTopScope(),d=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=r.model;r.product&&r.product.limits&&n({},r.product.limits),o.site=r.global.site;var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,{data:o}));return u.set(i,o),i}return s(t,e),t.prototype._loadData=function(){var t=this,r=c.get(t);return e.prototype._loadData.call(this).then(function(){var e=r.di.scope&&r.di.scope.jpx_ad_config||window.jpx_ad_config||l.jpx_ad_config;e&&t.addProperty("jpxConfig",!0);try{window.top.jpx_ad_config=null}catch(e){}return t._setConfig(e),e})},t.prototype._setPrivates=function(t){var r=e.prototype._setPrivates.call(this,t);return c.set(this,r),r},t.prototype._getClickUrl=function(){var e=/href="(.*?)"/.exec(this.getCreative());return(e=e||/href='(.*?)'/.exec(this.getCreative()))&&e[1]?e[1]:""},t.prototype._setConfig=function(e){var t=u.get(this);return t.config=e||{},t.config.clickURL||(t.config=t.config||{},t.config.clickURL=this._getClickUrl()),this.publish("setConfig",[t.config]),this},t.prototype.setScope=function(e){c.get(this).di.scope=e},t}(o.default);t.default=d},28:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(25));function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var i=new WeakMap,a=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r)),o=n,a={};return i.set(o,a),a.di=r.di,n}return o(t,e),t.prototype._createBase=function(){i.get(this).di.jDOM.createElement("brandlabel",{tag:"a",attributes:{target:"_blank",href:"http://justpremium.com/sign-up-as-a-publisher/?utm_source=ccjustpremium&utm_medium=lb&utm_campaign=LIVE_9.6.5&utm_content=0x0",title:"Click for more info",class:this.getPrefix()+"brandlabel"},parent:"@root[1]"}).createElement("brandlabel-img",{tag:"div",parent:"brandlabel",attributes:{class:this.getPrefix()+"brandlabel-img"}}).createElement("close",{tag:"div",attributes:{class:this.getPrefix()+"close"},parent:"@root[1]"}).createElement("close-img",{tag:"span",parent:"close"})},t.prototype._productApiSupport=function(){var e=i.get(this).di.jDOM;i.get(this).di.jModel.getData("hideCloseButton")&&-1!==e.getElement("close")&&e.removeElement("close")},t.prototype._show=function(){var e=i.get(this).di;return e.jStyle.apply(),e.jAdFrame.show(),this},t.prototype.appendTo=function(){var t=i.get(this).di.jAdFrame;return e.prototype.appendTo.call(this,[t.getJDOMElement("wrapper").getDOMElement(),t.getJDOMElement("container").getDOMElement()]),this},t.prototype.bindEvents=function(){var e=this;i.get(e).di.jDOM.bind("close","click",function(){e.hide()})},t.prototype.hide=function(){var e=this;return i.get(e).di.jAdFrame.getJDOMElement("wrapper").setStyle("display","none"),e.publish("afterHide",[e]),e.destroy(),e},t.prototype.setup=function(){this._createBase(),this._productApiSupport()},t}(n.default);t.default=a},33:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(84)),o=i(r(19));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var s=new WeakMap,c=new WeakMap,u=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,{data:r.data})),o=n,i=r.data||{};return c.set(o,i),n}return a(t,e),t.prototype._setPrivates=function(t){var r=e.prototype._setPrivates.call(this,t);return s.set(this,r),r},t.prototype._loadData=function(){var e=this,t=s.get(e),r=c.get(e);if(e.publish("beforeDataLoad",r),r.sources&&r.sources.length)t.resolve(r.creative),e.publish("adLoaded",[e],.01);else{var n=e.error(200,{class:e.constructor.name,method:"_loadData"});o.default.info("JModel: Loading data failed."),o.default.error(n),t.reject(n),e.publish("adError",[n],.1)}return t.ready},t}(n.default);t.default=u},4:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(435)),o=i(r(436));function i(e){return e&&e.__esModule?e:{default:e}}var a=new WeakMap,s={counter:1,get:function(){return"o"+this.counter++}},c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a.set(this,{id:"a"+Math.random().toString(36).substring(7)+s.get(),events:new n.default})}return e.prototype.error=function(t,r){var n=new Error(e._getMsgByCode(t,r));return n.code=t,n},e.prototype.fnFactory=function(e,t){return function(t){return function(){t[e].apply(t,arguments)}}(t||this)},e.prototype.subscribe=function(e,t){return a.get(this).events.subscribe(e,t)},e.prototype.publish=function(e,t,r){return a.get(this).events.publish(e,t,r,!1)},e.prototype.broadcast=function(e,t){var r=this;e.subscribe(t,function(e){r.publish(t,e)})},e.prototype.getId=function(){return a.get(this).id},e.prototype.destroy=function(){a.get(this).events.destroy()},e._getMsgByCode=function(e,t){var r=o.default[e];for(var n in t)t.hasOwnProperty(n)&&(r=r.replace(new RegExp("\\${"+n+"}","g"),t[n]));return r},e.getType=function(e){var t=void 0;return null===e?"[object Null]":(t=Object.prototype.toString.call(e))?t.split(" ").pop().slice(0,-1):"undefined"},e}();t.default=c},42:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(r(4)),o=c(r(119)),i=c(r(1)),a=c(r(19)),s=c(r(83));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var l=new WeakMap,d=0,p=void 0,f=!1,h=i.default.getTopScope(),g=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r)),o=n,i={},a=r.di||{};return o._validateConstructorArguments(r),l.set(o,i),i.di=a,o._createContainer(),n}return u(t,e),t.prototype._createContainer=function(){var e=l.get(this).di,t=e.jDOM,r=e.window.document;return t.createElement("pixel-iframe",{tag:"iframe",parent:"@root",attributes:{class:"tracking-iframe-"+this.getId(),style:"visibility: hidden; height: 0px; overflow: hidden; position: fixed; left: -9999px; top: -9999px;"}}),r.body?(t.renderDOM(),t.appendTo(e.window.document.body),this):(r.addEventListener("DOMContentLoaded",function(){t.renderDOM(),t.appendTo(e.window.document.body)},!1),this)},t.prototype._loadPixel=function(e,t){var r=this,n=l.get(r).di.jDOM,o="pixel-"+d++;return a.default.info("JTracking: Sending tracking for action `"+e+"`"),n.createElement(o,{tag:"img",parent:"pixel-iframe",events:{load:{listener:function(){r.publish("trackingCalled",[r,o,n.getElement(o)])}}}}).getElement(o).getDOMElement().setAttribute("src",t),r},t.prototype._validateConstructorArguments=function(e){var t=e.di||{};if(!(t.jDOM instanceof o.default))throw this.error(100,{class:this.constructor.name,parameter:"jDOM",instance:"JDOM"});if(!t.window)throw this.error(100,{class:this.constructor.name,parameter:"window",instance:"Window"})},t.prototype.trackRaw=function(e){this._loadPixel(e.type,this.getRawPixelUrl(e))},t.prototype.getRawPixelUrl=function(e){var t=(-1===["https:","http:"].indexOf(h.location.protocol)?"http:":h.location.protocol)+e.trackingUrl;return e.setPageHeight(i.default.getDocumentHeight()),t+="?rid="+e.get("rid")+"&sid="+e.get("sid")+"&uid="+e.get("uid")+"&vr="+e.get("vr")+"&ru="+encodeURIComponent((h.location.href||"").replace(/#/g,""))+"&tt="+ +new Date+"&siw="+e.get("siteWidth")+"&sh="+i.default.getScreenHeight()+"&sw="+i.default.getScreenWidth()+"&wh="+i.default.getWindowHeight()+"&ww="+i.default.getWindowWidth()+"&an="+e.get("app")+"&vn="+e.get("cluster")+"&sd="+e.get("subDomain")+"&_c=a"+Math.random().toString(36).substring(7)+ +new Date+"&et=&aid="+e.get("adId")+"&said="+e.get("sourceId")+"&ei="+encodeURIComponent(e.get("placementId"))+"&fc="+e.get("format")+"&sp="+e.get("ssp")+"&at="+e.get("at")+"&cid="+e.get("cid")+"&ist="+e.get("isTest")+"&mg="+encodeURIComponent(e.get("errorCode")||e.get("message")||"")+"&dl=&dlt=&ev=&vt=&zid="+e.get("zoneId")+"&dr="+(+new Date-e.get("registeredAt"))+"&di="+e.get("dealId")+"&pr="+e.get("price")+"&cw="+e.get("creativeWidth")+"&ch="+e.get("creativeHeight")+"&nt="+i.default.getNavigatorTrack()+"&st="+encodeURIComponent(e.get("stack")||"")+"&jp="+encodeURIComponent(e.get("jsonParams")||"")+"&ty="+e.type},t.prototype.getPixelUrl=function(e,t,r,n,o){if(f)return this;var i=s.default.factory(e,t,r,n,o);return this.getRawPixelUrl(i)},t.prototype.track=function(e,t,r,n,o,i){if(f)return this;i=i||"";var a=s.default.factory(e,t,r,n);return a.set("stack",i),a.set("errorCode",o),this.trackRaw(a)},t.prototype.externalTrack=function(e,t){return f?this:this._loadPixel(e,t)},t.disabled=function(e){return f=e},t.instance=function(e){return p=p||function(){var r={};return(e=e||{}).di=e.di||{},r.di={},r.di.window=e.di.window||h,r.di.jDOM=e.di.jDOM||new o.default({di:{window:r.di.window}}),new t(r)}()},t}(n.default);t.default=g},43:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(4)),o=s(r(15)),i=s(r(2)),a=s(r(1));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var u=new WeakMap,l=a.default.getTopScope(),d=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return r=r||{},n._setPrivates(r),n}return c(t,e),t.prototype._setPrivates=function(e){var t={},r=e.di||{};return u.set(this,t),t.di=r,t.parent=e.parent,t.parentIdx=e.parentIdx,t.promises=[],t},t.prototype._createBase=function(){var e=this,t=u.get(e).di.jDOM;return t.createElement("wrapper",{tag:"div",parent:"@root",attributes:{class:e.getPrefix()+"wrapper",style:"height:0; width:0; overflow:hidden;"}}).createElement("container",{tag:"div",parent:"wrapper",attributes:{class:e.getPrefix()+"container"}}).createElement("content",{tag:"div",parent:"container",attributes:{class:e.getPrefix()+"content"}}).createElement("ad",{tag:"div",parent:"content",attributes:{class:e.getPrefix()+"ad"}}),t.getElement("wrapper").setAttribute("id",t.getElement("wrapper").getId()),e},t.prototype._createFailureFn=function(e){var t=this,r=u.get(t);try{l.ServeBackupAd=window.ServeBackupAd=function(){r.canceled=!0,e(t.error(205))}}catch(e){try{console.log("[SEVERE] jpx_0x000000 backup function error"),console.log(e)}catch(e){}}},t.prototype._writeIframe=function(){var e=this,t=u.get(e),r=t.di,n=r.jDOM,o=r.jModel,i=r.jProductApi.getId(),a=o.getCreative(),s=function(){},c=function(){};t.promises.push(new Promise(function(e,t){s=e,c=t}));var l=o.getData("creative").html,d=l.match(/\/hostingTags\/[0-9a-zA-Z_.-]+/),p=o.getData("country"),f=o.getData("zoneId"),h=o.getFormat();null===d&&(d=l.match(/\/hostingTags\\\/[0-9a-zA-Z_.-]+/)),d=null===d?(d=l.match(/\/api\/[0-9a-zA-Z_.%-]+\/[0-9a-zA-Z_.%-]+\/[0-9a-zA-Z_.%-]+\/[0-9a-zA-Z_.%-]+/))?d[0].substr(5):"":d?d[0].substr(1):"";var g=n.getElement("wrapper").getId(),v=o.getFormat();["wp"].indexOf(h)>-1?(l.match(/colorScheme:/)?g+="wp":g="jpx-wp-layer-left-container",a='<script>!function(){({src:"https://pixel.adsafeprotected.com/jload?anId=928426&advId='+p+"&campId="+d+"&pubId=&chanId="+f+"&placementId="+h+"&ias_adpath=%23"+g+'",type:"text/javascript",create:function(){var e=document.createElement("script");e.type=this.type,e.src=this.src.toLowerCase(),document.body.appendChild(e)}}).create()}();<\/script><noscript><img src=\'https://pixel.adsafeprotected.com/?anId=928426&advId='+p+"&campId="+d+"&pubId=&chanId="+f+"&placementId="+h+"' height='1' width='1' alt=''></noscript>"+a):"fv"!==v&&"hv"!==v&&"wv"!==v&&("mt"===v&&(g+="mt"),"ca"===v&&(g+="ca"),a='<script>!function(){({src:"https://pixel.adsafeprotected.com/jload?anId=928426&advId='+p+"&campId="+d+"&pubId=&chanId="+f+"&placementId="+h+"&ias_adpath=%23"+g+'",type:"text/javascript",create:function(){var e=document.createElement("script");e.type=this.type,e.src=this.src.toLowerCase(),document.body.appendChild(e)}}).create()}();<\/script><noscript><img src=\'https://pixel.adsafeprotected.com/?anId=928426&advId='+p+"&campId="+d+"&pubId=&chanId="+f+"&placementId="+h+"' height='1' width='1' alt=''></noscript>"+a),["is","cf","mo","pd"].indexOf(o.getFormat())>-1&&(a="<script>var inDapIF=true; window.document.ccformat = '"+o.getFormat()+"';<\/script>"+a),a="<script>let currWindow;try{currWindow = window.top;let test = currWindow.location.href;}catch (e) {currWindow = window; } var jpxApi = currWindow."+i+"; var jpxRid = '"+e._getReqId()+"'; window.jpxOnReady = function (cb) {cb(jpxApi)}; <\/script>"+a,e._createFailureFn(c);var m=n.getElement("adframe",{tag:"iframe",parent:"ad",attributes:{class:e.getPrefix()+"ad-frame",frameBorder:"0",ccformat:o.getFormat()},events:{error:{listener:function(e){return c(e)}}},properties:{jpxApi:i,content:a}});return e._createSuccessFn(m,s,c,r),e},t.prototype._createSuccessFn=function(e,t,r,n){var o=this,i=e.getDOMElement(),a=u.get(o),s=function(){o._isExtend(i,n,c,r)||c()},c=function(){o.publish("adframeReady",[o,i.contentWindow]),a.canceled||o._checkAdFrameSize(e.getDOMElement("body"),n,function(n){if(n)return r(n);t(e)})};i.contentWindow&&i.contentWindow.document&&"complete"===i.contentWindow.document.readyState?s():i.addEventListener("load",s)},t.prototype._isExtend=function(e,t,r,n){var o=this,i=o._getExtend(e)||o._getOldExtend(e);return!!i&&(t.jModel.addProperty("extendTag",i),o.publish("extendExecutionDetected",[o,t.jModel]),o._waitForConfig(e,r,n),!0)},t.prototype._waitForConfig=function(e,t,r){var n=this,o=500;!function a(){i.default.delay(n,function(){l.jpx_ad_config||e.contentWindow.jpx_ad_config||e.contentWindow.jpxExtendTag?t&&t():o-- >0?a():r(new Error("No config found"))},16)}()},t.prototype._getExtend=function(e){if(e.contentWindow.jpxExtendTag)return e.contentWindow.jpxExtendTag;var t=void 0;return Array.prototype.slice.call(e.contentWindow.document.querySelectorAll("script")).find(function(e){var r=e.src&&e.src.match(/\/extend\/\?zone=([0-9]+)/);return!!r&&(t=r[1],!0)})&&t||!1},t.prototype._getOldExtend=function(e){var t=Array.prototype.slice.call(e.contentWindow.document.querySelectorAll("script")).filter(function(e){return e.src&&e.src.search("extend_tag.js")>-1}).pop();if(t){var r=t.src.match(/([0-9]+)-extend_tag\.js/);return!!r&&r[1]}return!1},t.prototype._checkAdFrameSize=function(e,t,r){var n=this;return i.default.delay(n,function(){var o=e.querySelector(".jcl-tmp-wrapper");if(t.jModel.getData("extendTag")&&o){var i=function(){n._getBiggestElement(o.contentWindow&&o.contentWindow.document.body,t),r(null)};o.contentWindow&&o.contentWindow.document&&"complete"===o.contentWindow.document.readyState?i():o.addEventListener("load",i)}else n._getBiggestElement(e,t),r(null)},16),n},t.prototype._getBiggestElement=function(e,t){var r=[].concat.apply([],["div","iframe","img"].map(function(t){return Array.prototype.slice.call(e.querySelectorAll(t))})).map(function(e){var t={h:e.offsetHeight,w:e.offsetWidth};return t.score=t.h*t.w,t.score=t.score<1?1:t.score,t}).sort(function(e,t){return t.score>e.score?1:t.score<e.score?-1:0});if(r.length){var n=r[0],o=n.h,i=n.w;o>=48&&i>=120&&(t.jModel.addProperty("height",o),t.jModel.addProperty("width",i))}},t.prototype._getReqId=function(){var e=u.get(this).di,t="";try{t=e.global.server.ruid}catch(e){}return t},t.prototype.bindToJDOM=function(e,t,r){return u.get(this).di.jDOM.bind(e,t,r)},t.prototype.getPrefix=function(){return"jpx-"+u.get(this).di.jModel.getFormat()+"-"},t.prototype.getJDOMElement=function(e){return u.get(this).di.jDOM.getElement(e)},t.prototype.ready=function(){var e=this,t=u.get(e);return t.ready||(t.ready=Promise.all(u.get(e).promises).then(function(t){return e.publish("adFrameReady",[e]),t}).catch(function(t){throw e.publish("adFrameError",[t]),t}))},t.prototype.render=function(){var e=this,t=u.get(e),r=t.di.jDOM;return e._createBase(),r.renderDOM(),e.publish("afterDOMRender",[e,r,t]),void 0!==t.parentIdx?r.appendTo(t.parent,t.parentIdx):r.appendTo(t.parent),e._writeIframe(),e.publish("afterRender",[e,r]),e},t.prototype.setInsertAt=function(e,t){if(t){var r=o.default.getParentAndIndex(e,t);this.setParent(r.parent,r.index)}else this.setParent(e)},t.prototype.setParent=function(e,t){var r=u.get(this);return r.parent=e,r.parentIdx=t,this},t.prototype.show=function(){var e=u.get(this).di,t=e.jDOM,r=e.jModel;return r.getData("width")>0&&r.getData("height")>0?(t.getElement("wrapper").setStyle("height",""),t.getElement("wrapper").setStyle("width",""),t.getElement("wrapper").setStyle("overflow","")):(t.getElement("wrapper").setStyle("height","0px"),t.getElement("wrapper").setStyle("width","0px")),this},t.prototype.destroy=function(){var t=u.get(this);u.set(this,null),t.di.jDOM.destroy(),t.di.jDOM=null,t.di.jModel=null,t.promises.length=0,t.parent=null,this.isDestroyed=!0,e.prototype.destroy.call(this)},t}(n.default);t.default=d},434:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(4)),o=a(r(15)),i=a(r(1));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var c=new WeakMap,u=i.default.getTopScope(),l=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));r=r||{};var o=n,i={};return o._validateConstructorArguments(r),c.set(o,i),i.di=r.di||{},o._tag=r.tag,o._attributes=r.attributes||{},o._properties=r.properties||{},o._events=r.events||{},o._preId=r.preId||!1,n}return s(t,e),t.prototype._createDOMElement=function(e,t,r,n,i,a){var s=this,u=c.get(s),l=e.document,d=void 0;return s._preId&&(d=e.document.querySelector("#"+s._preId),s._prerendered=!!d),d=d||l.createElement(r),i.content&&s._writeContent(i,r),"iframe"===r.toLowerCase()&&(u.cancelFixIframe=o.default.fixIframeMouseMove(d,n.src)),Object.keys(a).forEach(function(e,t){d.addEventListener(e,a[e].listener,a[e].useCapture)}),Object.keys(n).forEach(function(e,t){n[e]&&d.setAttribute(e,n[e])}),Object.keys(i).forEach(function(e,t){d[e]=i[e]}),d.setAttribute("jpx-object-id",t),s._el=d,s},t.prototype._writeContent=function(e,t){var r=this,n=e.content;switch(delete e.content,t.toLowerCase()){case"iframe":r.subscribe("afterAppend",function(t){if(r.isPrerendered()&&e.jpxApi){var o=r._el;(o.contentWindow||o).jpxApi=u[e.jpxApi]}else{var i=t[0].getDOMElement(),a=i.contentDocument||i.contentWindow&&i.contentWindow.document;a.open(),a.write('<html><head><style type="text/css">html,body{padding:0;margin:0;background-color:transparent;overflow:hidden;}</style></head><body>'+(n||"")+"</body>"),a.close()}});break;default:n&&(r._isRendered?r._el.innerHTML=n:r.subscribe("render",function(){r._el.innerHTML=n}))}},t.prototype._validateConstructorArguments=function(e){var t=this,r=e.di||{};if(!e.tag)throw t.error(102,{class:t.constructor.name,property:"options.tag",method:"construct"});if(!r.window)throw t.error(102,{class:t.constructor.name,property:"options.di.window",method:"construct"});return t},t.prototype.addClass=function(e){for(var t=this,r=((t._el?t._el.getAttribute("class"):t._attributes.class)||"").trim().split(" "),n=r.length,o=-1,i=0;i<n;i++)r[i]===e&&(o=i);-1===o&&(r.push(e),t._attributes.class=r.join(" "),t._isRendered&&t._el.setAttribute("class",r.join(" ")))},t.prototype.destroy=function(){var e=this,t=c.get(e);return e._destroyed||(t.cancelFixIframe&&t.cancelFixIframe(),e._el&&e._el.parentNode&&e._el.parentNode.removeChild(e._el),e._destroyed=!0),e},t.prototype.getDOMElement=function(e){var t=this._el;if(!this._el)return!1;if("iframe"===t.tagName.toLocaleLowerCase()){var r=t.contentDocument||(t.contentWindow?t.contentWindow.document:null);return e&&r?r.querySelector(e):t}return e?t.querySelector(e):t},t.prototype.isPrerendered=function(){return this._prerendered},t.prototype.getAllDOMElements=function(e){var t=this._el;if(!this._el)return!1;if("iframe"===t.tagName.toLocaleLowerCase()){var r=t.contentDocument||(t.contentWindow?t.contentWindow.document:null);return e&&r?r.body.querySelectorAll(e):[t]}return e?t.querySelectorAll(e):[t]},t.prototype.isRendered=function(){return this._isRendered},t.prototype.removeClass=function(e){for(var t=this,r=((t._el?t._el.getAttribute("class"):t._attributes.class)||"").trim().split(" "),n=r.length,o=-1,i=0;i<n;i++)r[i]===e&&(o=i);o>-1&&(r.splice(o,1),t._isRendered?t._el.setAttribute("class",r.join(" ")):t._attributes.class=r.join(" "))},t.prototype.removeAttribute=function(e){return this._isRendered&&this._el.removeAttribute(e),delete this._attributes[e],this},t.prototype.render=function(){var e=this,t=c.get(e).di;return e._createDOMElement(t.window,e.getId(),e._tag,e._attributes,e._properties,e._events||{}),e._isRendered=!0,e.publish("render",[e,e._el]),e},t.prototype.setAttribute=function(e,t){return this._isRendered&&this._el.setAttribute(e,t),this._attributes[e]=t,this},t.prototype.setStyle=function(e,t){var r=this;if(r._isRendered)o.default.applyStyle(r._el,e,t);else{var n=(r._attributes.style||"").search(new RegExp("^"+e+"s{0,}:|;s{0,}"+e+"s{0,}:"));if(-1===n){var i=(r._attributes.style||"").trim(),a=!i||";"==i[i.length-1];r._attributes.style=a?i+(e+": ")+t+";":i+";"+e+": "+t+";"}else{var s=(r._attributes.style||"").trim(),c=s.substr(0,n)+(0===n?"":";"),u=s.substr(n).replace(/^;\s/,""),l=u.search(";"),d=l>-1?u.substr(l):"";r._attributes.style=c+(e+": ")+t+d}}return r},t.prototype.transitionEnd=function(e,t){var r=this;if(r._isRendered&&!r._el)throw r.error(302,{property:"_el",method:"animEnd",class:"JDOMElement"});return new Promise(function(n){o.default.onTransitionEnd(r._el,function(t){e&&e(t),n(t)},t)})},t.prototype.transitionOn=function(e){var t=this;if(t._isRendered&&!t._el)throw t.error(302,{property:"_el",method:"transitionOn",class:"JDOMElement"});t._el&&t._el.offsetHeight;return e=e||"jpx-transition",t.addClass(e),t._isRendered&&o.default.clearUnresolvedTransitionListeners(t._el),t},t.prototype.transitionOff=function(e){var t=this;if(!t._el)throw t.error(302,{property:"_el",method:"transitionOff",class:"JDOMElement"});return e=e||"jpx-transition",t.removeClass(e),t._el.offsetHeight,t},t}(n.default);t.default=l},435:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new WeakMap,o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n.set(this,{firedEvents:{},listeners:{}})}return e.prototype.publish=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=n.get(this),a=i.listeners[e]||[];o||(i.firedEvents[e]={attributes:t,delay:r}),r?setTimeout(function(){return a.forEach(function(e){return e(t)})},parseInt(r)):a.forEach(function(e){return e(t)})},e.prototype.subscribe=function(e,t){var r=this,o=n.get(this);return(o.listeners[e]?o.listeners[e]:o.listeners[e]=[]).push(t),function(){r.removeListener(e,t)}},e.prototype.removeListener=function(e,t){var r=n.get(this).listeners[e]||[],o=r.indexOf(t);o>-1&&r.splice(o,1)},e.prototype.getListenersCount=function(e){return(n.get(this).listeners[e]||[]).length},e.prototype.destroy=function(){n.get(this).listeners=null},e}();t.default=o},436:function(e,t){e.exports={100:"In ${class} constructor parameter `${parameter}` should be an instance of ${instance}",101:"`${method}` in ${class} is not allowed",102:"Passed arguments are incorrect, property `${property}` is missing in method `${method}` from class ${class}",103:"${class} was not initialized properly, `${property}` property missing in method `${method}`",104:"`${method}` from ${class} should be overridden",105:"Passed arguments are incorrect, property `${property}` should by `${type}`",106:"Passed argument `${property}` is incorrect, because ${reason}`",107:"`${library}` library not found",200:"Promise was rejected in ${class}:${method}",201:"`${class}`: Rule ${name} can only inherits or extends, cannot do both",202:"Cannot find rule ${name}",203:"No ad found in creative",204:"Creative is empty",205:"Execution aborted from creative",206:"No ad found in the queue",207:"Fallback failed",208:"Bootstrap tag error occurred: `${message}`",209:"No VAST/VPAID",210:"Creative too small",211:"Wrong placement",212:"Bootstrap tag error. Can't create instance JAM.",213:"Wrong zone parameter",214:"Firewall issue. Request was block",215:"Bootstrap tag error. Can't setup bootstrap execution.",216:"Bootstrap tag error. Can't fetch ads.",217:"Blocked cross-origin frame",220:"SpotX failure",221:"Ajax request failed.",222:"Wrong adunit id",223:"Can not process jPAM task queue",224:"VPAID not load IMA adsRequest",299:"Reroute to other product",300:"Can not find the `${element}` element",301:"Element `${name}` already exists in the virtual DOM. Name must be unique.",302:"DOM element `${property}` not exists in `${class}`:`${method}`",303:"Can not append element to passed parent, object is not an instance of HTMLElement",400:"LeaderAd: There is no `${container}` container set.",401:"Product: responsive param missing",402:"ProductApi: problem while writing creative to the ad frame",900:"Ad execution failed",901:"Error occurred while executing init",902:"Error occurred while executing `${event}` callback",903:"No `${plugin}` plugin found",904:"Not enough space for `${product}`.",999:"","<!-initialization-errors->":"","<!-execution-errors->":"","<!-dom-errors->":"","<!-product-errors->":"","<!-global-execution->":"","<!-others->":""}},437:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(1)).default.getTopScope(),o=+new Date,i=void 0;try{i=n.performance}catch(e){i=window.performance}var a={now:!(!i||!i.now)?function(){return i.now()}:function(){return+new Date-o},format:function(e){var t=function(e,t){for(var r="",n=(t=t||2)-1;n>0;n--)e<Math.pow(10,n)&&(r+="0");return(e<Math.pow(10,t-1)?r:"")+e},r=e%1e3,n=(e=(e-r)/1e3)%60;return t((e=(e-n)/60)%60)+":"+t(n)+":"+t(parseFloat(r).toFixed(2),3)}};t.default=a},438:function(e,t,r){var n=r(439);"string"==typeof n&&(n=[[e.i,n,""]]);r(6)(n,{window:"top"});n.locals&&(e.exports=n.locals)},439:function(e,t,r){(e.exports=r(5)()).push([e.i,'[class*=jpx-][class*=-brandlabel]:not([class*=jpx-brandlabel-]){display:none!important}[class*=jpx-brandlabel-]{background:url("https://cdn-cf.justpremium.com/adr/logo_sprite.png") no-repeat;display:inline-block}.jpx-brandlabel-horizontal-up{background-position:0 -17px;height:17px;width:78px}.jpx-brandlabel-horizontal-down{background-position:0 0;height:17px;width:78px}.jpx-brandlabel-vertical-left{background-position:0 -34px;height:78px;width:17px}.jpx-brandlabel-vertical-right{background-position:-17px -34px;height:78px;width:17px}',""])},5:function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t];r[2]?e.push("@media "+r[2]+"{"+r[1]+"}"):e.push(r[1])}return e.join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(n[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),e.push(a))}},e}},6:function(e,t){var r,n,o,i,a={},s=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},c=null,u=0,l=[];function d(e,t){for(var r=0;r<e.length;r++){var n=e[r],o=a[n.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](n.parts[i]);for(;i<n.parts.length;i++)o.parts.push(v(n.parts[i],t))}else{var s=[];for(i=0;i<n.parts.length;i++)s.push(v(n.parts[i],t));a[n.id]={id:n.id,refs:1,parts:s}}}}function p(e){for(var t=[],r={},n=0;n<e.length;n++){var o=e[n],i=o[0],a={css:o[1],media:o[2],sourceMap:o[3]};r[i]?r[i].parts.push(a):t.push(r[i]={id:i,parts:[a]})}return t}function f(e,t){var r=i(),n=l[l.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),l.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(t)}}function h(e){e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function g(e){var t=n.createElement("style");return t.type="text/css",f(e,t),t}function v(e,t){var r,o,i;if(t.singleton){var a=u++;r=c||(c=g(t)),o=y.bind(null,r,a,!1),i=y.bind(null,r,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(e){var t=n.createElement("link");return t.rel="stylesheet",f(e,t),t}(t),o=function(e,t){var r=t.css,n=t.sourceMap;n&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var o=new Blob([r],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}.bind(null,r),i=function(){h(r),r.href&&URL.revokeObjectURL(r.href)}):(r=g(t),o=function(e,t){var r=t.css,o=t.media;o&&e.setAttribute("media",o);if(e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(n.createTextNode(r))}}.bind(null,r),i=function(){h(r)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");"top"===(t=t||{}).window?(r=window.top,n=window.top.document):(r=window,n=r.document),o&&i||(o=s(function(){return/msie [6-9]\b/.test(r.navigator.userAgent.toLowerCase())}),i=s(function(){return n.head||n.getElementsByTagName("head")[0]})),void 0===t.singleton&&(t.singleton=o()),void 0===t.insertAt&&(t.insertAt="bottom");var c=p(e);return d(c,t),function(e){for(var r=[],n=0;n<c.length;n++){var o=c[n];(i=a[o.id]).refs--,r.push(i)}e&&d(p(e),t);for(n=0;n<r.length;n++){var i;if(0===(i=r[n]).refs){for(var s=0;s<i.parts.length;s++)i.parts[s]();delete a[i.id]}}}};var m=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}();function y(e,t,r,o){var i=r?"":o.css;if(e.styleSheet)e.styleSheet.cssText=m(t,i);else{var a=n.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(a,s[t]):e.appendChild(a)}}},83:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(t,r,n,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n.server=n.server||{ruid:null,suid:null,uuid:null,registeredAt:null},n.site=n.site||{width:null};var a=!!(o=o||{}).getData;n.cmp&&!n.cmp.gdprApprove&&(n.server.uuid=""),this.type=r,this.rid=n.server.ruid,this.sid=n.server.suid,this.uid=n.server.uuid,this.cid=a?this.setCreativeKey(o):"",this.vr="v2.12.276",this.trackingUrl=n.server.trackingUrl||{bidder:"//emea-v3.tracking.justpremium.com/tracking.gif",adserver:"//emea-v3.tracking.justpremium.com/tracking.gif"}[t]||"//emea-v3.tracking.justpremium.com/tracking.gif",this.ssp=(a?o.getData("ssp"):o.ssp)||"",this.zoneId=(a?o.getData("zoneId"):o.zoneId)||"",this.adId=(a?o.getData("adId"):o.adId)||"",this.sourceId=(a?o.getData("sourceId"):o.sourceId)||"",this.placementId=(a?o.getData("adunitid"):o.adunitid)||"",this.format=(a?o.getFormat():o.format)||"",this.isTest=a?o.getData("isTest"):void 0===o.isTest?"":o.isTest,this.siteWidth=n.site.width||0,this.app=n.server.app,this.cluster=n.server.cluster,this.subDomain=n.server.subdomain,this.registeredAt=n.server.registeredAt,this.errorCode=i||"",this.stack="",this.price="",this.pageHeight="",this.jsonParams=this._buildJsonParams(o),this.dealId=(a?o.getData("dealId"):o.dealId)||"",this.creativeWidth=(a?o.getData("width"):o.width)||"",this.creativeHeight=(a?o.getData("height"):o.height)||"",this.at=t,this.setPrice((a?o.getData("price"):o.price)||"")}return e.prototype._buildJsonParams=function(e){var t={},r=e.getData&&e.getData()||e||{};return r.executedSiteInit&&(t.esi=r.executedSiteInit),r.googleFrame&&(t.gi=r.googleFrame),r.isTopPosition&&(t.istp=r.isTopPosition),this.pageHeight&&(t.ph=this.pageHeight),r.extendCore&&(t.ec=r.extendCore),r.singleTag&&(t.st=r.singleTag?"1":"0"),r.videoFramework&&(t.video=r.videoFramework),JSON.stringify(t)},e.prototype.get=function(e){return void 0===this[e]?"":this[e]},e.prototype.getJsonParams=function(){try{return this.jsonParams?JSON.parse(this.jsonParams):{}}catch(e){return{}}},e.prototype.set=function(e,t){"price"!==e?this[e]=t:this.setPrice(t)},e.prototype.setCreativeKey=function(e){var t=e.getData("creative").html,r="",n=void 0;return t&&(null===(n=t.match(/\/hostingTags\/[0-9a-zA-Z_.-]+/))&&(n=t.match(/\/hostingTags\\\/[0-9a-zA-Z_.-]+/)),r=null===n?(n=t.match(/\/api\/[0-9a-zA-Z_.%-]+\/[0-9a-zA-Z_.%-]+\/[0-9a-zA-Z_.%-]+\/[0-9a-zA-Z_.%-]+/))?n[0].substr(5):"":n?n[0].substr(1):""),r},e.prototype.setJsonParams=function(e){this.jsonParams=JSON.stringify(e)},e.prototype.setPageHeight=function(e){this.pageHeight=e;var t=this.getJsonParams();t.ph=e,this.setJsonParams(t)},e.prototype.setPrice=function(e){var t=void 0;try{(t=window.top).location.href}catch(e){t=window}this.price="",e&&"function"==typeof t.btoa&&(this.price=btoa(e))},e.factory=function(t,r,n,o,i){return new e(t,r,n,o,i)},e}();t.default=n},84:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(4)),o=i(r(19));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var s=new WeakMap,c=new WeakMap,u=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this)),o=n,i=r.data||{};return c.set(o,i),o._setPrivates(r),n}return a(t,e),t.prototype._setPrivates=function(e){var t={di:{}};return s.set(this,t),t.ready=new Promise(function(e,r){t.resolve=e,t.reject=r}),t},t.prototype._createIndex=function(e,t,r){return"string"==typeof t?this._createIndex(e,t.split("."),r):1==t.length&&void 0!==r?e[t[0]]=r:0==t.length?e:this._createIndex(e[t[0]],t.slice(1),r)},t.prototype._loadData=function(){var e=this,t=s.get(e),r=c.get(e);if(e.publish("beforeDataLoad",r),r.creative&&(r.creative.html||r.creative.vast))t.resolved=!0,t.resolve(r.creative),e.publish("adLoaded",[e],.01);else{var n=e.error(200,{class:e.constructor.name,method:"_loadData"});o.default.info("JModel: Loading data failed."),o.default.error(n),t.reject(n),e.publish("adError",[n],.1)}return t.ready},t.prototype.ready=function(){return s.get(this).ready},t.prototype.load=function(e){return e&&c.set(this,e),this._loadData()},t.prototype.getFormat=function(){return c.get(this).format},t.prototype.getCreative=function(){return c.get(this).creative.html},t.prototype.getData=function(e){var t=c.get(this),r=e?e.split("."):null;if(null===r)return t;return function(e,t){for(var r=void 0,n=t;r=e.shift();){if(void 0===n[r])return null;n=n[r]}return n}(r,t)},t.prototype.addProperty=function(e,t){for(var r=this,n=c.get(r),o=r.getData(e),i=e?e.split("."):null,a=n,s=0;s<i.length;s++)void 0!==a[i[s]]?(a=a[i[s]],s==i.length-1&&r._createIndex(n,e,t)):s==i.length-1?r._createIndex(a,i[s],t):(r._createIndex(a,i[s],{}),a=a[i[s]]);r.publish("["+e+"]Changed",[o,t])},t}(n.default);t.default=u},86:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=a(r(43)),i=a(r(221));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var c=new WeakMap,u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return s(t,e),t.prototype._setPrivates=function(t){var r=e.prototype._setPrivates.call(this,t);c.set(this,r),r.di=t.di;var o=r.di;return n(r,this._determineParentAndIdx({window:o.window,localWindow:o.localWindow,jModel:o.jModel})),r},t.prototype._determineParentAndIdx=function(e){var t=e.localWindow||e.window,r=e.window.document.body,n=void 0;do{var o=t&&t.frameElement;o&&o.getAttribute("name")&&0===o.getAttribute("name").search("google_ads_iframe_")&&parseInt(o.getAttribute("width"))>1&&parseInt(o.getAttribute("height"))>1&&(n=Array.from(o.parentNode.children).indexOf(o),r=o.parentNode,e.jModel.addProperty("googleFrame",!0),o.style.width=0,o.style.height=0,o.style.overflow="hidden"),t=t.parent}while(t!==window.top);return{parent:r,parentIdx:n}},t.prototype._writeIframe=function(){var t=e.prototype._writeIframe.call(this),r=c.get(t),n=r.di;try{var o=r.di.jDOM.getElement("wrapper").getDOMElement();n.jModel.addProperty("isTopPosition",i.default.getPositionFromTop(o))}catch(e){}return t},t}(o.default);t.default=u},89:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(14)),o=i(r(1));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var s=new WeakMap,c=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r)),o=n;r=r||{};var i={};return i.di=r.di||{},s.set(o,i),n}return a(t,e),t.prototype._extendFnBody=function(t){var r=e.prototype._extendFnBody.call(this,t);return function(){var e=void 0;try{(e=window.top).location.href}catch(t){e=window}var t={style:{addSheet:this._helpers.addSheet,getValue:this._helpers.getValue},dom:this._dom},Jpx=e.Jpx||{};Jpx.helpers=Jpx.helpers?this.$_assign(Jpx.helpers,t):t,Jpx._h=Jpx._h?this.$_assign(Jpx._h,t):t,Jpx.dom=this._dom,e.Jpx=Jpx}.toString().replace(/function\s*\(\)\s*\{?/i,"").slice(0,-1)+";"+r},t.prototype._extendScope=function(t){var r=s.get(this).di,n=r.jAdFrame;e.prototype._extendScope.call(this,t),t.options={branding:!1},t.meta=o.default.getMeta(),t.skeleton={ad:null,adframe:null,skeleton:null,brandlabel:null,container:null},t.products=t.products||{},t.products.is=t.products.is||{},t.products.is.setParentElement=function(e,t){r.jAdFrame.setParent(e)},t._dom={direction:function(){},isValidGoogleIframe:function(){var e=r.localWindow&&di.localWindow.frameElement;return!!(e&&e.getAttribute("name")&&0===e.getAttribute("name").search("google_ads_iframe_")&&e.offsetWidth>1&&e.offsetHeight>1)}},t.product=function(){return t.products.is},t.skeleton.ad=n.getJDOMElement("ad");var i=0;t._helpers={addSheet:function(e){r.jDOM.createElement("stylesheet-"+i++,{parent:"@root",tag:"style",attributes:{type:"text/css"},properties:{content:e}})},getValue:function(e,t){}},t.helpers={},t.addHelper=function(){},t.setInsertAt=function(e,t){r.jAdFrame.setInsertAt(e,t)},r.jAdFrame.subscribe("afterRender",function(e){var r=e[0];t.skeleton.skeleton=r.getJDOMElement("wrapper").getDOMElement(),t.skeleton.container=r.getJDOMElement("container").getDOMElement(),t.skeleton.content=r.getJDOMElement("content").getDOMElement(),t.skeleton.ad=r.getJDOMElement("ad").getDOMElement(),t.skeleton.adframe=r.getJDOMElement("adframe").getDOMElement()})},t.prototype.setDependency=function(e,t){return s.get(this).di[e]=t,this.publish(e+"DependencySet",[t]),this},t}(n.default);t.default=c},9:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(120));function o(e){return e&&e.__esModule?e:{default:e}}var i=o(r(1)).default.getTopScope(),a={called:{},optimizedScroll:function(e){if(this.called.optimizedScroll=this.called.optimizedScroll||[],!(this.called.optimizedScroll.indexOf(e)<0))return!0;this.called.optimizedScroll.push(e);!function(e,t,r){var n=!1;(r=r||window.top).addEventListener(e,function(){n||(n=!0,requestAnimationFrame(function(){var e=i.document.createEvent("HTMLEvents");e.initEvent(t,!0,!0),r.dispatchEvent(e),n=!1}))})}("scroll","optimizedScroll",e)},optimizedResize:function(e){if(this.called.optimizedResize=this.called.optimizedResize||[],!(this.called.optimizedResize.indexOf(e)<0))return!0;this.called.optimizedResize.push(e);!function(e,t,r){var n=!1;(r=r||window.top).addEventListener(e,function(){n||(n=!0,requestAnimationFrame(function(){var e=i.document.createEvent("HTMLEvents");e.initEvent(t,!0,!0),r.dispatchEvent(e),n=!1}))})}("resize","optimizedResize",e)},optimizedOrientationChanged:function(e){var t=this;if(t.called.optimizedOrientationChanged=t.called.optimizedOrientationChanged||[],!(t.called.optimizedOrientationChanged.indexOf(e)<0))return!0;t.called.optimizedOrientationChanged.push(e),t.optimizedResize(e);var r=null,o=n.default.isPortrait();e.addEventListener("optimizedResize",function(){clearTimeout(r),r=setTimeout(function(){var t=n.default.isPortrait();if(t!==o){o=t;var r=i.document.createEvent("HTMLEvents");r.isPortrait=o,r.initEvent("optimizedOrientationChanged",!0,!0),e.dispatchEvent(r)}},150)})}};t.default=a}});webpackJsonpJpx__name_([9],{124:function(e,t,i){"use strict";function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],o=Object.getOwnPropertyDescriptor(t,r);o&&o.configurable&&void 0===e[r]&&Object.defineProperty(e,r,o)}}(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this))}return n(t,e),t}(function(e){return e&&e.__esModule?e:{default:e}}(i(4)).default);t.default=r},229:function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i},230:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(560);var n=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB||window.shimIndexedDB,r="Justpremium",o="JPX_storage",a=!0,s={init:function(){var e=n.open(r,1);return new Promise(function(t,i){e.onupgradeneeded=function(){var n=e.result.createObjectStore(o,{keyPath:"id",autoIncrement:!0});n.createIndex("Flag","flag"),n.createIndex("Adunitid","adunitid"),n.createIndex("Uip","uip"),n.createIndex("Resid","resid"),n.onsuccess=function(e){t(e)},n.onerror=function(e){i(e)}}})},checkSupport:function(){return a},save:function(e){var t=n.open(r,1);return new Promise(function(i,n){t.onsuccess=function(){var r=t.result,a=r.transaction(o,"readwrite"),s=a.objectStore(o).put(e);s.onsuccess=function(e){i(e)},s.onerror=function(e){n(e)},a.oncomplete=function(){r.close()}}})},deleteOld:function(e){var t=n.open(r,1);return new Promise(function(i,n){t.onsuccess=function(){var r=t.result,a=r.transaction(o,"readwrite"),s=a.objectStore(o);s.openCursor().onsuccess=function(e){var t=e.target.result;if(t){if(t.value.ads.source){var r=t.value;if("new"===r.ads.source){r.ads.source="cache";var o=t.update(r);o.onerror=function(e){n(e)},o.onsuccess=function(e){i(e)}}}t.continue()}},s.getAll().onsuccess=function(t){if(t.target&&t.target.result)for(var r=0;r<t.target.result.length;r++){var o=t.target.result[r];if(o.flag===e&&Date.now()-o.date>27e4){var a=s.delete(o.id);a.onerror=function(e){n(e)},a.onsuccess=function(e){i(e)}}}},a.oncomplete=function(){r.close()}}})},deleteById:function(e){var t=n.open(r,1);return new Promise(function(i,n){t.onsuccess=function(){var r=t.result,a=r.transaction(o,"readwrite"),s=a.objectStore(o);s.index("Resid").get(e).onsuccess=function(e){if(e.target&&e.target.result){var t=s.delete(e.target.result.id);t.onerror=function(e){n(e)},t.onsuccess=function(e){i(e)}}},a.oncomplete=function(){r.close()}}})},deleteByAdIpAddress:function(e){var t=n.open(r,1);return new Promise(function(i,n){t.onsuccess=function(){var r=t.result,a=r.transaction(o,"readwrite"),s=a.objectStore(o);s.index("Uip").getAll(e).onsuccess=function(e){if(e.target&&e.target.result)for(var t=0;t<e.target.result.length;t++){var r=s.delete(e.target.result[t].id);r.onerror=function(e){n(e)},r.onsuccess=function(e){i(e)}}},a.oncomplete=function(){r.close()}}})},get:function(e){return new Promise(function(t){var i=n.open(r,1);i.onsuccess=function(){var n=i.result;if(n.objectStoreNames.length){var r=n.transaction([o],"readonly"),a=r.objectStore(o);try{a.index("Flag").getAll(e).onsuccess=function(e){t(e.target.result)}}catch(e){t([])}r.oncomplete=function(){n.close()}}else t()}})}};try{s.init()}catch(e){a=!1}t.default=s},231:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!t||i.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=u(i(61)),o=u(i(564)),a=u(i(218)),s=u(i(55)),d=(u(i(42)),u(i(19)));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],o=Object.getOwnPropertyDescriptor(t,r);o&&o.configurable&&void 0===e[r]&&Object.defineProperty(e,r,o)}}(e,t))}var l=new WeakMap,p=function(e){function t(i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,i)),r=n,o={},a=(i=i||{}).di||{};return l.set(r,o),o.di=a,n}return c(t,e),t.prototype.onTimeout=function(e,t,i){var n={code:224,message:"224",stack:"VPAID: method requestAds stuck."};t.addProperty("error",n),this._clearExecution(i),d.default.alwaysLog("info","Vast exec: Timeout"),e.publish("ended",[]),this.publish("executionFailure",[n,t])},t.prototype._setupExecution=function(e){var t=this,i=e.di,r=l.get(t),o=(i.jDOM,window.document.createElement("video")),d=window.document.createElement("div"),u=window.document.createElement("div"),c=i.jAdFrame.getJDOMElement("ad").getDOMElement(),p=s.default.getSizes(i.jModel.getFormat())[0],g="width: "+p[0]+"px; height: "+p[1]+"px;";return o.id="video-ima-jp",o.style="width: 100%; height: 100%","wv"===i.jModel.getFormat()&&(o.style=g),d.style=g,u.classList.add("jpx-vpaid-adContainer"),d.classList.add("jp-video-ima-container"),d.appendChild(o),d.appendChild(u),c.appendChild(d),new Promise(function(s,c){a.default.script("//imasdk.googleapis.com/js/sdkloader/ima3.js",{}).ready().then(function(){t._initializeImaDependency(e,[i.jModel,i.jDOM,i.jAdFrame,i.jStyle,o,d,u,p,i.jTracking]),e.di.jPlayer.subscribe("onRequestAds",function(o){var a=n(o,1)[0];r.timeout=setTimeout(function(){t.onTimeout(a,i.jModel,e)},5e3)}),e.di.jPlayer.subscribe("playerLoaded",function(){t.publish("asyncWriteAdFound",[t,i.jModel]),s()}),e.di.jPlayer.subscribe("adImpression",function(e){e[1]&&i.jModel.addProperty("videoFramework",e[1]),t.publish("asyncWriteAdShown",[t,i.jModel])}),e.di.jPlayer.subscribe("adLoaded",function(){clearTimeout(r.timeout)}),e.di.jPlayer.subscribe("playerError",function(e){e[0]&&e[0].error&&(e=e[0].error,i.jModel.addProperty("error",e),c(e))}),e.di.jPlayer.init()})})},t.prototype._initializeImaDependency=function(e,t){e.di.jPlayer=new o.default({di:{jModel:t[0],jDOM:t[1],jAdFrame:t[2],jStyle:t[3],jTracking:t[8]},video:t[4],container:t[5],adContainer:t[6],sizes:t[7]})},t}(r.default);t.default=p},55:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={limits:{default:{width:90,height:70},ms:{width:90,height:50}},sizes:{as:[[728,90],[970,90]],br:[[800,250],[970,250]],ca:[[970,250]],cf:[[120,90]],ds:[[120,600],[160,600]],fa:[[728,90],[970,90]],fi:[[1920,1080],[1920,540]],fv:[[704,396]],ha:[[970,250]],hi:[[1280,455],[1024,768]],ho:[[728,90],[800,280],[970,250]],hv:[[970,728]],ibb:[[970,250]],ihp:[[300,600]],is:[[300,250],[300,600],[320,480],[336,280],[320,320],[320,180],[320,240],[160,600],[120,600]],lb:[[720,480],[800,600],[970,500],[300,600],[300,250],[320,320],[640,480]],mo:[[300,250],[320,480],[320,320],[336,280],[320,240]],ms:[[320,50],[320,100],[640,100]],mt:[[300,600],[320,320],[320,480]],pa:[[300,250],[320,320],[336,280]],pd:[[970,250],[800,280],[970,500],[980,120],[980,150],[980,240],[980,300],[930,180],[970,90],[800,250],[640,100]],pu:[[970,250],[800,280],[970,500],[980,120],[980,150],[980,240],[980,300],[930,180],[970,90],[800,250],[640,100]],sa:[[300,600],[300,250],[120,600],[160,600]],wp:[[1800,1e3],[1920,1200]],wv:[[1800,1e3],[1920,1200]]},getSizeByRTBHouseHash:function(e,t){var i={jyWNyNAh9XirI8sDYcQA:[720,480],IfdLGouR5B8tlOLoi07E:[970,500],ObrGJTECSBmbX0scEvxi:[300,250],ca02FeYEPUVjfUHTAdOK:[300,600],"0IEcLt35uowAB56zJBh5":[728,90],"01PMDjWIedPS1TmVKJGn":[970,250]};return i[e]?i[e]:this.sizes[t][0]},getSizes:function(e){return this.sizes[e]},fitSizes:function(e,t,i){return!!this.sizes[e].find(function(e){return e[0]===parseInt(i)&&e[1]===parseInt(t)})},getProductMin:function(e,t){return this.limits[e]?this.limits[e][t]:this.limits.default[t]},getPrimarySize:function(e){return this.sizes[e][0]}};t.default=n},558:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r=s(i(4)),o=s(i(2)),a=s(i(1));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],o=Object.getOwnPropertyDescriptor(t,r);o&&o.configurable&&void 0===e[r]&&Object.defineProperty(e,r,o)}}(e,t))}var u=new WeakMap,c=function(e){function t(i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this)),r=n,o={};return u.set(r,o),o.di=i.di,r._createStyleElement(),o._rules=[],n}return d(t,e),t.prototype._createStyleElement=function(){u.get(this).di.jDOM.createElement("style",{parent:"@head",tag:"style",attributes:{type:"text/css"}})},t.prototype._getCSSForArray=function(e){for(var t=this,i=void 0,n="",r=function(){var e=(i=t._getRule(i)).properties;n+=i.selector+"{",Object.keys(e).forEach(function(t){n+=t+":"+e[t]+";"}),n+="}"};i=e.shift();)r();return n},t.prototype._getCSSForSingle=function(e){var t=this._getRule(e),i=t.properties,n="";return n+=t.selector+"{",Object.keys(i).forEach(function(e){n+=e+":"+i[e]+";"}),n+="}"},t.prototype._getCSSForAll=function(){for(var e=this,t=u.get(e)._rules.slice(),i=void 0,n="",r=function(){var t=(i=e._getRule(i.name)).properties;if(i.abstract)return"continue";n+=i.selector+"{",Object.keys(t).forEach(function(e){n+=e+":"+t[e]+";"}),n+="}"};i=t.shift();)r();return n},t.prototype._getParentFullPath=function(e){var t=u.get(this)._rules.find(function(t){return t.name===e});if(!t.parent)return[t.selector];var i=this._getParentFullPath(t.parent);return i.push(t.selector),i},t.prototype._getRule=function(e){var t=this,i=u.get(t)._rules.find(function(t){return t.name===e}),n="";if(!i)throw t.error(202,{name:e});var r=[];if(i.parent&&(r=t._getParentFullPath(i.parent)),i.inherits&&i.extends)throw t.error(201,{class:"JHelperStyleSheetBuilder",name:i.name});if(i.joinWith)if(Array.isArray(i.joinWith))for(var o=void 0;o=i.joinWith.shift();)n+=(o=t._getRule(o)).selector;else n+=t._getRule(i.joinWith).selector;var a=t._walkToRoot(i);return r.push(a.selector),{selector:n+r.join(" "),properties:a.properties}},t.prototype._registerRedraw=function(e){var t=this;o.default.delay(t,function(){t._needsRedraw=!1,t.apply(e)},0)},t.prototype._walkToRoot=function(e){var t=u.get(this),i=void 0;if(e.inherits&&e.extends)throw this.error(201,{class:"JHelperStyleSheetBuilder",name:e.name});if(!e.inherits&&!e.extends)return{selector:e.selector,properties:e.properties};e.inherits?i=t._rules.find(function(t){return t.name===e.inherits}):e.extends&&(i=t._rules.find(function(t){return t.name===e.extends}));var r=this._walkToRoot(i),o={name:"",properties:{}};return n(o.properties,r.properties),n(o.properties,e.properties),e.inherits?o.selector=e.selector:e.extends&&(o.selector=r.selector+"__"+e.selector),o},t.prototype.addRule=function(e,t){var i=u.get(this),n=i._rules,r=-1;if(a.default.isIE10()){for(var o=0;o<i._rules.length;++o)if(i._rules[o].name===e){r=o;break}}else a.default.isIE()?n.some(function(t,i){if(t.name===e)return r=i,!0}):r=n.findIndex(function(t){return t.name===e});return r>-1&&n.splice(r,1),t.name=e,n.push(t),this},t.prototype.apply=function(e){var t=this,i=u.get(t).di.jDOM,n=function(){i.getElement("style").getDOMElement().innerText=t.getCSS(e)};if(!i.isRendered()){var r=i.subscribe("afterRender",function(){r(),n()});return t}return n(),t},t.prototype.getCSS=function(e){return Array.isArray(e)?this._getCSSForArray(e):void 0===e?this._getCSSForAll():this._getCSSForSingle(e)},t.prototype.removeRule=function(e){var t=u.get(this),i=-1;if(a.default.isIE10()){for(var n=0;n<t._rules.length;++n)if(t._rules[n].name===e){i=n;break}}else a.default.isIE()?t._rules.some(function(t,n){if(t.name===e)return i=n,!0}):i=t._rules.findIndex(function(t){return t.name===e});return i>-1&&t._rules.splice(i,1),this},t.prototype.setRuleProperty=function(e,t,i){var n=this,r=u.get(n),o=r.di.jDOM,a=r._rules.find(function(t){return t.name===e});if(!a)throw n.error(202,{name:e});return i?a.properties[t]=i:delete a.properties[t],o.isRendered()&&(n._needsRedraw||(n._needsRedraw=!0,n._registerRedraw())),n},t.prototype.setRulePropertyArray=function(e){var t=this;return e.forEach(function(e){t.setRuleProperty(e[0],e[1],e[2])}),t},t.factory=function(e){return new t(e)},t}(r.default);t.default=c},559:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(42)),r=d(i(83)),o=d(i(4)),a=d(i(2)),s=d(i(1));function d(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],o=Object.getOwnPropertyDescriptor(t,r);o&&o.configurable&&void 0===e[r]&&Object.defineProperty(e,r,o)}}(e,t))}var c=s.default.getTopScope(),l=new WeakMap,p=function(e){function t(i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this)),r=n,o={};return l.set(r,o),o.di=i.di,o.settings={start:Date.now(),firstTrack:!0,interval:[667,1334,2668,5336],intervalLevel:0,key:"",cover:"",source:"",scope:"",endOfTrack:!1,startView:0,inViewTime:0,alwaysInView:!1,visibleOnBlur:!1,checkInView:!0},o.interaction={number:0,close:0,times:{total:0},lastInteractionTime:{left:0,right:0,center:0,top:0}},o.pauseTracking=!1,r.setKey(),r.setSource(),r.bindEvents(),n}return u(t,e),t.prototype._bindScrollEvent=function(){var e=l.get(this),t=s.default.getTopScope(),i=function(){e.settings.checkInView=!0,n()},n=function(){t.removeEventListener("scroll",i)};t.addEventListener("scroll",i)},t.prototype.checkRegisteredAt=function(e){var t=l.get(this).di,i=Date.now();if(t.global&&t.global.server&&t.global.server.registeredAt){var n=i-t.global.server.registeredAt;return(n=n/1e3/60)<e}return!1},t.prototype.bindEvents=function(){var e=this,t=l.get(e),i=t.di.jDOM.getScope();t.settings.checkInView=i.window.document.hasFocus(),!t.di.config||"pa"!==t.di.config.format&&"pd"!==t.di.config.format||t.settings.checkInView||e._bindScrollEvent(),c.addEventListener("beforeunload",function(t){try{e.sendTracking()}catch(e){}}),i.addEventListener("focus",function(){t.settings.checkInView=!0,(t.settings.alwaysInView||t.settings.visibleOnBlur)&&e.inView(!0)}),i.addEventListener("blur",function(){t.settings.checkInView=!1,t.settings.startView=0,t.settings.inViewInterval&&t.settings.inViewInterval()})},t.prototype.geo=function(){var e=l.get(this);if(e.di.global&&e.di.global.geo)return e.di.global.geo},t.prototype.getQueryVariable=function(e){for(var t=c.location.search.substring(1).split("&"),i=0;i<t.length;i++){var n=t[i].split("=");if(n[0]==e)return n[1]}return!1},t.prototype.init=function(e,t){var i=this,n=l.get(i),r=5e3;n.settings.firstTrack&&(n.settings.start=Date.now(),n.settings.firstTrack=!1,t&&(n.settings.startView=Date.now())),n.settings.endOfTrack||(!0===t&&(n.settings.alwaysInView=!0,i.inView(!0)),null!==e&&(n.settings.cover=parseFloat(e)),r=n.settings.intervalLevel<3?n.settings.interval[0]:n.settings.intervalLevel>=3&&n.settings.intervalLevel<6?n.settings.interval[1]:n.settings.intervalLevel>=6&&n.settings.intervalLevel<9?n.settings.interval[2]:n.settings.interval[3],n.settings.intervalLevel++,n.settings.trackingInterval=a.default.delay(i,function(){i.sendTracking(),i.init(n.settings.cover,n.settings.alwaysInView)},r))},t.prototype.initCustomTracking=function(e,t){var i=l.get(this);e&&(e.type||"click"===e)&&("scroll"!==e.type||i.pauseTracking?"scroll"!==e.type&&this.sendCustomTracking(e,t):(i.pauseTracking=!0,this.sendCustomTracking(e,t),a.default.delay(this,function(){i.pauseTracking=!1},250)))},t.prototype.inView=function(e){var t=this,i=l.get(t);e&&i.settings.checkInView?(i.settings.startView>0&&(i.settings.inViewTime+=Date.now()-i.settings.startView,i.settings.startView=0),i.settings.startView=Date.now(),i.settings.visibleOnBlur=!0,i.settings.inViewInterval=a.default.delay(t,function(){i.settings.inViewInterval(),t.inView(!0)},500)):(i.settings.startView=0,i.settings.visibleOnBlur=!1,i.settings.inViewInterval&&i.settings.inViewInterval())},t.prototype.sendTracking=function(){var e=l.get(this),t=e.di,i=t.jModel,o=t.config,a=i.getData("width"),s=i.getData("height"),d=i.getData("isAdv"),u=Date.now()-e.settings.start,p=e.settings.inViewTime,g=e.interaction.times,f=e.interaction.close,h=e.settings.key,y=e.settings.source,v=e.settings.cover;if(!this.checkRegisteredAt(30))return!1;var m=r.default.factory("adserver","in",t.global,e.settings.model);m.set("cid",h),m.set("zoneId",o.zoneId),m.set("adId",o.adId),m.set("ssp",o.ssp),m.set("dealId",o.dealId?o.dealId:""),m.set("format",o.format),m.set("placementId",o.adunitid),m.set("sourceId",o.sourceId),m.set("creativeWidth",a),m.set("creativeHeight",s),m.setJsonParams({vt:u,it:p,ae:g,cc:f,sc:v,cs:y,isAdv:d||0}),n.default.instance().trackRaw(m),c.trackOnScreen&&"true"===this.getQueryVariable("trackingDebug")&&c.trackOnScreen({vt:u,it:p,ae:g,cc:f,sc:v})},t.prototype.sendCustomTracking=function(e,t){var i=l.get(this),o=i.di,a=o.jModel,s=o.config,d=a.getData("width"),u=a.getData("isAdv"),c=a.getData("height"),p=i.settings.key,g={},f=void 0;"click"===e?(f=r.default.factory("adserver","cl",o.global,i.settings.model),g={element:t||""}):(f=r.default.factory("adserver","cu",o.global,i.settings.model),g={type:e.type,timeStamp:e.timeStamp,action:t||"",isAdv:u||0}),f.set("cid",p),f.set("zoneId",s.zoneId),f.set("adId",s.adId),f.set("ssp",s.ssp),f.set("dealId",s.dealId?s.dealId:""),f.set("format",s.format),f.set("placementId",s.adunitid),f.set("sourceId",s.sourceId),f.set("creativeWidth",d),f.set("creativeHeight",c),f.setJsonParams(g),n.default.instance().trackRaw(f)},t.prototype.setAdCover=function(e){l.get(this).settings.cover=parseFloat(e)},t.prototype.setKey=function(){var e=l.get(this),t=e.di.jModel.getData("creative").html,i=void 0;null===(i=t.match(/\/hostingTags\/[0-9a-zA-Z_.-]+/))&&(i=t.match(/\/hostingTags\\\/[0-9a-zA-Z_.-]+/)),i&&(i=i[0].match(/[0-9]+/)),null===i?(i=t.match(/\/api\/[0-9a-zA-Z_.%-]+\/[0-9a-zA-Z_.%-]+\/[0-9a-zA-Z_.%-]+\/[0-9a-zA-Z_.%-]+/),e.settings.key=i?i[0].substr(5):""):e.settings.key=i?i[0]:""},t.prototype.setSource=function(){var e=l.get(this),t=e.di.jModel.getData("creative").html,i=t.match(/justpremium.s3.amazonaws.com/),n=t.match(/d2nvliyzbo36lk.cloudfront.net/),r=t.match(/cdn.justpremium.com/);null!==i?e.settings.source="s3":null!==n?e.settings.source="cloudfront":null!==r&&(e.settings.source="cdn")},t.prototype.startInteraction=function(e){var t=l.get(this);t.interaction.number++,t.interaction.lastInteractionTime[e]=Date.now(),t.settings.trackingInterval()},t.prototype.stopInteraction=function(e){var t=l.get(this);t.interaction.times[e]||(t.interaction.times[e]=[],t.interaction.times[e+"_t"]=0),t.interaction.lastInteractionTime[e]>0&&(t.interaction.times[e].push(Date.now()-t.interaction.lastInteractionTime[e]),t.interaction.times[e+"_t"]+=Date.now()-t.interaction.lastInteractionTime[e],t.interaction.times.total+=Date.now()-t.interaction.lastInteractionTime[e],t.interaction.lastInteractionTime[e]=0),this.sendTracking(),this.init(t.settings.cover,t.settings.alwaysInView)},t.prototype.stopTracking=function(){var e=l.get(this),t=!0,i=!1,n=void 0;try{for(var r,o=Object.keys(e.interaction.lastInteractionTime)[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;e.interaction.lastInteractionTime[a]>0&&this.stopInteraction(a)}}catch(e){i=!0,n=e}finally{try{!t&&o.return&&o.return()}finally{if(i)throw n}}e.settings.checkInView=!1,e.interaction.close++,e.settings.trackingInterval&&e.settings.trackingInterval(),e.settings.endOfTrack=!0,this.sendTracking()},t.prototype.videoTracking=function(e){var t=l.get(this),i=t.di,o=i.jModel,a=i.config,s=o.getData("width"),d=o.getData("height"),u=t.settings.key,p=void 0;(p=r.default.factory("adserver","vi",i.global,t.settings.model)).set("cid",u),p.set("zoneId",a.zoneId),p.set("adId",a.adId),p.set("ssp",a.ssp),p.set("dealId",a.dealId?a.dealId:""),p.set("format",a.format),p.set("placementId",a.adunitid),p.set("sourceId",a.sourceId),p.set("creativeWidth",s),p.set("creativeHeight",d),p.set("message",e[0].action.type),e[0].player.name="justpremium",e[0].creative.product=o.getFormat(),e[0].creative.type=e[0].creative.type?e[0].creative.type:"video-only",e[0].creative.id=u,e[0].site.domain=c.location.host,e[0].site.tagid=o.getData("zoneId").toString(),e[0].site.integration=o.getData("integration")||"st",p.setJsonParams(e[0]),n.default.instance().trackRaw(p)},t.factory=function(e){return new t(e)},t}(o.default);t.default=p},560:function(e,t,i){"use strict";!function(){var e,t,i,n,r;n=window.IDBObjectStore||window.webkitIDBObjectStore||window.mozIDBObjectStore||window.msIDBObjectStore,i=window.IDBIndex||window.webkitIDBIndex||window.mozIDBIndex||window.msIDBIndex,void 0!==n.prototype.getAll&&void 0!==i.prototype.getAll||(r=function(){this.onsuccess=null,this.readyState="pending"},e=function(e,t){return{type:e,debug:t,bubbles:!1,cancelable:!1,eventPhase:0,timeStamp:new Date}},t=function(t){var i,n;return t=void 0!==t?t:null,i=new r,n=[],this.openCursor(t).onsuccess=function(t){var r,o;(r=t.target.result)?(n.push(r.value),r.continue()):"function"==typeof i.onsuccess&&((o=new e("success")).target={readyState:"done",result:n},i.onsuccess(o))},i},void 0===n.prototype.getAll&&(n.prototype.getAll=t),void 0===i.prototype.getAll&&(i.prototype.getAll=t))}()},564:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(i(26));r(i(2));function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],o=Object.getOwnPropertyDescriptor(t,r);o&&o.configurable&&void 0===e[r]&&Object.defineProperty(e,r,o)}}(e,t))}var a=new WeakMap,s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n)),o=r,s={};return o._promises=[],a.set(o,s),s.di=n.di,s.video=n.video,s.adContainer=n.adContainer,s.parent=n.container,s.video.muted=!0,s.sizes=n.sizes,s.isPlaying=!1,s.isPausedAd=!1,s._adDuration=3,s._adCurrentTime=0,s.getVastMediaHeight=0,s.getVastMediaWidth=0,s._isVpaid=!1,s.adsManager=null,s.adsRequest=null,google.ima.settings.setCookiesEnabled(!1),s.adDisplayContainer=new google.ima.AdDisplayContainer(s.adContainer,s.video),s.adsLoader=new google.ima.AdsLoader(s.adDisplayContainer),window.top.adsLoader=s.adsLoader,s.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.INSECURE),i(565),r}return o(t,e),t.prototype._applyStyles=function(){var e=a.get(this);e.video.style.width=e.parent.style.width="100%",e.video.style.height=e.parent.style.height="100%"},t.prototype._bindFocusEvent=function(){var e=this;a.get(e).di.jDOM.getScope().addEventListener("focus",function(){e.publish("focus",[e])})},t.prototype._bindImaEvents=function(){var e=this,t=a.get(e),i=t.di.jTracking;e.subscribe("imaClick",function(e){i.videoTracking(e)}),e.subscribe("imaComplete",function(e){i.videoTracking(e)}),e.subscribe("imaFirstQuartile",function(e){i.videoTracking(e)}),e.subscribe("imaLoaded",function(e){i.videoTracking(e)}),e.subscribe("imaMidpoint",function(e){i.videoTracking(e)}),e.subscribe("imaPaused",function(t){e.getCurrentTimeInPercent()<98&&i.videoTracking(t)}),e.subscribe("imaResumed",function(e){i.videoTracking(e)}),e.subscribe("imaStarted",function(e){i.videoTracking(e)}),e.subscribe("imaThirdQuartile",function(e){i.videoTracking(e)}),e.subscribe("imaUserClose",function(e){e&&0===e.length&&(e=[{player:{sdk:"IMA",height:t.getVastMediaHeight,width:t.getVastMediaWidth},creative:{type:"video-only"},action:{type:"USER_CLOSE",emitted:"user",playback:t._adCurrentTime},site:{}}]),i.videoTracking(e)}),e.subscribe("imaVolumeChanged",function(e){i.videoTracking(e)}),e.subscribe("imaVolumeMuted",function(e){i.videoTracking(e)})},t.prototype._bindMuteEvent=function(){var e=this;a.get(e).di.jDOM.getScope().addEventListener("blur",function(){e.publish("blur",[e])})},t.prototype._onAdError=function(e){this.publish("playerError",[e])},t.prototype._onAdsManagerLoaded=function(e){var t=this,i=a.get(t);i.adsManager=e.getAdsManager(i.video),window.top.adsManager=i.adsManager,i.adsManager.addEventListener(google.ima.AdEvent.Type.AD_PROGRESS,function(e){var n=e.getAdData();i._adCurrentTime=n.currentTime||i.adContainer.querySelector("video").currentTime,t.publish("progress",[t,i.video])}),i.adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,function(e){i.isPausedAd||i.adsManager.pause();var n={player:{sdk:"IMA",height:e.getAd().getVastMediaHeight(),width:e.getAd().getVastMediaWidth()},creative:{},action:{type:"CLICK",emitted:"user",playback:i._adCurrentTime},site:{}};t.publish("imaClick",[n]),t.publish("clicked",[t,i.video])}),i.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,function(e){var n={player:{sdk:"IMA",height:e.getAd().getVastMediaHeight(),width:e.getAd().getVastMediaWidth()},creative:{},action:{type:"COMPLETE",emitted:"auto",playback:i._adCurrentTime},site:{}};t.publish("imaComplete",[n]),t.publish("complete",[t,e])}),i.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this._onContentPauseRequested.bind(t)),i.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this._onContentResumeRequested.bind(t)),i.adsManager.addEventListener(google.ima.AdEvent.Type.FIRST_QUARTILE,function(e){var n={player:{sdk:"IMA",height:e.getAd().getVastMediaHeight(),width:e.getAd().getVastMediaWidth()},creative:{},action:{type:"FIRST_QUARTILE",emitted:"auto",playback:i._adCurrentTime},site:{}};t.publish("imaFirstQuartile",[n])}),i.adsManager.addEventListener(google.ima.AdEvent.Type.IMPRESSION,function(e){t.publish("adImpression",[t,e.getAd().getApiFramework()])}),i.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,function(e){var n={player:{sdk:"IMA",height:e.getAd().getVastMediaHeight(),width:e.getAd().getVastMediaWidth()},creative:{},action:{type:"LOADED",emitted:"auto",playback:i._adCurrentTime},site:{}};t.publish("imaLoaded",[n]),t.publish("adLoaded",[t,i.video])}),i.adsManager.addEventListener(google.ima.AdEvent.Type.LOG,function(e){}),i.adsManager.addEventListener(google.ima.AdEvent.Type.MIDPOINT,function(e){var n={player:{sdk:"IMA",height:e.getAd().getVastMediaHeight(),width:e.getAd().getVastMediaWidth()},creative:{},action:{type:"MIDPOINT",emitted:"auto",playback:i._adCurrentTime},site:{}};t.publish("imaMidpoint",[n])}),i.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,function(e){i.isPlaying=!1,i.isPausedAd=!0;var n={player:{sdk:"IMA",height:e.getAd().getVastMediaHeight(),width:e.getAd().getVastMediaWidth()},creative:{},action:{type:"PAUSED",emitted:i.pauseTriggeredByUser||i.userPaused?"user":"auto",playback:i._adCurrentTime},site:{}};t.publish("imaPaused",[n])}),i.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,function(e){i.isPlaying=!0,i.isPausedAd=!1;var n={player:{sdk:"IMA",height:e.getAd().getVastMediaHeight(),width:e.getAd().getVastMediaWidth()},creative:{},action:{type:"RESUMED",emitted:i.playTriggeredByUser?"user":"auto",playback:i._adCurrentTime},site:{}};t.publish("imaResumed",[n])}),i.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,function(e){i.getVastMediaHeight=e.getAd().getVastMediaHeight(),i.getVastMediaWidth=e.getAd().getVastMediaWidth();var n={player:{sdk:"IMA",height:e.getAd().getVastMediaHeight(),width:e.getAd().getVastMediaWidth()},creative:{},action:{type:"STARTED",emitted:"auto",playback:i._adCurrentTime},site:{}};t.publish("imaStarted",[n])}),i.adsManager.addEventListener(google.ima.AdEvent.Type.THIRD_QUARTILE,function(e){var n={player:{sdk:"IMA",height:e.getAd().getVastMediaHeight(),width:e.getAd().getVastMediaWidth()},creative:{},action:{type:"THIRD_QUARTILE",emitted:"auto",playback:i._adCurrentTime},site:{}};t.publish("imaThirdQuartile",[n])}),i.adsManager.addEventListener(google.ima.AdEvent.Type.USER_CLOSE,function(e){var n={player:{sdk:"IMA",height:e.getAd().getVastMediaHeight(),width:e.getAd().getVastMediaWidth()},creative:{},action:{type:"USER_CLOSE",emitted:"user",playback:i._adCurrentTime},site:{}};t.publish("imaUserClose",[n])}),i.adsManager.addEventListener(google.ima.AdEvent.Type.VOLUME_CHANGED,function(e){var n={player:{sdk:"IMA",height:e.getAd().getVastMediaHeight(),width:e.getAd().getVastMediaWidth()},creative:{},action:{type:"VOLUME_CHANGED",emitted:i.unmuteTriggeredByUser||i.muteTriggeredByUser?"user":"auto",playback:i._adCurrentTime},site:{}};t.publish("imaVolumeChanged",[n])}),i.adsManager.addEventListener(google.ima.AdEvent.Type.VOLUME_MUTED,function(e){var n={player:{sdk:"IMA",height:e.getAd().getVastMediaHeight(),width:e.getAd().getVastMediaWidth()},creative:{},action:{type:"VOLUME_MUTED",emitted:i.muteTriggeredByUser?"user":"auto",playback:i._adCurrentTime},site:{}};t.publish("imaVolumeMuted",[n])}),i.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this._onAdError.bind(t));try{i.adsManager.init(i.sizes[0],i.sizes[1],google.ima.ViewMode.NORMAL),i.adsManager.start(),t.publish("playerLoaded",[])}catch(e){t.publish("playerError",[e])}},t.prototype._onContentPauseRequested=function(e){var t=a.get(this);t._isVpaid="VPAID"===e.getAd().getApiFramework(),t._adDuration=e.getAd().getDuration()},t.prototype._onContentResumeRequested=function(){var e=this,t=a.get(e);e.publish("ended",[e,t.video]),e.publish("close",[e,t.video]),t.adsLoader.destroy()},t.prototype._prepareVideo=function(){a.get(this).di.jModel},t.prototype._setPrefix=function(e){this._prefix=e||"jp-video-"},t.prototype.getContainer=function(){var e=a.get(this);return{clientWidth:e.parent.clientWidth,clientHeight:e.parent.clientHeight,setStyle:function(t,i){e.parent.style[t]=i}}},t.prototype.getCurrentTime=function(){return a.get(this)._adCurrentTime},t.prototype.getCurrentTimeInPercent=function(){return a.get(this)._adCurrentTime/this.getDuration()*100},t.prototype.getDuration=function(){return a.get(this)._adDuration},t.prototype.getParentObject=function(){return a.get(this).parent},t.prototype.getPlayerHeight=function(){return this.getParentObject().offsetHeight},t.prototype.getPlayerWidth=function(){return this.getParentObject().offsetWidth},t.prototype.getPrefix=function(){return this._prefix},t.prototype.init=function(){var e=a.get(this);e.adDisplayContainer.initialize(),e.adsRequest=new google.ima.AdsRequest,e.adsRequest.adsResponse=e.di.jModel.getData("creative.vastRaw"),e.adsRequest.adsResponse=e.adsRequest.adsResponse.replace('<?xml version="1.0" encoding="UTF-8" ?>',""),window.top._vast=e.adsRequest.adsResponse,e.adsRequest.linearAdSlotWidth=e.sizes[0],e.adsRequest.linearAdSlotHeight=e.sizes[1],e.adsRequest.vastLoadTimeout=12e3,e.adsRequest.nonLinearAdSlotWidth=e.sizes[0],e.adsRequest.nonLinearAdSlotHeight=e.sizes[1],e.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this._onAdsManagerLoaded.bind(this),!1),e.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this._onAdError.bind(this),!1),this.requestAds()},t.prototype.isMuted=function(){return!a.get(this).adsManager.getVolume()},t.prototype.isPlaying=function(){return a.get(this).isPlaying},t.prototype.isVpaid=function(){return!!a.get(this)._isVpaid},t.prototype.mute=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=a.get(this);t.video.muted=!0,t.video.volume=0,t.adsManager.setVolume(0),t.muteTriggeredByUser=e},t.prototype.pause=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=a.get(this);t.video.pause(),t.adsManager.pause(),t.isPlaying=!1,t.pauseTriggeredByUser=e},t.prototype.play=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=a.get(this);this.publish("play",[]),t.playTriggeredByUser=e,t.isPausedAd?t.adsManager.resume():t.isPlaying=!0},t.prototype.ready=function(){return Promise.all(this._promises).then(function(e){return e})},t.prototype.removeParentClass=function(e){var t=a.get(this),i=t.parent,n="";null!==i.getAttribute("class")&&(n=i.getAttribute("class").replace(new RegExp(e,"g"),"").replace("  ",""),t.parent.setAttribute("class",n))},t.prototype.resetPlayerTime=function(){a.get(this).video.currentTime=.2},t.prototype.requestAds=function(){var e=a.get(this);this.publish("onRequestAds",[this]),e.adsLoader.requestAds(e.adsRequest)},t.prototype.setParentClass=function(e){var t=a.get(this),i=t.parent,n="";null!==i.getAttribute("class")&&(n=i.getAttribute("class")),t.video.classList.add("jpx-hidden"),t.parent.setAttribute("class",n+" "+e)},t.prototype.unmute=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=a.get(this);t.video.muted=!1,t.video.volume=1,t.adsManager.setVolume(1),t.unmuteTriggeredByUser=e},t.prototype.setup=function(e,t){this._bindMuteEvent(),this._bindFocusEvent(),this._bindImaEvents(),this._applyStyles()},t}(n.default);t.default=s},565:function(e,t,i){var n=i(566);"string"==typeof n&&(n=[[e.i,n,""]]);i(6)(n,{window:"top"});n.locals&&(e.exports=n.locals)},566:function(e,t,i){(e.exports=i(5)()).push([e.i,".jp-video-ima-container{position:relative}.jp-video-ima-container #video-ima-jp,.jp-video-ima-container .jpx-vpaid-adContainer{position:absolute;top:0;left:0}.jp-video-ima-container .jpx-vpaid-adContainer iframe{position:absolute!important;width:100%!important;top:0!important;left:0!important}.jp-video-ima-container .jpx-vpaid-adContainer>div{width:100%!important;height:100%!important}.jpx-hv-ad .jp-video-ima-container{background:#000}",""])},61:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(i(4)),r=u(i(19)),o=u(i(119)),a=u(i(558)),s=(u(i(22)),u(i(559))),d=u(i(230));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],o=Object.getOwnPropertyDescriptor(t,r);o&&o.configurable&&void 0===e[r]&&Object.defineProperty(e,r,o)}}(e,t))}var l=new WeakMap,p=function(e){function t(i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,i)),r=n,o={},a=(i=i||{}).di||{};return l.set(r,o),o.di=a,n}return c(t,e),t.prototype._executionFail=function(e,t){var i=t.di.jModel;switch(e.code){case 299:throw r.default.warn("JExecution: Reroute to other product."),e;default:throw r.default.error("JExecution: Initialization failed."),this.publish("execError",[e,i]),e}},t.prototype._setupExecution=function(e){return e},t.prototype._prepareModel=function(e){var t=e.di,i=t.jModel;return r.default.info("JExecution: after ad frame write"),this.publish("afterFrameWrite",[this,t.jAdFrame,i]),r.default.info("JExecution: before model load"),i.load().catch(function(e){}),i.ready()},t.prototype._runProduct=function(e){var t=this,i=e.di,n=l.get(t).di.window,o=i.constructor,a=i.jModel;t.publish("adFrameReady",[t,i.jAdFrame,a,n,window]),r.default.info("JExecution: after model loaded.");var s=o.factory({di:e.di});s.subscribe("productError",function(n){t._clearExecution(e),t.publish("executionFailure",[n[0],i.jModel])}),e.di.jProduct=s,e.di.jCompatibilityAdapter.setDependency("jProduct",s),e.di.jProductApi.setDependency("jProduct",s),t.publish("afterProductInit",[t,s,a,n,window]),r.default.info("JExecution: Initializing product with id "+s.getId()+" class."),t.publish("beforeProductSetup",[t,s,a,n,window]),t.publish("beforeProductSetupDeprecated",[t,s,a,n,window]),s.setup(),t.publish("afterProductCreate",[t,s,a,n,window]),s.render(),t.publish("afterProductRender",[t,s,a,n,window]),s.appendTo(n.document.body),t.publish("afterProductAppend",[t,s,a,n.document.body,window]),s.subscribe("afterDestroy",function(){r.default.info("JExecution: Ad:"+s.getId()+" closed."),t.publish("afterProductDestroy",[t,a]),delete i.jProduct}),s.show(),r.default.alwaysLog("info","JExecution: Ad:"+a.getFormat()+"["+a.getData("ssp")+":"+a.getData("sourceId")+"] shown."),t.publish("afterProductShow",[t,s,a])},t.prototype._execute=function(e){var t=this,i=e.di,n=i.jAdFrame,r=i.jModel,o=l.get(t).di.window;return t.publish("beforeInit",[t,n,r,o,window]),t.publish("beforeFrameWrite",[t,r,n]),22===r.getData("ssp")&&!0===r.getData("regular")&&r.getData().data&&r.getData().data.res_id&&(d.default.checkSupport()&&d.default.deleteById(r.getData().data.res_id),r.getData().data.source&&"cache"===r.getData().data.source&&t.publish("servedFromCache",[t,r])),t.broadcast(n,"extendExecutionDetected"),n.render().ready().then(function(){return t._setupExecution(e)}).then(function(){return t._prepareModel(e)}).then(function(){return t._runProduct(e)}).catch(function(i){t._clearExecution(e),t._executionFail(i,e),t.destroy()})},t.prototype._clearExecution=function(e){e.di.jProduct?e.di.jProduct.destroy():e.di.jAdFrame.destroy()},t.prototype._initializeDependency=function(e){var t=this,i=l.get(t).di,n=i.window,r=i.Jpx[function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(e.format)],d=new o.default({di:{window:n}}),u=a.default.factory({di:{jDOM:d,window:n}}),c=r.getModel(e),p=void 0;p=s.default.factory({di:{jExecution:t,jModel:c,jDOM:d,global:e.global,config:e.model,localWindow:i.localWindow,window:n}});var g=r.getProductApi({di:{jExecution:t,jModel:c,jDOM:d,jStyle:u,jTracking:p,localWindow:i.localWindow,window:n}}),f=r.getCompatibilityAdapter({di:{jExecution:t,jModel:c,jStyle:u,jDOM:d},options:e}),h={di:{window:n}};c.getData("prerendered")&&(h.elId=c.getData("prerendered"));var y={di:{window:n,localWindow:i.localWindow,jCompatibilityAdapter:f,jModel:c,jProductApi:g,jDOM:new o.default(h),global:e.global||{}},parent:n.document.body},v=r.getAdFrame(y);return f.setDependency("jAdFrame",v),f.setDependency("jProductApi",g),t._prepareFrameTracking({di:{jAdFrame:v,jModel:c,jProductApi:g}}),{jCompatibilityAdapter:f,jAdFrame:v,jDOM:d,jTracking:p,jModel:c,jStyle:u,jProductApi:g,constructor:r}},t.prototype.run=function(e){var t=this,i=void 0,n=void 0;i=t._initializeDependency(e),t.publish("dependenciesReady",[i.jModel,i.jProductApi]),n=i.jCompatibilityAdapter;var o=e.product.inits||{};return n.sandbox(o.product||""),o&&(o.site&&(n.sandbox(o.site),o.siteKey=o.siteKey||"unknow",i.jModel.addProperty("executedSiteInit",o.siteKey),o.siteKey=o.siteKey||"",t.publish("siteInitRunning",[t,i.jAdFrame,e.model,o.siteKey])),o.ad&&n.sandbox(o.ad),o.settings&&i.jModel.addProperty("executedSiteInitSettings",o.settings)),r.default.info("JExecution: before ad frame write"),t._execute({di:i,global:e.global})},t.prototype._prepareFrameTracking=function(e){var t=this;e.di.jAdFrame.subscribe("runAdInFrame",function(i){t.publish("runAdInFrame",[t,e.di.jAdFrame,e.di.jModel])}),e.di.jProductApi.subscribe("apiExecError",function(e){t.publish("apiExecError",[e[0],e[1]])})},t}(n.default);t.default=p}});this.Jpx=this.Jpx||{},this.Jpx.JAM=webpackJsonpJpx__name_([22],{554:function(e,t,n){"use strict";e.exports=n(555).default},555:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(4)),o=(l(n(124)),l(n(19))),i=(l(n(2)),l(n(1))),u=l(n(556)),a=l(n(42)),s=l(n(83)),c=(l(n(557)),l(n(561)));function l(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var f={},d=new WeakMap,h=void 0,y=i.default.getTopScope(),g=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},v=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,t.call(this)),o=r;o._config={},o._timers={},o._matchingPixel={},o.initialized=!0;var i={conflict:{zones:{},formats:{},ads:{}},plugins:Array.isArray(e.plugins)?e.plugins.map(function(e){return{type:e,init:!1}}):[],di:e.di};d.set(o,i);var u=y.jPAM;return o.cmd=o.cmd||u&&u.cmd||[],o.cb=o.cb||u&&u.cb||{},o._shba=o._shba||u&&u._shba||[],r}return p(n,t),n.prototype._initializePlugins=function(e){var t=this,n=d.get(t);return e&&e.length&&e.forEach(function(e){n.di.jTaskManager.push(t,t._addPlugin,[e.type])}),t},n.prototype._hasPlugin=function(e){var t=d.get(this),n="Plugin"+g(e),r=(window.Jpx||y.Jpx)[n];return!(!r||!t.plugins.find(function(e){return e instanceof r}))},n.prototype.isReady=function(){return 0===d.get(this).di.jTaskManager.getCount()},n.prototype._loadScript=function(e){var t=this;return e?(Array.isArray(e)||(e=[e]),Promise.all(e.map(function(e){return t._requestResource(e).catch(function(e){throw o.default.error("JAdManager: Server returned empty response"),e})}))):o.default.error("JAdManager: Error attempting to request empty URL")},n.prototype._requestSources=function(e){var t=this;return e?("[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),Promise.all(e.map(function(e){return t._requestSource(e).catch(function(e){return o.default.error("JAdManager: Server returned empty response"),e})}))):o.default.error("JAdManager: Error attempting to request empty URL")},n.prototype._processCmd=function(){var e=this,t=d.get(e).di.jTaskManager,n=function(t){for(var n=[],r=void 0;r=e.cmd.shift();)"function"==typeof r&&n.push(r());return e.publish("flushCmd",[e]),t(n)};return t.getCount()?t.ready(function(){t.push(e,n,[])}):t.push(e,n,[]),e},n.prototype._requestResource=function(e){var t=void 0;if(f[e]){var n=f[e];if(n.isResolved)return Promise.resolve();if(!n.isRejected)return n}(t=document.createElement("script")).type="text/javascript",t.async=!0;var r=new Promise(function(n,o){t.readyState?t.onreadystatechange=function(){"loaded"!==t.readyState&&"complete"!==t.readyState||(t.onreadystatechange=null,r.isResolved=!0,n({url:e,success:!0}))}:t.onload=function(){r.isResolved=!0,n({url:e,success:!0})},t.onerror=function(t){r.isRejected=!0,o({url:e,success:!1,event:t})}});t.src=e.search(/\?/)>-1?e+"&v=v2.12.276":e+"?v=v2.12.276";var o=document.getElementsByTagName("head");return(o=o.length?o:document.getElementsByTagName("body")).length&&(o=o[0]).insertBefore(t,o.firstChild),f[e]=r,r},n.prototype._requestSource=function(e){var t=new window.XMLHttpRequest,n=new Promise(function(r,o){t.readyState?t.onreadystatechange=function(){"loaded"!==t.readyState&&"complete"!==t.readyState||(t.onreadystatechange=null,n.isResolved=!0,t({url:e,success:!0}))}:t.onload=function(){n.isResolved=!0,new Function(t.responseText)(),r({url:e,success:!0})},t.onerror=function(t){n.isRejected=!0,o({url:e,success:!1,event:t})}});return t.open("GET",e,!0),t.withCredentials=!0,t.send(null),n},n.prototype.addPlugin=function(e){return this._addPlugin(e)},n.prototype._addPlugin=function(e,t){var n=this,r=d.get(n),i=d.get(n).plugins,u="Plugin"+g(e),a=function(){var t=i.map(function(e){return e.type}).indexOf(e);i.splice(t,1)};if(n.hasPlugin(e))return t&&t(r.plugins[e]);var Jpx=window.Jpx||y.Jpx||{};return Jpx[u]?(a(),r.plugins[e]=new Jpx[u]({di:{jAdManager:n}}),i.push(r.plugins[e]),t&&t(r.plugins[e])):n._loadScript(["//cdn-cf.justpremium.com/js/v2.12.276/jpx."+u+".js"]).then(function(){o.default.info("JAdManager: plugin "+e+" loaded"),a();var s=new Jpx[u]({di:{jAdManager:n}});return i.push(s),t&&t(r.plugins[e])})},n.prototype.getPlugin=function(e){var t=d.get(this),n="Plugin"+g(e),Jpx=window.Jpx||y.Jpx,r=Jpx[n]?t.plugins.find(function(e){return e instanceof Jpx[n]}):void 0;if(!r)throw this.error(903,{plugin:e});return r},n.prototype.loadFormat=function(e){return(window.Jpx||y.Jpx)[e.charAt(0).toUpperCase()+e.substr(1)]?Promise.resolve():this._loadScript(["//cdn-cf.justpremium.com/js/v2.12.276/jpx."+g(e)+".js"])},n.prototype.hasPlugin=function(e){return this._hasPlugin(e)},n.prototype.init=function(){var e=d.get(this).plugins;return this._initializePlugins(e),this._processCmd(),this},n.prototype.getAdFormats=function(){return this.getPlugin("bidder").getAds().map(function(e){return e.format})},n.prototype.setResourceCache=function(e){for(var t in e)e.hasOwnProperty(t)&&(f[t]=e[t]);return this},n.prototype.processCmd=function(){try{this._processCmd()}catch(r){r.message,r.stack;var t=!1;try{t=this.getPlugin("bidder")}catch(e){}var n=s.default.factory("bidder",t?"berr":"er",e);n.zoneId={}.zone||0,n.errorCode=223,n.stack=r.stack,a.default.instance().trackRaw(n)}return this},n.prototype.setGlobals=function(e,t){return i.default.setDevice(e),c.default.execute({init:t}),this},n.prototype.ready=function(){var e=d.get(this).di.jTaskManager;return{then:function(t){e.ready(t)}}},n.factory=function(e){return new n(e)},n.instance=function(e){return h||((e=e||{}).di=e.di||{},e.di.jTaskManager=u.default.factory(),o.default.debug(!0),o.default.info("JAdManager: version v2.12.276 initialized"),o.default.debug(!1),(h=y.jPAM=n.factory(e)).init(),h)},n}(r.default);t.default=v}).call(t,n(229))},556:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(4));function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var i=new WeakMap,u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return i.set(n,{queue:[]}),n}return o(t,e),t.prototype.push=function(e,t,n){var r=this,o=i.get(r).queue,u=function i(){n.push(function(){var e=o.indexOf(i);o.splice(e,1),r.publish("taskRemoved",[r,o.length])}),t.apply(e,n)};return o.push(u),u(),r},t.prototype.ready=function(e){if(this.getCount())var t=this.subscribe("taskRemoved",function(n){0===n[1]&&(t(),e&&e())});else e&&e();return this},t.prototype.getCount=function(){return i.get(this).queue.length},t.factory=function(){return new t},t}(r.default);t.default=u},557:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=(s(n(84)),s(n(25)),s(n(119))),i=s(n(4)),u=s(n(19)),a=s(n(61));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var l=new WeakMap;var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this)),o=r,i={},u=(n=n||{}).di||{};return l.set(o,i),i.di=u,r}return c(t,e),t.navigate=function(e){if(u.default.info("JExecution: Routing product base on product."),"to"!==e.format)return a.default.run(e),!1;var n=e.di;u.default.info("JExecution: TakeOver format detected and installed.");var i={model:{creative:r({},e.model.creative),inline:e.product.inline,outline:n.window.Jpx&&n.window.Jpx.modules?n.window.Jpx.modules.product.to:{}}},s=n.Jpx.To.To,c=s.getModel(i),l=new o.default({di:{window:n.window}});c.getJSON().then(function(){var r=s.factory({di:{jDOM:l,jModel:c,constructor:s}});s.getCompatibilityAdapter({di:{jProduct:r,jModel:c},options:i}),t.route(e,n.Jpx,c,e.product),r.check()})},t.route=function(e,t,n,r){var o=e.global.site?e.global.site.width:0,i=n.getData("config");return Array.from([{code:"wp",alias:"wp/wv",requires:{siteWidth:!0,init:!0}}]).forEach(function(n){var s=n.alias,c=n.code,l=n.requires;if(l.siteWidth&&!o)return u.default.warn("JRouter: There is no site width for "+n.alias+"."),"inline";if(l.init&&(!r.inits[s]||!r.inits[s].product||!r.inits[s].site))return u.default.warn("JRouter: There is no product or site init for "+n.alias+"."),"inline";if(i[c]){var p=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(c);if(t[p]=t.To[p],!t[p])return"inline";e.format=c,e.model.format=c,e.product.inits.site=e.product.inits[s].site,e.product.inits.product=e.product.inits[s].product,e.product.type=e.product.settings[s].type,e.product.destination=e.product.settings[s].destination,e.product.limits=e.product.settings[s].limits,a.default.run(e)}}),"inline"},t}(i.default);t.default=p},561:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(14)),o=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var a=new WeakMap,s=(o.default.getTopScope(),function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n)),o=r;n=n||{};var i={};return i.di=n.di||{},i.conflict=n.conflict||{},i.conflict.ads=i.conflict.ads||{},i.conflict.formats=i.conflict.formats||{},a.set(o,i),r}return u(t,e),t.prototype._extendFnBody=function(e){return function(){var e=void 0;try{(e=window.top).location.href}catch(t){e=window}var Jpx=e.Jpx||{},t=e.Jpa||{};Jpx.bidder={isConflict:this.isConflict},Jpx.global=Jpx.global||{},Jpx.apply=Jpx.apply||function(){},Jpx.define=Jpx.define||function(){},Jpx.bootstrap=Jpx.bootstrap||function(){},t.define=t.define||function(){},Jpx.modules=Jpx.modules||{},Jpx.modules.platform=Jpx.modules.platform||{},Jpx.modules.product=Jpx.modules.product||{},Jpx.modules.platform.getOpenXScript=Jpx.modules.platform.getOpenXScript||function(){},Jpx.helpers=Jpx.helpers||{},Jpx.helpers.style=Jpx.helpers.style||{},Jpx.helpers.style.addSheet=function(t){var n=e.document,r=n.createElement("style");return r.innerHTML="/* JPX custom stylesheet */ "+t,r.className="jpx-stylesheet-inserted",n.body.appendChild(r),r},Jpx.helpers.style.getValue=function(t,n){return t?e.getComputedStyle&&e.getComputedStyle(t,null)?e.getComputedStyle(t,null).getPropertyValue(n):t.style[n]:""},Jpx.helpers.style.getScale=function(e){var t=Jpx._h.style.getValue(e,"transform").match(/matrix\((-?\d*\.?\d+),\s*0,\s*0,\s*(-?\d*\.?\d+),\s*0,\s*0\)/),n={width:1,height:1};return t&&t[1]?{width:parseFloat(t[1]),height:parseFloat(t[2])}:n},e.Jpx=Jpx,e.Jpa=t}.toString().replace(/function\s*\(\)\s*\{?/i,"").slice(0,-1)+";"+e},t.prototype._extendScope=function(t){var n=a.get(this);t.isConflict=function(e){var t=n.conflict.formats;switch(e){case"wv":case"wp":if(t.wp||t.to)return!0}return!1},e.prototype._extendScope.call(this,t)},t.execute=function(e){new t(e).sandbox("")},t.prototype.setDependency=function(e,t){return a.get(this).di[e]=t,this.publish(e+"DependencySet",[t]),this},t}(r.default));t.default=s}},[554]);this.Jpx=this.Jpx||{},this.Jpx.PluginBidder=webpackJsonpJpx__name_([26],{562:function(e,t,r){"use strict";e.exports=r(563).default},563:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,d=e[Symbol.iterator]();!(n=(a=d.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&d.return&&d.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=l(r(124)),i=l(r(42)),a=l(r(19)),d=l(r(1)),s=l(r(61)),c=l(r(231)),u=l(r(83));function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var p=new WeakMap,g=d.default.getTopScope(),v=function(t){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,t.call(this)),o=n,i={};return i.parent=e.di.jAdManager,i.zones={},i.matchingPixel={},p.set(o,i),n}return f(r,t),r.prototype._execute=function(e,t){var n=this,o=p.get(n),i=r.getExecution({di:{localWindow:t||window,window:g,Jpx:window.Jpx||g.Jpx,jPlugin:n,isVast:!!e.model.creative.vast}});i.subscribe("dependenciesReady",function(e){o.parent.publish("adReady",e)}),e.global=o.zones[e.model.zoneId].settings,e.model.price=parseInt(1e3*e.model.floorprice),e.model.integration="hb",o.parent.loadFormat(e.format).then(function(){return i.run(e)}).catch(function(t){if(299===t.code)return"wp"===e.format&&(e.format="wv"),void n._execute(e,screen);n.publish("error",[t,e]),a.default.error("JAdManager: Loading some resources failed."),console.error(t)})},r.prototype._executePixel=function(e){var t=p.get(this),n=g.document.body,o=t.zones[e].settings;if(!o.server.pixel)return!1;if(t.matchingPixel[e])return!1;var i=r._createIframe();i.style.height=0,i.style.width=0,i.style.visibility="hidden",i.style.overflow="hidden",i.setAttribute("src",o.server.pixel),n.appendChild(i),a.default.info("JPluginBidder: Matching pixel executed.")},r.prototype._saveVersion=function(e){e&&function(e,t,r){var n="";if(r){var o=new Date;o.setTime(o.getTime()+24*r*60*60*1e3),n="; expires="+o.toUTCString()}document.cookie=e+"="+t+n+"; path=/"}("jpxhbjs",e,1)},r.prototype._getAds=function(e){var t=p.get(this),r=[].concat.apply([],Object.keys(t.zones).map(function(e){return t.zones[e].ads}));return e?r.filter(function(t){return t.model.zoneId==e}):r},r.prototype._notifyAboutConflict=function(e){var t=e.ads&&e.ads.length?e.ads.map(function(e){return e.model.adId}):[],r=u.default.factory("bidder","berr",{},{},"Other zone already loaded.");return r.ssp=t.map(function(e){return 22}).join(","),r.adId=t.join(","),i.default.instance().trackRaw(r),a.default.info("JAdManager: other zone already loaded"),!1},r.prototype.getAds=function(){return this._getAds()},r.prototype.execute=function(t,r,n){var o=this._getAds().find(function(e){return e.model.sourceId==t});if(!o)return i.default.instance().track("bidder","berr",e,{},"No ad with source "+t+" found."),!1;try{r&&(o.model.prerendered=r),this._execute(o,n)}catch(t){console.error(t),i.default.instance().track("bidder","berr",e,{},t.toString())}},r.prototype.renderAd=function(e,t,r){return this.execute(e,t,r)},r.prototype.loadBid=function(e){var t=this,r=p.get(t),n=e.server,o=e.tag.zoneid;n&&a.default.debug(n.debug),e.creative.vast&&(e.html=e.vast);var i={format:e.format,model:{prerendered:e.prerendered,format:e.format,adunitid:e.adunitid,creative:{html:decodeURIComponent(e.creative.html)},reqId:e.reqId,zoneId:e.tag.zoneid,adId:e.adId,ssp:e.ssp,isTest:e.isTest,sourceId:e.sourceId,options:e.options,dealId:e.dealId,floorprice:e.cpm||e.floorprice},product:{inits:{product:e.inits.product,site:e.inits.site},settings:{product:e.settings.product},height:e.height,width:e.width}};e.creative.vast&&(i.model.creative.vast=decodeURIComponent(e.creative.vast),i.model.creative.vastRaw=decodeURIComponent(e.creative.vast)),t._saveVersion(n.adpVer),r.parent.setGlobals(n.device||"desktop","");var d=r.zones[o]={ads:[i],inits:{global:""},device:{type:n.device},settings:{site:e.settings.site,server:n,cmp:e.cmp,geo:e.geo}};return a.default.info("JPluginBidder: bid for zone "+o+" loaded"),t.publish("bidLoaded:"+e.tag.zoneid,[t,o,e,d.settings]),t},r.prototype.loadTag=function(e,t){var r=this,n=p.get(r),o=t.settings;if(g._jpx_loaded)return r._notifyAboutConflict();if(o.server&&a.default.debug(o.server.debug),n.zones[e]){var d=t.ads&&t.ads.length?t.ads.map(function(e){return e.model.adId}):[],s=u.default.factory("bidder","berr",o,null,"Zone already loaded.");return s.ssp=d.map(function(e){return 22}).join(","),s.adId=d.join(","),s.zoneId=e,i.default.instance().trackRaw(s),a.default.info("JAdManager: zone "+e+" already loaded")}return n.zones[e]=t||{settings:{}},r._saveVersion(t.adpVer||t.apdVer),r._executePixel(e),n.parent.setGlobals(o&&o.device&&o.device.type||"desktop",o&&o.inits&&o.inits||""),a.default.info("JPluginBidder: zone "+t.settings.server.zone+" loaded"),r.publish("tagLoaded:"+e,[r,e,t.settings]),r},r.prototype.hasAd=function(e){this._config=this._config||{};var t=this._config,r=[];for(var n in t)t.hasOwnProperty(n)&&(r=r.concat(t[n].ads));return r.find(function(t){return t.model.adId===e})},r.prototype._prepareExecutionTracking=function(e){var t=p.get(this),r=e.di.jExecution;return r.subscribe("afterProductShow",function(e){var r=e[2],n=t.zones[r.getData("zoneId")].settings;i.default.instance().track("bidder","bsh",n,r)}),r.subscribe("execError",function(e){var r=e[0],n=e[1],o=t.zones[n.getData("zoneId")].settings;i.default.instance().track("bidder","berr",o,n,r.code||r.message||"Execution error.",r.stack)}),r.subscribe("apiExecError",function(e){var r=e[0],n=e[1],o=t.zones[n.getData("zoneId")].settings;i.default.instance().track("bidder","berr",o,n,r.code||r.message||"Execution error.",r.stack)}),r.subscribe("extendExecutionDetected",function(e){var o=n(e,2),a=(o[0],o[1]),d=JSON.parse(JSON.stringify(a.getData()));d.singleTag=!0,d.zoneId=parseInt(d.extendTag);var s=t.zones[a.getData("zoneId")].settings;a.addProperty("isAdv",!0),i.default.instance().track("extend","eadm",s,d),r.subscribe("afterFrameWrite",function(e){i.default.instance().track("extend","eim",s,d)}),r.subscribe("afterProductShow",function(){i.default.instance().track("extend","esh",s,d)})}),this},r._createIframe=function(){var e=document.createElement("iframe");return e.setAttribute("allowtransparency",!0),e.style.border="0px",e.scrolling="no",e},r.getExecution=function(e){var t=void 0;return t=e.di.isVast?new c.default(e):new s.default(e),e.di.jPlugin._prepareExecutionTracking({di:{jExecution:t}}),t},r}(o.default);t.default=v}).call(t,r(229))}},[562]);this.Jpx=this.Jpx||{},this.Jpx.PluginAdserver=webpackJsonpJpx__name_([3],{180:function(e,t,r){"use strict";function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this))}return n(t,e),t.prototype.run=function(e){var t=this;return t.publish("run",[t,[e]]),t.before(e).then(function(){return t.request(e)}).then(function(e){return t.after(e)}).then(function(r){return t.publish("response",[t,[e],r]),r})},t.prototype.before=function(e){return Promise.resolve(e)},t.prototype.request=function(e){return Promise.resolve({})},t.prototype.after=function(e){return Promise.resolve(e)},t.isMulti=function(){return!1},t.factory=function(){return new t},t}(function(e){return e&&e.__esModule?e:{default:e}}(r(62)).default);t.default=o},232:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=g(r(124)),i=g(r(568)),a=g(r(61)),u=g(r(580)),s=g(r(582)),c=g(r(42)),l=g(r(234)),d=g(r(2)),p=g(r(1)),f=g(r(83)),h=g(r(584)),y=g(r(231));function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var b=new WeakMap,m=p.default.getTopScope(),w=[10386,25709,25710,28835,28836,28837,28838,33306,33310,33707,39822,39823,39824,39827,40642,40644,40645,43943,34698,34699,34700,34701,34704,34705,34706,34707],_=["adnxs.net"],j=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this)),o=n,a={};return a.parent=r.di.jAdManager,b.set(o,a),a.di=r.di,a.di.jQueue=i.default.factory({di:{JPlugin:t,jPlugin:o,jAdManager:r.di.jAdManager}}),a.ads={},a.settings={},a.multiCallerTrackingSet={},a.readAds=[],o._prepareCallerDiv(),o._prepareQueueTracking(),n}return v(t,e),t.prototype.loadTag=function(e,t){var r=b.get(this),n=r.di.jQueue;r.ads=e.ads;var o=r.settings=e.settings;o.tag=o.tag||{},n.setSettings(o),r.di.jAdManager.setGlobals(o&&o.device&&o.device.type||"desktop",o&&o.inits&&o.inits||"");var i=!0,a=!1,u=void 0;try{for(var s,c=r.ads[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value;l.product=l.product||{},l.product.inits=l.product.inits||{},l.product.inits.ad=l.init,l.inline=l.inline||!1,l.regular=!0,l.models.forEach(function(e){e.regular=!0,e.scope=t,o.geo&&(e.geo=o.geo)}),n.insert(l.models,l.format,l.product,l.tracking,l.inline)}}catch(e){a=!0,u=e}finally{try{!i&&c.return&&c.return()}finally{if(a)throw u}}var d=r.settings.server.zone,p=w.indexOf(parseInt(d))>-1,f=_.find(function(e){return m.document.location.hostname.indexOf(e)>-1});p||f||this._prepareHiddenIframe(o),this.run()},t.prototype.getAds=function(){return b.get(this).di.jQueue.getAll()},t.prototype.getQueue=function(){return b.get(this).di.jQueue},t.prototype.run=function(){b.get(this).di.jQueue.run()},t._getExecutionByRunConn=function(e,r){switch(e.conn){case"write":return new u.default({di:r.di});case"asyncWrite":return 13===e.ssp?new h.default({di:r.di}):30===e.ssp||24===e.ssp?new y.default({di:r.di}):new s.default({di:r.di});default:return t._getExecutionBySsp(e,r)}},t._getExecutionBySsp=function(e,t){switch(parseInt(e.ssp)){case 1:return new("video"===e.type?a.default:u.default)({di:t.di});default:return new a.default({di:t.di})}},t.getExecution=function(e,r){var n=t._getExecutionByRunConn(e,r),o=r.di,i=o.jPlugin;return i._prepareExecutionTracking({di:{jExecution:n}}),i._prepareCallerTracking({di:{jCaller:o.jCaller}}),n.subscribe("dependenciesReady",function(e){o.jAdManager.publish("adReady",e)}),n},t.prototype._prepareQueueTracking=function(){var e=b.get(this),t=b.get(this).di;return t.jQueue.subscribe("executionError",function(t){var r=t[0],n=t[1];if(n.model&&(n=n.model),r&&r.code&&[204,205,209].indexOf(parseInt(r.code))>-1)return!1;c.default.instance().track("adserver","er",e.settings,n,r.code||r.message||"Loading resource error.",r.stack)}),t.jQueue.subscribe("fallError",function(t){var r=t[0];c.default.instance().track("adserver","er",e.settings,{zoneId:e.settings.server.zone,ssp:"",adId:"",format:"",sourceId:"",adunitid:"",isTest:""},r.code||r.message||"Executing fallback error.",r.stack)}),t.jQueue.subscribe("queueExecuted",function(t){var r=t[1],n=[];Object.keys(r).forEach(function(e){n=n.concat(r[e])}),c.default.instance().track("adserver","ex",e.settings,{zoneId:e.settings.server.zone,ssp:n.map(function(e){return e.ssp}).join(","),adId:n.map(function(e){return e.adId}).join(","),format:n.map(function(e){return e.format}).join(","),sourceId:n.map(function(e){return e.sourceId}).join(","),adunitid:n.map(function(e){return e.adunitid}).join(","),isTest:n.map(function(e){return e.isTest}).join(",")})}),this},t.prototype._prepareExecutionTracking=function(e){var t=b.get(this),r=t.settings,o=e.di.jExecution,i=function(e){return"read"===e.getData("conn")&&1!==parseInt(e.getData("ssp"))||"read"===e.getData("conn")&&1===parseInt(e.getData("ssp"))&&"video"===e.getData("type")};o.subscribe("asyncWriteAdStart",function(e){var t=e[1];c.default.instance().track("adserver","adr",r,t)}),o.subscribe("asyncWriteAdFound",function(e){var t=e[1];c.default.instance().track("adserver","amr",r,t),c.default.instance().track("adserver","am",r,t)}),o.subscribe("asyncWriteAdShown",function(e){var n=e[1],o=n.getData("zoneId"),i=n.getData("adId");c.default.instance().externalTrack("impression",t.settings.impUrl+"/adserve/impression?zone="+o+"&adid="+i+"&rid="+r.server.ruid),c.default.instance().track("adserver","im",r,n)}),o.subscribe("writeAdScannerStart",function(e){var t=e[2];c.default.instance().track("adserver","adw",r,t)}),o.subscribe("servedFromCache",function(e){var t=e[1];c.default.instance().track("adserver","ce",r,t)}),o.subscribe("writeAdFound",function(e){var n=e[2],o=n.getData("zoneId"),i=n.getData("adId");n.getData("tracking.backoffice1")&&c.default.instance().externalTrack("impression",n.getData("tracking.backoffice1")),n.getData("tracking.backoffice2")&&c.default.instance().externalTrack("impression",n.getData("tracking.backoffice2")),n.getData("tracking.imptag")&&c.default.instance().externalTrack("impression",n.getData("tracking.imptag")),c.default.instance().externalTrack("impression",t.settings.impUrl+"/adserve/impression?zone="+o+"&adid="+i+"&rid="+r.server.ruid+(i.nurl?"&nurl="+encodeURIComponent(i.nurl):"")),c.default.instance().track("adserver","am",r,n)}),o.subscribe("afterProductShow",function(e){var t=e[2];c.default.instance().track("adserver","sh",r,t),l.default.instance().impression({zoneId:t.getData("zoneId"),adId:t.getData("adId"),views:t.getData("views"),viewsTime:t.getData("viewsTime")})}),o.subscribe("beforeFrameWrite",function(e){var t=e[1];i(t)&&c.default.instance().track("adserver","am",r,t)}),o.subscribe("afterFrameWrite",function(e){var n=e[2];if(i(n)){var o,a;if(o=n.getData("zoneId"),a=n.getData("adId"),[32,33].indexOf(parseInt(n.getData("ssp")))>-1){var u=n.getData("creative.trackers")||[];u.length&&u.forEach(function(e){e.impression_urls&&e.impression_urls.forEach(function(e){c.default.instance().externalTrack("apn-impression",e)})})}n.getData("tracking.backoffice1")&&c.default.instance().externalTrack("impression",n.getData("tracking.backoffice1")),n.getData("tracking.backoffice2")&&c.default.instance().externalTrack("impression",n.getData("tracking.backoffice2")),n.getData("tracking.imptag")&&c.default.instance().externalTrack("impression",n.getData("tracking.imptag")),c.default.instance().externalTrack("impression",t.settings.impUrl+"/adserve/impression?zone="+o+"&adid="+a+"&rid="+r.server.ruid),c.default.instance().track("adserver","im",t.settings,n)}}),o.subscribe("extendExecutionDetected",function(e){var t=n(e,2),i=(t[0],t[1]),a=JSON.parse(JSON.stringify(i.getData()));a.singleTag=!0,a.zoneId=parseInt(a.extendTag),i.addProperty("isAdv",!0),c.default.instance().track("extend","eadm",r,a),o.subscribe("afterFrameWrite",function(e){c.default.instance().track("extend","eim",r,a)}),o.subscribe("afterProductShow",function(){c.default.instance().track("extend","esh",r,a)})}),o.subscribe("execError",function(e){var t=e[0],n=e[1];c.default.instance().track("adserver","er",r,n,t.code||t.message||"Execution error.",t.stack)})},t.prototype._prepareCallerTracking=function(e){var t=this,r=b.get(t),n=r.settings,o=e.di.jCaller,i=r.readAds;o.constructor.isMulti()&&r.multiCallerTrackingSet[o.getId()]||(o.constructor.isMulti()&&(r.multiCallerTrackingSet[o.getId()]=!0),o.subscribe("xhrError",function(e){var t=e[1];c.default.instance().track("adserver","er",n,{zoneId:n.server.zone,adId:t.map(function(e){return e.adId}).join(","),ssp:t.map(function(e){return e.ssp}).join(","),format:t.map(function(e){return e.format}).join(","),sourceId:t.map(function(e){return e.sourceId}).join(","),adunitid:t.map(function(e){return e.adunitid}).join(","),isTest:t.map(function(e){return e.isTest}).join(",")},221)}),o.subscribe("run",function(e){var o=e[1],a=o[0];("read"===a.conn||[30,24].indexOf(a.ssp)>-1)&&(i.push.apply(i,o),r.adrTrackCall||(r.adrTrackCall=(d.default.delay(t,function(){c.default.instance().track("adserver","adr",n,{zoneId:n.server.zone,adId:i.map(function(e){return e.adId}).join(","),ssp:i.map(function(e){return e.ssp}).join(","),format:i.map(function(e){return e.format}).join(","),sourceId:i.map(function(e){return e.sourceId}).join(","),adunitid:i.map(function(e){return e.adunitid}).join(","),isTest:i.map(function(e){return e.isTest}).join(",")})},60),!0)))}),o.subscribe("response",function(e){var r=e[1];d.default.delay(t,function(){var e=r.filter(function(e){return"read"===e.conn&&e.creative});if(e.length){var t=f.default.factory("adserver","amr",n,{zoneId:n.server.zone,adId:e.map(function(e){return e.adId}).join(","),ssp:e.map(function(e){return e.ssp}).join(","),format:e.map(function(e){return e.format}).join(","),sourceId:e.map(function(e){return e.sourceId}).join(","),adunitid:e.map(function(e){return e.adunitid}).join(","),isTest:e.map(function(e){return e.isTest}).join(",")}),o=t.getJsonParams();o.pl=[],e.forEach(function(e){e.adunitid.search("http")<0&&e.adunitid.search("/")<0&&o.pl.push({plId:e.adunitid,aId:e.adId,fr:e.format,pr:e.price||"",di:e.dealId||""})}),t.setJsonParams(o),c.default.instance().trackRaw(t)}},1)}))},t.prototype._prepareCallerDiv=function(){var e="jpx_0x000000_caller_window",t=m.document,r=void 0;if(!t.getElementById(e)){var n=function(){(r=t.createElement("DIV")).setAttribute("id",e),r.style.display="none",r.style.visibility="hidden",t.body.appendChild(r)};if(t.body)n();else{t.addEventListener("DOMContentLoaded",function e(){t.removeEventListener("DOMContentLoaded",e,!1),n()},!1)}}},t.prototype._prepareHiddenIframe=function(e){var t=m.document,r=e.cmp&&e.cmp.eu?1:0,n=e.cmp&&e.cmp.eu?e.cmp.consentString:"";if(!t.getElementById("jpx_0_pd")){var o=void 0;o=t.getElementById("jpx_0x000000_caller_window");var i="//pre.ads.justpremium.com/v/1.0/t/sync";r&&n&&(i=i+"?consentString="+encodeURIComponent(n));var a=t.createElement("iframe");a.id="jpx_0_pd",a.height=0,a.width=0,a.border="0px",a.hspace="0",a.vspace="0px",a.frameBorder="0",a.style.visibility="hidden",a.src=i,o?o.appendChild(a):t.appendChild(a)}},t}(o.default);t.default=j},233:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JHelperAdserverMapping=t.TYPES=void 0;var n=p(r(569)),o=p(r(570)),i=p(r(571)),a=p(r(572)),u=p(r(573)),s=p(r(574)),c=p(r(575)),l=p(r(576)),d=p(r(577));function p(e){return e&&e.__esModule?e:{default:e}}var f=t.TYPES={WRITE:"write",READ:"read",ASYNC:"asyncWrite"},h={nl:"Justpremium%channel%.nl",be:"Justpremium%channel%.be",de:"Justpremium%channel%.de",tr:"Justpremium.tr",uk:"Justpremium.uk",fr:"Justpremium%channel%.fr",au:"Justpremium%channel%.au",pl:"Justpremium.pl",at:"Justpremium%channel%.at",ch:"Justpremium%channel%.ch",gl:"Justpremium%channel%.com",es:"Justpremium%channel%.es",it:"Justpremium.it",pt:"Justpremium.pt",us:function(){return document.location.hostname},se:"Justpremium.se",dk:"Justpremium%channel%.dk",me:"Justpremium.me",mx:"Justpremium%channel%.mx",br:"Justpremium%channel%.br",fi:"Justpremium.fi",no:"Justpremium.no",ca:"Justpremium.ca",co:"Justpremium.co",ie:"Justpremium.ie",cl:"Justpremium.cl",pe:"Justpremium.pe"},y=function(e){switch(parseInt(e.ssp)){case 1:return"video"===g.type(e.format)?o.default:n.default;case 3:case 19:return u.default;case 13:return d.default;case 22:return i.default;case 20:case 24:case 30:return a.default;case 32:return c.default;case 35:return s.default;case 36:return l.default;default:return null}},g=t.JHelperAdserverMapping={formats:{script:"script",vs:"video",wv:"video",ds:"normal",lb:"normal",pd:"normal",br:"normal",wp:"normal",ha:"normal",fa:"normal",sa:"normal",cf:"normal",pu:"normal",as:"normal",ms:"normal",mo:"normal",is:"normal",ho:"normal",pa:"normal",fi:"normal",hi:"normal",fv:"video",hv:"video"},urls:h,channels:{xx:"Sitespecific",am:"Automotive",bu:"Bussines",en:"Entertaiment",fa:"Family",he:"Health",in:"Info",kd:"Kids",nw:"News",sp:"Sports",tr:"Travel",sc:"Social",te:"Tech"},type:function(e){return this.formats[e]?this.formats[e]:null},caller:function(e){return y(e).factory()},hasCaller:function(e){return!!y(e)},isMulti:function(e){return y(e).isMulti()},url:function(e){return this.urls[e]?this.urls[e]:""},channel:function(e){return this.channels[e]?this.channels[e]:""},connection:function(e,t){var r=this.type(t),n=void 0;return n=f.READ,"video"!==r||24!==e&&20!==e&&30!==e?13===e?f.ASYNC:(23===e&&(n=f.WRITE),"video"===r?n:(12===e?n=f.WRITE:9===e?n=f.WRITE:6===e&&(n=f.WRITE),n)):f.ASYNC}}},234:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(4)),o=a(r(217)),i=a(r(579));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var s=new WeakMap,c=void 0,l=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r)),o=n;return s.set(o,{item:{}}),n}return u(t,e),t.prototype.validate=function(e){var t=s.get(this),r="i-"+e.zoneId,n="a-"+e.adId,a=e.viewsTime,u=0===a?i.default.read(r):o.default.read(r);return!u||(t.item=u,u.v?"v2.12.276"!==u.v?(t.item={},!0):!u[n]||(!1!==u[n].expires&&(new Date).getTime()>u[n].expires?(u[n]=null,t.item=u,!0):u[n].expiry!==a?(u[n]=null,t.item=u,!0):u[n].views<e.views):(t.item={},!0))},t.prototype.impression=function(e){var t="i-"+e.zoneId,r=s.get(this),n="a-"+e.adId,a=e.viewsTime,u=(0===a?i.default.read(t):o.default.read(t))||{},c={expiry:a,expires:0!==a&&(new Date).getTime()+36e5*a,views:1,viewsMax:e.views};r.item||(r.item=u);var l=!0;if(0===e.views)return!1;r.item.v="v2.12.276",r.item[n]||(r.item[n]=c,l=!1),l&&r.item[n].views++,0===a?i.default.save(t,r.item):o.default.save(t,r.item)},t.instance=function(e){return c||(c=new t(e))},t}(n.default);t.default=l},567:function(e,t,r){"use strict";e.exports=r(232).default},568:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(r(4)),o=f(r(19)),i=r(233),a=(f(r(62)),f(r(2))),u=(f(r(232)),f(r(42))),s=f(r(578)),c=f(r(9)),l=f(r(221)),d=f(r(1)),p=f(r(234));function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var y=new WeakMap,g=d.default.getTopScope(),v=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r)),o=n,i={};return y.set(o,i),i.ads={},i.multi={},i.di=r.di,i.firstCheckDelay=250,i.quickCheckDelay=40,i.cancelCheck=function(){},i.busy=!1,i.busyInline=!1,i.quickCheck=!1,i.execution=[],i.caller=[],i.callerMulti=[],i.runningCallers=[],i.settings={},i.adRunIdx=0,i.inlineRunned=!1,i.startInlineScroll=.3,i.sleep=!1,i.restartQueue=!1,c.default.optimizedScroll(g),n}return h(t,e),t.prototype.setSettings=function(e){var t=y.get(this);t.settings=e||{};var r=t.settings.server;return r&&o.default.debug(r.debug),this},t.prototype.insert=function(e,t,r,n,a){var u=this,s=y.get(u);a=a||!1,s.ads[t]||(s.ads[t]=[]);var c=!0,l=!1,d=void 0;try{for(var p,f=function(){var e=p.value;if(u._reachFreqCapping(e))return"continue";if(!i.JHelperAdserverMapping.hasCaller(e))return"continue";e.conn=i.JHelperAdserverMapping.connection(e.ssp,t),e.type=i.JHelperAdserverMapping.type(t),e.width=0,e.height=0,e.inits=r.inits,e.channel=s.settings.tag.channel,e.country=s.settings.tag.country,e.inline=a,e.tracking=[],e.tracking.backoffice1=n[0],e.tracking.backoffice2=n[1],e.tracking.imptag=s.settings.tag.tracking;var o=void 0;i.JHelperAdserverMapping.isMulti(e)?(o=s.callerMulti.find(function(t){return t[0]===e.ssp}))?o=o[1]:(o=i.JHelperAdserverMapping.caller(e),s.callerMulti.push([e.ssp,o])):(o=i.JHelperAdserverMapping.caller(e),s.caller.push([e.sourceId,o])),o.setGlobals(s.settings),s.execution.push([e.sourceId,s.di.JPlugin.getExecution(e,{di:{window:g,localWindow:e.scope,Jpx:window.Jpx||g.Jpx,jPlugin:s.di.jPlugin,jAdManager:s.di.jAdManager,jQueue:u,jCaller:o,settings:s.settings}})]),delete e.scope,s.ads[t].push(e)},h=e[Symbol.iterator]();!(c=(p=h.next()).done);c=!0)f()}catch(e){l=!0,d=e}finally{try{!c&&h.return&&h.return()}finally{if(l)throw d}}o.default.info("JQueue: loaded "+e.length+" model(s) for "+t)},t.prototype.getAll=function(){return y.get(this).ads},t.prototype.run=function(){var e=this,t=y.get(e);t.restartQueue||e.publish("queueExecuted",[e,t.ads]),o.default.info("JQueue: run queue..."),e._processQueue(),e._requestMultiReadAds(),e._runInlineAd(),e._scheduleCheckV2()},t.prototype._processQueue=function(){var e=this,t=y.get(e);Object.keys(t.ads).forEach(function(r){var n=t.ads[r],o=!0,i=!1,a=void 0;try{for(var u,s=function(){var r=u.value;switch(r.conn){case"read":e._dispatchReadAd(r);break;case"asyncWrite":e._dispatchAsyncAd(r);break;case"write":var n=t.caller.find(function(e){return e[0]===r.sourceId});n&&n[1].run(r)}},c=n[Symbol.iterator]();!(o=(u=c.next()).done);o=!0)s()}catch(e){i=!0,a=e}finally{try{!o&&c.return&&c.return()}finally{if(i)throw a}}})},t.prototype._requestMultiReadAds=function(){var e=this,t=y.get(e);t.multi&&Object.keys(t.multi).forEach(function(r){var n=t.multi[r],i=t.callerMulti.find(function(e){return e[0]===parseInt(r)}),a=i&&i[1].run(n).then(function(t){var r=!1;Object.keys(n).forEach(function(o){var i=n[o];if(t[i.adunitid]){var a=t[i.adunitid];a.error&&(i.error=a.error,i.used=!0),a.data&&(i.data=a.data),a.creative&&(i.creative=a.creative,i.height=a.creative.height,i.width=a.creative.width,r=!0,a.creative.deal_id&&(i.dealId=a.creative.deal_id),a.creative.price&&(i.price=a.creative.price))}else i.error=e.error(222)}),r&&(e._runInlineAd(),e._scheduleCheckV2(!0))}).catch(function(e){o.default.error(e),n.forEach(function(t){t.error=e,t.used=!0})});a&&t.runningCallers.push([t.multi[r],a])})},t.prototype._scheduleCheckV2=function(e){var t=this;if(y.get(t).busy)return!1;var r=t._getAvailAdByHighestPriority();if(r&&"write"===r.conn)return t._scheduleCheck(t._instantCheck);t._scheduleCheck(e?t._quickCheck:t._regularCheck)},t.prototype._runInlineAd=function(){var e=y.get(this);if(e.busyInline)return!1;var t=this._getAdByHighestCPM();if(t&&("write"===t.conn||t.creative))return e.busyInline=!0,this._execute(t);e.busyInline=!1},t.prototype._checkV2=function(){var e=this,t=y.get(e);o.default.info("JQueue: searching for an ad");var r=e._getAvailAdByHighestPriority();return r?e._execute(r):(t.busy=!1,e._sleep().then(function(){if(!t.busy)return e._quickCheck()}).catch(function(e){if(999!==e.code)throw e}))},t.prototype._instantCheck=function(){return y.get(this).busy=!0,this._execute(this._getAvailAdByHighestPriority())},t.prototype._sleep=function(){var e=this,t=y.get(e);return t.sleep?Promise.reject(e.error(999)):(t.sleep=!0,o.default.info("JQueue: going to sleep"),Promise.all(t.runningCallers.map(function(e){return e[1]})).then(function(){if(!t.busy&&!e._getAvailAdByHighestPriority())throw e.error(206);o.default.info("JQueue: wake up queue"),t.sleep=!1}))},t.prototype._quickCheck=function(){var e=this,t=y.get(e);return t.quickCheck=!0,t.busy=!0,t.cancelCheck(),t.cancelCheck=a.default.delay(e,function(){return o.default.info("JQueue: quick check triggered"),e._checkV2()},t.quickCheckDelay),t.quickCheckDelay=0,t.cancelCheck.promise()},t.prototype._regularCheck=function(){var e=this,t=y.get(e);return t.busy=!0,t.cancelCheck=a.default.delay(e,function(){return o.default.info("JQueue: regular check triggered"),e._checkV2()},t.firstCheckDelay),t.quickCheckDelay=0,t.cancelCheck.promise()},t.prototype._getAdByHighestCPM=function(){var e=y.get(this);return e.adsInline||this._sortAdByCPM(),e.adsInline.find(function(e){return!e.used&&e.inline&&e.creative})},t.prototype._getAvailAdByHighestPriority=function(){var e=y.get(this);return e.adsOut||this._sortAdByPriority(),e.adsOut.find(function(e){return!e.used&&(e.creative||"write"===e.conn)&&!e.inline})},t.prototype._sortAdByPriority=function(){var e=y.get(this);return e.adsOut=[].concat.apply([],Object.keys(e.ads).map(function(t){return e.ads[t]})).sort(function(e,t){return e.priority-t.priority}),e.adsOut},t.prototype._sortAdByCPM=function(){var e=y.get(this);return e.adsInline=[].concat.apply([],Object.keys(e.ads).map(function(t){return e.ads[t].filter(function(e){return e.inline})})).sort(function(e,t){return t.floorprice-e.floorprice}),e.adsInline},t.prototype._rerunQueueV2=function(){return y.get(this).busy=!1,o.default.info("JQueue: rerun"),this._scheduleCheckV2(!0)},t.prototype._rerunInlineQueueV2=function(){return y.get(this).busyInline=!1,o.default.info("JQueue: rerun inline"),this._runInlineAd()},t.prototype._restartQueue=function(){var e=this,t=y.get(e);t.restartQueue=!0,t.sleep=!1,Object.keys(t.ads).forEach(function(e){var r=t.ads[e],n=!0,o=!1,i=void 0;try{for(var a,u=r[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var s=a.value;s.used=!1,s.error="",s.creative&&(s.creative="")}}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}}),a.default.delay(e,function(){e.run()},5e3)},t.prototype._forMulti=function(e){var t=y.get(this);t.multi[e.ssp]=t.multi[e.ssp]||[],t.multi[e.ssp].push(e)},t.prototype._reachFreqCapping=function(e){return!p.default.instance().validate(e)},t.prototype._dispatchReadAd=function(e){var t=this,r=y.get(t);if(i.JHelperAdserverMapping.isMulti(e))r.restartQueue||t._forMulti(e);else{var n=r.caller.find(function(t){return t[0]===e.sourceId}),o=n&&n[1].run(e).then(function(r){if(r.error)return e.error=r.error,void(e.used=!0);r.creative&&(e.creative=r.creative,e.height=r.creative.height,e.width=r.creative.width,r.creative.deal_id&&(e.dealId=r.creative.deal_id),r.creative.price&&(e.price=r.creative.price)),r.data&&(e.data=r.data),t._runInlineAd(),t._scheduleCheckV2(!0)}).catch(function(t){e.error=t,e.used=!0});o&&r.runningCallers.push([e,o])}return t},t.prototype._dispatchAsyncAd=function(e){var t=y.get(this),r=t.caller.find(function(t){return t[0]===e.sourceId}),n=r&&r[1].run(e).then(function(t){if(t.error)return e.error=t.error,void(e.used=!0);t.creative&&(e.creative=t.creative,e.scope=t.scope,e.height=t.creative.height,e.width=t.creative.width)}).catch(function(t){e.error=t,e.used=!0});n&&t.runningCallers.push([e,n])},t.prototype._scheduleCheck=function(e){var t=this;y.get(t).busy||e.call(t).catch(function(e){if(206===e.code){try{t._runFallback()}catch(e){t.publish("fallError",[t.error(207),t])}return e}o.default.error(e)})},t.prototype._recoverQueue=function(e,t){this.publish("executionError",[e,t]),this._rerunQueueV2()},t.prototype._execute=function(e){var t=this,r=y.get(t),n={format:e.format,model:e,global:r.settings,product:{height:e.height,width:e.width,inits:e.inits}};e.runAs=++r.adRunIdx,o.default.info("JQueue: avail ad "+e.format+":"+e.ssp+":"+e.conn+":"+e.sourceId+" found"),delete e.inits;var i=function(){var t=r.execution.find(function(t){return t[0]===e.sourceId});return t?t[1]:void 0}();return e.used=!0,i.subscribe("executionFailure",function(e){return t._recoverQueue(e[0],e[1])}),t.publish("adSelected",[t,e]),r.di.jAdManager.loadFormat(n.format).then(function(){return t.publish("loadFormat",[t,e,i]),e.inline?new Promise(function(e,t){g.addEventListener("optimizedScroll",function(){var o=l.default.getToTopScrolled();!r.inlineRunned&&r.startInlineScroll<o.percent&&(r.inlineRunned=!0,i.run(n).then(function(t){e(t)}).catch(function(e){t(e)}))})}):i.run(n)}).catch(function(r){switch(r.code){case 299:e.inits=n.product.inits,t._execute(e);break;default:o.default.error(r),t.publish("executionError",[r,n]),n.model.inline?t._rerunInlineQueueV2():t._rerunQueueV2()}})},t.prototype._runFallback=function(){var e=y.get(this);o.default.alwaysLog("info","JQueue: No ad to run"),e.settings.fallback?(o.default.alwaysLog("info","JQueue: Fallback"),s.default.execute({fallback:e.settings.fallback}),u.default.instance().track("adserver","pb",e.settings,{zoneId:e.settings.server.zone,ssp:"",adId:"",format:"",sourceId:"",adunitid:"",isTest:""})):!e.restartQueue&&e.ads&&this._restartQueue()},t.factory=function(e){return new t(e)},t}(n.default);t.default=v},569:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(62)),o=i(r(42));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var u=i(r(1)).default.getTopScope(),s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return r.jsonp=!1,r}return a(t,e),t.prototype.getJSONUrl=function(e){if(!e instanceof Array)return"";var t=e.map(function(e){return{id:e.sourceId,pid:parseInt(e.adunitid),banner:{},kvw:{kv:["hb"]}}}),r={bid_request:{id:this.getId(),callback:"",reqtype:1,secure:"https:"===u.document.location.protocol?1:0,version:"1.0.0-JS007",imp:t,debug:1}},n=this.getGlobals(),o=!(!n.cmp||!n.cmp.eu)&&n.cmp.eu,i=!(!n.cmp||!n.cmp.consentString)&&n.cmp.consentString;return o&&i?r.bid_request.gdpr=i:o&&(r.bid_request.gdpr=1),r},t.prototype.getSspId=function(){return 1},t.prototype.before=function(e){return Promise.resolve(e)},t.prototype.after=function(e){var t=this,r={};if(e.response.bid&&e.response.bid.length){var n=e.response.bid.find(function(e){return e.sync});n&&n.sync&&t._sync(n.sync)}for(var i=function(){var n=e.response.bid.shift(),i=void 0,a=n.adm,u=n.h,s=n.w;n.is_fallback=0;var c=e.records.find(function(e){return e.sourceId==n.id});n.pid?i=parseInt(n.pid):(i=parseInt(c.adunitid)||0,n.is_fallback=1);var l=t.getGlobals();(/ServeBackupAd\(\)/.test(n.adm)||/360yield\.com\\\/file\\\/\d+\\\/1x1([pixel]{0,})\.(jpg|png|gif)/.test(n.adm)||c&&/criteo.com\/delivery/.test(n.adm)&&"pu"===c.format&&"phone"===l.device.type&&"us"===l.server.subdomain)&&(n.is_fallback=1),n.is_fallback?r[i]={data:n,error:new Error("No ad available")}:(c.dealId=n.lid,r[i]={data:n,creative:{placement:i,html:"<script>"+a+'<\/script>\n                    <img style="position: fixed; top: -9999px; left: -9999px; height: 1px; width: 1px;" src='+o.default.instance().getPixelUrl("adserver","im",t.getGlobals(),c)+' />\n                    <img style="position: fixed; top: -9999px; left: -9999px; height: 1px; width: 1px;" src='+n.nurl+" />",type:"normal",is_fallback:n.is_fallback,height:u,deal_id:n.lid||!1,price:n.price||null,width:s}})};e.response.bid&&e.response.bid.length;)i();return Promise.resolve(r)},t.prototype.request=function(e){var t=this.getJSONUrl(e),r=this.getSspId(),n=u.document.location.protocol+"//ad.360yield.com/hb?debug=1&jsonp="+encodeURIComponent(JSON.stringify(t));return this.XHRequest(n,r,e)},t.prototype.parse=function(e,t){console.log(e)},t.prototype.run=function(e){var t=this;return t.publish("run",[t,e]),t.before(e).then(function(){return t.request(e)}).then(function(r){return t.after(r,e)}).then(function(r){return t.publish("response",[t,e,r]),r}).catch(function(r){throw r instanceof window.ProgressEvent&&"error"===r.type&&t.publish("xhrError",[t,e]),r})},t.prototype._sync=function(e){e.forEach(function(e){o.default.instance().externalTrack("ID sync",e)})},t.isMulti=function(){return!0},t.factory=function(e){return new t(e)},t}(n.default);t.default=s},570:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(180)),o=(a(r(233)),a(r(42)),a(r(11))),i=a(r(55));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var s=a(r(1)).default.getTopScope(),c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return r.jsonp=!1,r}return u(t,e),t.prototype.getUrl=function(e){return(""+e).search(/^http|^https/)>-1?e.replace("http://","https://"):(s.document.location.protocol+"//ad.360yield.com/advast?p=%id%&w=&h=&tz="+(new Date).getTimezoneOffset()+"&_cachebuster=%rnd%").replace("%id%",e).replace("%rnd%",+new Date)},t.prototype.getSspId=function(){return 1},t.prototype.before=function(e){return Promise.resolve(e)},t.prototype.request=function(e){var t=new o.default(this.getUrl(e.adunitid));return t.ready().then(function(){var r=i.default.getSizes(e.format);return{creative:{html:"<span></span>",vast:t.getVast(),height:r[0][1],width:r[0][0]}}})},t.prototype.parse=function(e,t){console.log(e)},t.prototype.run=function(t){var r=this,n=this;return n.publish("run",[n,[t]]),n.before(t).then(function(e){return n.request(e)}).then(function(t){return e.prototype.after.call(r,t)}).then(function(e){return n.publish("response",[n,[t],e]),e})},t.isMulti=function(){return!1},t.factory=function(e){return new t(e)},t}(n.default);t.default=c},571:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(62)),o=i(r(230));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var u=i(r(1)).default.getTopScope(),s=new WeakMap,c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this)),n=r;return s.set(n,{}),r.multi=!0,r.jsonp=!0,r}return a(t,e),t.prototype.getUrl=function(e){if(!e instanceof Array)return"";var t=e.map(function(e){return e.adunitid}).join(","),r=void 0;r=["38453","22519"].indexOf(e[0].zoneId)>-1?encodeURIComponent(u.document.location.href):encodeURIComponent(u.document.location.protocol+"//"+u.document.location.hostname);var n=this.getGlobals(),o=n.cmp&&n.cmp.eu?1:0,i=n.cmp&&n.cmp.eu?n.cmp.consentString:"",a="//ox-d.justpremium.com/w/1.0/arj?url=%url%&auid=%id%%gdpr%%gdpr_consent%";return a=a.replace("%url%",r).replace("%id%",t),a=i?a.replace("%gdpr%","&gdpr="+o).replace("%gdpr_consent%","&gdpr_consent="+i):o&&["uk","de"].indexOf((n.server.subdomain||"").toLowerCase())>-1?a.replace("%gdpr%","&gdpr=1").replace("%gdpr_consent%","&gdpr_consent=1"):a.replace("%gdpr%","").replace("%gdpr_consent%","")},t.prototype.getSspId=function(){return 22},t.prototype.before=function(e){var t=s.get(this);return o.default.checkSupport()?(o.default.deleteOld("openx"),o.default.get("openx").then(function(r){return t.ads=r,e})):(t.ads=0,Promise.resolve(e))},t.prototype.after=function(e){for(var t={};e.response.ads.ad.length;){var r=e.response.ads.ad.shift(),n=parseInt(r.adunitid),o=r.type,i=r.html,a=0,u=0;r.creative&&r.creative[0]&&(a=parseInt(r.creative[0].height),u=parseInt(r.creative[0].width)),!r.is_fallback&&u<150&&a<48&&(r.is_fallback=1),r.is_fallback?t[n]||(t[n]={data:r,error:new Error("No ad available")}):(!t[n]||t[n]&&parseInt(t[n].creative.price)<r.pub_rev)&&(t[n]={data:r,creative:{placement:n,html:i,type:o,is_fallback:r.is_fallback,height:a,deal_id:r.deal_id||!1,price:r.pub_rev||null,width:u}})}return Promise.resolve(t)},t.prototype.request=function(e){var t=s.get(this),r=this.getUrl(e),n=this.getSspId(),i=this.getGlobals().server.uip,a=!1,u=void 0;return t.ads.length>0&&(u=t.ads[0].uip,i!=u&&(a=!0)),this.JSONPRequest(r,n,e).then(function(e){if(e.response&&e.response.ads&&e.response.ads.ad){var r=e.response.ads.ad;if(a&&u&&o.default.deleteByAdIpAddress(u),Object.keys(r).forEach(function(t){e.response.ads.ad[t].res_id=Math.random().toString(36).substr(2,16),e.response.ads.ad[t].source="new",o.default.checkSupport()&&0===r[t].is_fallback&&o.default.save({date:Date.now(),flag:"openx",pixel:e.response.ads.pixels,adunitid:r[t].adunitid,domain:window.location.hostname,uip:i,ads:r[t],resid:e.response.ads.ad[t].res_id})}),t.ads.length>0||!a)for(var n=0;n<t.ads.length;n++)r.push(t.ads[n].ads)}return e})},t.prototype.run=function(e){var t=this;return t.publish("run",[t,e]),t.before(e).then(function(){return t.request(e)}).then(function(e){return t.after(e)}).then(function(r){return t.publish("response",[t,e,r]),r})},t.isMulti=function(){return!0},t.factory=function(e){return new t(e)},t}(n.default);t.default=c},572:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(180)),o=a(r(55)),i=a(r(11));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var s=new WeakMap,c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this)),n=r;return s.set(n,{}),r}return u(t,e),t.prototype.run=function(e){var t=this,r=e;if(t.publish("run",[t,[e]]),(""+e.adunitid).search(/http|https/)>-1){var n=e.adunitid.match(/2\.[0]+\/(\d+)\?/);if(!(n&&n.length&&n[1]))return Promise.reject(t.error(211));e.adunitid=n[1]}return t.request(r).then(function(e){return e}).catch(function(e){throw e instanceof window.ProgressEvent&&"error"===e.type&&t.publish("xhrError",[t,obj]),e})},t.prototype._getQueryParams=function(e){return Object.keys(e).map(function(t){return t+"="+e[t]}).join("&")},t.prototype._getQueryArrayParams=function(e,t){var r=encodeURIComponent;return e=e||{},t=t||null,Object.keys(e).map(function(n){return r(t+"["+n+"]")+"="+r(e[n])}).join("&")},t.prototype._roundHalf=function(e){return(Math.round(2*e)/2).toFixed(1)},t.prototype.getUrl=function(e){var t=o.default.getSizes(e.format),r=encodeURIComponent(window.top.document.location.href),n=e.adunitid||"",i="",a=+new Date,u={ch:e.channel,f:this._roundHalf(e.floorprice),adid:e.adId,zid:e.zoneId},s=this.getGlobals(),c=s.cmp&&s.cmp.eu?1:0,l=s.cmp&&s.cmp.eu?s.cmp.consentString:"";t&&t[0][0]&&(i="&player_width="+t[0][0]+"&player_height="+t[0][1]);var d=this._getQueryArrayParams(u,"custom"),p={content_page_url:r,ad_mute:1,ad_volume:0,ad_unit:"instream",sdk_name:"Direct_AdOS_SDK",sdk_version:"1.25.0",sdk_dist:"-beta",vast_and_cached_response:"false",hide_skin:"1"};return"//search.spotxchange.com/vast/2.00/"+n+"?VPAID=js"+i+"&"+this._getQueryParams(p)+"&"+d+"&user[consent]="+(l||1)+"&regs[gdpr]="+(c?1:0)+"&media_transcoding[]=medium&cb="+a},t.prototype.request=function(e){var t=this.getUrl(e),r=new i.default(t),n=o.default.getSizes(e.format),a={scope:window,creative:{html:"<span></span>",vast:"",height:n[0][1],width:n[0][0]}};return r.ready().then(function(){var e=r.getRawXml();return a.creative.vastRaw=e,a})},t.isMulti=function(){return!1},t.factory=function(){return new t},t}(n.default);t.default=c},573:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(62)),o=a(r(11)),i=a(r(55));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return r.jsonp=!0,r}return u(t,e),t.prototype.run=function(e){var t=this,r=this;return r.publish("run",[r,[e]]),this.before(e).then(function(){return t.request(e)}).then(function(e){return t.after(e)}).then(function(t){return r.publish("response",[r,[e],t]),t})},t.prototype.getUrl=function(e){return(""+e).search(/^http|^https/)>-1?(this.video=!0,e.replace("http://","//").replace("https://","//")):"//ox-d.mm1x.nl/w/1.0/arj?auid=%id%".replace("%id%",e)},t.prototype.getSspId=function(){return 3},t.prototype.before=function(e){return Promise.resolve(e)},t.prototype.after=function(e){for(var t={};e.response&&e.response.ads.ad.length;){var r=e.response.ads.ad.shift(),n=parseInt(r.adunitid),o=r.type,i=r.html,a=0,u=0;r.creative&&r.creative[0]&&(a=parseInt(r.creative[0].height),u=parseInt(r.creative[0].width)),!r.is_fallback&&u<150&&a<48&&(r.is_fallback=1),t=r.is_fallback?{data:r,error:new Error("No ad available")}:{data:r,creative:{placement:n,html:i,type:o,is_fallback:r.is_fallback,height:a,deal_id:r.deal_id||!1,price:r.pub_rev||null,width:u}}}return e.vast&&(t={data:e,creative:e.vast}),Promise.resolve(t)},t.prototype.request=function(e){var t=this.getUrl(e.adunitid),r=this.getSspId();if(this.video){var n=new o.default(t,null);return n.ready().then(function(){var t=i.default.getSizes(e.format);return{vast:{html:"<span></span>",vast:n.getVast(),height:t[0][1],width:t[0][0]}}})}return this.JSONPRequest(t,r,e)},t.isMulti=function(){return!1},t.factory=function(){return new t},t}(n.default);t.default=s},574:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(62)),o=a(r(11)),i=a(r(55));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var s=a(r(1)).default.getTopScope(),c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return r.multi=!0,r.jsonp=!0,r}return u(t,e),t.prototype.getUrl=function(e){if(!e instanceof Array)return"";var t=e.map(function(e){return e.adunitid}).join(","),r="xtt.ads.justpremium.com",n="&cv=1";return-1===s.document.location.host.search("preview.justpremium")&&-1===s.document.location.host.search("preview.stage")||(n=""),(s.document.location.protocol+"//"+r+"/preview/?adunitId=%id%"+n).replace("%id%",t)},t.prototype.getSspId=function(){return 35},t.prototype.before=function(e){return Promise.resolve(e)},t.prototype.after=function(e){var t={},r=e.response,n=(e.records[0]&&e.records[0],null),a=null;if(e.response.ads.ad){a=r.ads.ad._id;var u=e.response.ads.ad.creatives[0],s=u.source,c=u.size.split("x"),l=u.type,d=parseInt(c[0]),p=parseInt(c[1]);t[a]=d<150&&p<48?{data:u,error:new Error("No ad available")}:{data:u,creative:{placement:a,html:s,type:l,is_fallback:u.is_fallback||!1,height:p,deal_id:u.deal_id||!1,width:d}};"video"===l&&null===/(<script)|(<\/script>)/g.exec(u.source)&&(n=u.source)}if(n){var f=new o.default(n,null);return f.ready().then(function(){var e=i.default.getSizes("wv");return t[a].creative={html:"<span></span>",vast:f.getVast(),height:e[0][1],width:e[0][0]},Promise.resolve(t)})}return Promise.resolve(t)},t.prototype.request=function(e){var t=this.getUrl(e),r=this.getSspId();return this.JSONPRequest(t,r,e)},t.prototype.parse=function(e,t){console.log(e)},t.prototype.run=function(e){var t=this;return t.publish("run",[t,e]),t.before(e).then(function(){return t.request(e)}).then(function(e){return t.after(e)}).then(function(r){return t.publish("response",[t,e,r]),r})},t.isMulti=function(){return!0},t.factory=function(){return new t},t}(n.default);t.default=c},575:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(62)),o=a(r(55)),i=a(r(1));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var s=new WeakMap,c=i.default.getTopScope(),l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));r.multi=!1,r.jsonp=!1;var n=r,o={};if(!c.apntag&&!window.apntag)throw r.error(107,{library:"appnexus"});return o.apntag=c.apntag||window.apntag,o.memberId=7118,s.set(n,o),r}return u(t,e),t.prototype._rnd=function(){return Math.floor(Math.random()*Math.pow(2,32)+1).toString()},t.prototype.getSspId=function(){return 32},t.prototype.before=function(e){var t=s.get(this);if(!e.adunitid||""===e.adunitid)return Promise.resolve(e);t.apntag.setPageOpts({member:t.memberId}),e.callbackId=this.getId();var r=o.default.getSizes(e.format);return"wp"!==e.format&&"wv"!==e.format||"uk"!==e.country||!e.geo||"GB"!==e.geo.isocode||(r=[r[1]]),t.apntag.defineTag({tagId:parseInt(e.adunitid),invCode:e.adunitid,sizes:r,targetId:e.callbackId}),Promise.resolve(e)},t.prototype.after=function(e){var t={},r=e.response;if(e.response&&e.response.banner){var n=e.response,o=r.tagId,i=n.banner.content,a=parseInt(n.banner.width),u=parseInt(n.banner.height),s=n.banner.trackers;if(n.buyerMemberId=n.buyerMemberId||null,229==n.buyerMemberId)return t.error="Wrong buyerMemberId",Promise.resolve(t);t={data:n,creative:{placement:o,html:i,type:n.type,is_fallback:!1,height:u,width:a,trackers:s}}}return Promise.resolve(t)},t.prototype.request=function(e){return this._appnexusCall(e)},t.prototype.parse=function(e,t){console.log(e)},t.prototype._appnexusCall=function(e){var t=s.get(this);return new Promise(function(r,n){t.apntag.onEvent("adAvailable",e.callbackId,function(t){r({ssp:e.ssp,records:[e],response:t,timing:0})});t.apntag.onEvent("adNoBid",e.callbackId,function(e){n(new Error("No bid"))}),t.apntag.onEvent("adError",e.callbackId,function(e){n(new Error("No bid"))}),t.apntag.onEvent("adRequestFailure",e.callbackId,function(e){n(new Error("No bid"))}),t.apntag.onEvent("adBadRequest",e.callbackId,function(e){n(new Error("Parse error"))}),t.apntag.loadTags()})},t.prototype.run=function(e){var t=this;return t.publish("run",[t,[e]]),t.before(e).then(function(){return t.request(e)}).then(function(e){return t.after(e)}).then(function(r){return t.publish("response",[t,[e],r]),r})},t.isMulti=function(){return!1},t.factory=function(){return new t},t}(n.default);t.default=l},576:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(62)),o=i(r(55));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return r.jsonp=!1,r}return a(t,e),t.prototype.getUrl=function(){return"https://pubs2-us.creativecdn.com/bidder/pubs/tagging?type=json&group=QUgkGX3gvsSUlsS2qlcg"},t.prototype.getSspId=function(){return 36},t.prototype.before=function(e){return Promise.resolve(e)},t.prototype.after=function(e){var t={};return e.records.forEach(function(r){if(Array.isArray(e.response.deals))if(e.response.deals.find(function(e){return e.hash===r.adunitid})){var n=o.default.getSizeByRTBHouseHash(r.adunitid,r.format);r.width=n[0],r.height=n[1],t[r.adunitid]={data:r,creative:{placement:r.adunitid,html:'<iframe src="https://storage.googleapis.com/rtbhouse-pubs-us/delivery/pubs.html#w='+n[0]+"&h="+n[1]+"&publisher="+r.adunitid+"&url="+location.href+'" width="'+n[0]+'" height="'+n[1]+'" style="border: 0; overflow: hidden;" scrolling="no">',type:"normal",is_fallback:0,height:n[1],deal_id:r.lid||!1,price:r.price||null,width:n[0]}}}else t[r.adunitid]={data:r,error:new Error("No ad available")}}),Promise.resolve(t)},t.prototype.request=function(e){return this.XHRequest(this.getUrl(),this.getSspId(),e)},t.prototype.parse=function(e,t){console.log(e)},t.prototype.run=function(e){var t=this;return t.publish("run",[t,e]),t.before(e).then(function(){return t.request(e)}).then(function(r){return t.after(r,e)}).then(function(r){return t.publish("response",[t,e,r]),r}).catch(function(r){throw r instanceof window.ProgressEvent&&"error"===r.type&&t.publish("xhrError",[t,e]),r})},t.isMulti=function(){return!0},t.factory=function(e){return new t(e)},t}(n.default);t.default=u},577:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(180)),o=i(r(55));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var u=new WeakMap,s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this)),n=r;return u.set(n,{}),r}return a(t,e),t.prototype.run=function(e){var t=this;t.publish("run",[t,[e]]);for(var r=o.default.getSizes(e.format),n="",i=0;i<r.length;i++)n+=",["+r[i]+"]";return e.sizes=n.substr(1),Promise.resolve().then(function(){t.publish("response",[t,[e],[]]);var n=e.adunitid.split("*|;").shift();return{creative:{html:'\n<div id="jpx-gpt-ad-'+e.sourceId+'"></div>\n<script src="https://www.googletagservices.com/tag/js/gpt.js"><\/script>\n<script>\n    window.fn'+e.sourceId+" = function() {};\n    googletag.cmd.push(function () {\n        googletag.pubads().disableInitialLoad();\n    });\n    googletag.cmd.push(\n        function () {\n            googletag.pubads().enableSingleRequest();\n            googletag.pubads().collapseEmptyDivs();     \n            \n            googletag.pubads().addEventListener('slotRenderEnded', function(event) {\n                if(event.slot.getSlotElementId() === 'jpx-gpt-ad-"+e.sourceId+"' && event.isEmpty) {       \n                    window.frameElement.setAttribute('jpx-is-empty', '1');\n                } else {\n                    window.frameElement.setAttribute('jpx-is-empty', '0');\n                }\n                window.fn"+e.sourceId+"(event);\n            });\n            \n            googletag.defineSlot('"+n+"', ["+e.sizes+"], 'jpx-gpt-ad-"+e.sourceId+"').addService(googletag.pubads());  \n            googletag.enableServices();\n            googletag.display('jpx-gpt-ad-"+e.sourceId+"');\n            \n            googletag.pubads().refresh();\n        });\n<\/script>\n",height:r[0][1],width:r[0][0]}}})},t.isMulti=function(){return!1},t.factory=function(){return new t},t}(n.default);t.default=s},578:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(14)),o=i(r(1));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var u=new WeakMap,s=o.default.getTopScope(),c=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r)),o=n;r=r||{};var i={};return i.di=r.di||{},i.fallback=r.fallback||"",u.set(o,i),n}return a(t,e),t.prototype._extendFnBody=function(e){return function(){}.toString().replace(/function\s*\(\)\s*\{?/i,"").slice(0,-1)+";"+e},t.prototype._extendScope=function(t){u.get(this).di;t.insertElement=s.document.body,t.insertModeDefault="append",t.createAdframe=function(e){e||(e="IFRAME");var r=s.document.createElement(e);return r.style.width="1px",r.style.height="1px",r.format="",r.setAttribute("allowtransparency","true"),r.style.border="0px",r.scrolling="no",t.insertElement.appendChild(r),r},t.getServingAdFrameBody=function(){return window.document.body},t.insert=function(e,r,n){switch(r||(r=t.insertModeDefault),!0!==n&&(n=!1),r){case"before_sibling":t.insertElement.parentNode.insertBefore(e,this.insertElement);break;case"after_sibling":t.insertElement.parentNode.insertBefore(e,t.insertElement.nextSibling);break;case"before":if(n)var o=t.insertElement,i=t.insertElement.firstChild;else o=t.insertElement.parentNode,i=t.insertElement;return o.insertBefore(e,i);case"after":if(n)return t.insertElement.appendChild(e);o=t.insertElement.parentNode,i=t.insertElement.nextSibling;return o.lastchild==t.insertElement?o.appendChild(e):o.insertBefore(e,i);default:return t.insertElement.appendChild(e)}},t.openAdframe=function(e){var t="";return"IFRAME"==e.tagName&&("is"!==this.format&&"cf"!==this.format&&"mo"!==this.format||(t="<script>var inDapIF=true;<\/script>"),e.contentWindow.document.open("text/html"),e.contentWindow.document.write('<html><head><style type="text/css">html,body{padding:0px;margin:0px;background-color:transparent;overflow:hidden;}</style>'+t+"</head><body></body></html>"),e.contentWindow.document.ccformat=this.format,!0)},t.closeAdframe=function(e){return!(!e||"IFRAME"!=e.tagName||!e.contentWindow)&&(e.contentWindow.document.close(),!0)},t.logError=function(e){},e.prototype._extendScope.call(this,t)},t.execute=function(e){new t(e).sandbox(e.fallback||"")},t.prototype.setDependency=function(e,t){return u.get(this).di[e]=t,this.publish(e+"DependencySet",[t]),this},t}(n.default);t.default=c},579:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={prefix:"jpx-",decode:function(e){return JSON.parse(e)},encode:function(e){return JSON.stringify(e)},read:function(e){try{var t=void 0;try{(t=window.top).location.href}catch(e){t=window}var r=t.sessionStorage;if(!r)return!1;var n=r.getItem(this.prefix+e);return!!n&&(n=this.decode(n))}catch(e){return!1}},save:function(e,t){try{var r=void 0;try{(r=window.top).location.href}catch(e){r=window}var n=r.sessionStorage;return!!n&&n.setItem(this.prefix+e,this.encode(t))}catch(e){return!1}}};t.default=n},580:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(61)),o=i(r(581));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var u=new WeakMap,s=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r)),o=n,i={},a=(r=r||{}).di||{};return u.set(o,i),i.di=a,n}return a(t,e),t.prototype._setupExecution=function(e){var t=this,r=e.di;return r.jScanner.scan().then(function(e){return r.jModel.addProperty("height",e.height),r.jModel.addProperty("width",e.width),t.publish("writeAdFound",[t,r.jScanner,r.jModel,e]),e})},t.prototype._executionFail=function(t,r){if([203,204,205].indexOf(t.code)>-1)throw t;e.prototype._executionFail.call(this,t,r)},t.prototype._initializeDependency=function(t){var r=e.prototype._initializeDependency.call(this,t);return this.publish("writeAdScannerStart",[this,r.jScanner,r.jModel]),r.jScanner=new o.default({di:{jAdFrame:r.jAdFrame,jModel:r.jModel}}),r},t}(n.default);t.default=s},581:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(r(4)),o=c(r(2)),i=c(r(55)),a=c(r(19)),u=c(r(15)),s=c(r(1));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var p=new WeakMap,f=s.default.getTopScope(),h=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=l(this,e.call(this,r)),o=n,i={di:r.di,counter:30,creativeTypes:["iframe","img","canvas","video","div","span","ins"],externalScripts:[/adform/,/doubleclick/,/flashtalking/,/mediamath/,/adnxs/,/weborama/,/creative-serving/,/serving-sys/,/celtra/,/amazonaws/,/cloudfront/,/mm1x/],externalScript:!1,celtraClassName:"celtra-ad-v3",celtraDetected:!1,scope:"adframe",cancelTimer:function(){}};return p.set(o,i),l(n,o)}return d(t,e),t.prototype._searchForExternalScript=function(e,t){var r=p.get(this);if("cf"===r.di.jModel.getFormat()&&Array.prototype.slice.call(e.getAllDOMElements("script")).find(function(e){return!!r.externalScripts.find(function(t){return e&&e.src.match(t)})}))return t({height:0,width:728,el:e.getDOMElement()}),!0;return!1},t.prototype._getAllAvailElements=function(e){var t=p.get(this),r=t.creativeTypes;return[].concat.apply([],r.map(function(r){return Array.prototype.slice.call("top"===t.scope?f.document.querySelector(r):e.getAllDOMElements(r))}))},t.prototype._correctCreativeSizeIE11=function(e){if("img"===e.tagName.toLowerCase()&&s.default.isIE11()&&!e._jpxCorrection){var t=p.get(this).di.jModel;if(e._jpxCorrection=!0,["wp","wv"].indexOf(t.getFormat())>-1){var r=u.default.getNaturalImageSize(e);e.style.height=e.height=r.height,e.style.width=e.width=r.width}}},t.prototype._matchBySize=function(e){var t=this,r=p.get(t),n=r.di.jModel;return t._getAllAvailElements(e).filter(function(e){if(r.celtraDetected)return!1;if(t._isCeltra(e))return!0;t._correctCreativeSizeIE11(e);var o=u.default.getElementRealSize(e);return!(o.width<i.default.getProductMin(n.getFormat(),"width")||o.height<i.default.getProductMin(n.getFormat(),"height"))&&i.default.fitSizes(n.getFormat(),o.height,o.width)})},t.prototype._isCeltra=function(e){var t=p.get(this);if(["mo","is"].indexOf(t.di.jModel.getFormat())<0)return!1;var r=e.getAttribute("class");return!(!r||!r.match(t.celtraClassName))&&(t.celtraDetected=!0,!0)},t.prototype._isFallback=function(e){return!!Array.prototype.slice.call(e.getAllDOMElements("img")).find(function(e){return/creative\.360yield\.[\S]+1x1/.test(e.src)||/blank_1X1/.test(e.src)})},t.prototype._checkGlobalVariables=function(e){if(f.jpx_ad_config)return e(f.jpx_ad_config),!0;if(f.jpx_external_cf){var t=p.get(this).di;if("cf"===t.jModel.getFormat())return e({height:0,width:728,el:t.jAdFrame.getJDOMElement("adframe").getDOMElement()}),!0}return!1},t.prototype._getBestOption=function(e){var t=e.shift(),r=this._hasCeltra()?{height:f.innerHeight,width:f.innerWidth}:u.default.getElementRealSize(t);return r.el=t,r},t.prototype._hasCeltra=function(){return p.get(this).celtraDetected},t.prototype._searchForAllowedElements=function(e,t){var r=this,n=p.get(r),i=n.di.jAdFrame.getJDOMElement("adframe"),a=[];if(!r._checkGlobalVariables(e)){if(r._isFallback(i))return t(r.error(204));if(!r._searchForExternalScript(i,e))return a=a.concat(r._matchBySize(i)||null),r._hasCeltra()?e(r._getBestOption(a)):a.length?e(r._getBestOption(a)):void(n.counter--?n.cancelTimer=o.default.delay(r,function(){return r._searchForAllowedElements(e,t)},36):t(r.error(203)))}},t.prototype._cancelTimer=function(){var e=p.get(this);e.cancelTimer(),e.counter=0},t.prototype._searchForWallpaperClick=function(e,t){var r=e.jModel,n=e.jAdFrame;if("wp"===r.getFormat()&&!t.clickURL){var o=Array.prototype.slice.call(n.getJDOMElement("adframe").getAllDOMElements("img")).map(function(e){return[e,e.offsetWidth,e.offsetHeight]}).filter(function(e){return i.default.fitSizes("wp",e[2],e[1])}).sort(function(e,t){return e[1]*e[2]-t[1]*t[2]}).pop();o&&"a"===o[0].parentNode.tagName.toLocaleLowerCase()&&(t.clickURL=o[0].parentNode.href)}return this},t.prototype.scan=function(){var e=this,t=p.get(e);return t.di.jAdFrame.ready().then(function(){return new Promise(function(t,r){e._searchForAllowedElements(t,r)}).then(function(r){return e._searchForWallpaperClick(t.di,r),a.default.info("JScanner: creative found"),a.default.info(r),r})})},t}(n.default);t.default=h},582:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(61)),o=a(r(2)),i=a(r(583));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var s=new WeakMap,c=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r)),o=n,i={},a=(r=r||{}).di||{};return s.set(o,i),i.di=a,n}return u(t,e),t.prototype._setupExecution=function(e){var t=this,r=this,n=e.di,i=n.jDOM,a=window.document.createElement("video"),u=window.document.createElement("div"),s=n.jAdFrame.getJDOMElement("ad").getDOMElement(),c=n.jAdFrame.getJDOMElement("adframe"),l=n.jModel.getData("scope"),d=e.global,p=!(!d.cmp||!d.cmp.eu)&&d.cmp.eu,f=!(!d.cmp||!d.cmp.consentString)&&d.cmp.consentString;u.appendChild(a),s.appendChild(u),c.setStyle("display","none");var h=new l.SpotX.DirectAdOS({ados:{user:{consent:f||1},regs:{gdpr:p?1:0},query_params:"media_transcoding[]=medium"},channel_id:n.jModel.getData("adunitid"),hide_skin:!0,ad_mute:!0,ad_volume:0,preload_ados:!0,autoplay:!0,blocked_autoplay_override_mode:1,slot:u,video_slot:a,content_width:n.jModel.getData("width"),content_height:n.jModel.getData("height"),custom:{ch:n.jModel.getData("channel"),f:function(e){return(Math.round(2*e)/2).toFixed(1)}(n.jModel.getData("floorprice")),adid:n.jModel.getData("adId"),zid:n.jModel.getData("zoneId")}});n.jCompatibilityAdapter.setDependency("spotXDirectAdOs",h);var y=void 0,g=new Promise(function(i,a){var u=!1;h.subscribe(function(e){u=!0,r.publish("asyncWriteAdFound",[r,n.jModel]),i(),y=o.default.delay(r,function(){r.publish("asyncWriteAdShown",[r,n.jModel])},300)},"AdLoaded",t),h.subscribe(function(){if(u){y();var t=r.error(220);return n.jModel.addProperty("error",t),r._clearExecution(e),void r.publish("executionFailure",[t,n.jModel])}var o=r.error(209);n.jModel.addProperty("error",o),a(o)},l.SpotX.DirectAdOS.Events.AD_ERROR,t)});return r.publish("asyncWriteAdStart",[r,n.jModel]),h.loadAd().then(function(){return g}).then(function(){return r._initializeSpotXDependency(e,[h,a,u,i]),{}})},t.prototype._initializeSpotXDependency=function(e,t){e.di.jPlayer=new i.default({di:{spotX:t[0],jDOM:t[3]},video:t[1],container:t[2]})},t}(n.default);t.default=c},583:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(4));o(r(1));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var a=new WeakMap,u=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r)),o=n,i={};return a.set(o,i),i.di=r.di,i.video=r.video,i.parent=r.container,i.video.muted=!0,n}return i(t,e),t.prototype._applyStyles=function(){var e=a.get(this);e.video.style.width=e.parent.style.width="100%",e.video.style.height=e.parent.style.height="100%"},t.prototype._bindMuteEvent=function(){var e=this;a.get(e).di.jDOM.getScope().addEventListener("blur",function(){e.pause()})},t.prototype._bindEvents=function(){var e=this,t=a.get(e);t.di.spotX.subscribe(function(){e.publish("progress",[e,t.video])},"AdRemainingTimeChange",t.di.spotX),t.di.spotX.subscribe(function(){e.publish("clicked",[e,t.video])},"AdClickThru",t.di.spotX),t.di.spotX.subscribe(function(){e.publish("ended",[e,t.video])},"AdVideoComplete",t.di.spotX)},t.prototype._bindFocusEvent=function(){var e=this;a.get(e).di.jDOM.getScope().addEventListener("focus",function(){e.publish("focus",[e])})},t.prototype._setPrefix=function(e){this._prefix=e||"jp-video-"},t.prototype.getContainer=function(){var e=a.get(this);return{clientWidth:e.parent.clientWidth,clientHeight:e.parent.clientHeight,setStyle:function(t,r){e.parent.style[t]=r}}},t.prototype.getCurrentTime=function(){return a.get(this).video.currentTime},t.prototype.getCurrentTimeInPercent=function(){var e=a.get(this);return e.video.currentTime/e.video.duration*100},t.prototype.getDuration=function(){return a.get(this).video.duration},t.prototype.getPlayerHeight=function(){return a.get(this).video.offsetHeight},t.prototype.getPlayerWidth=function(){return a.get(this).video.offsetWidth},t.prototype.getPrefix=function(){return this._prefix},t.prototype.getParentObject=function(){return a.get(this).parent},t.prototype.isMuted=function(){return a.get(this).video.muted},t.prototype.isPlaying=function(){return a.get(this).isPlaying},t.prototype.mute=function(){var e=a.get(this);e.video.muted=!0,e.video.volume=0},t.prototype.pause=function(){var e=a.get(this),t=e.di.jDOM;e.di.spotX.pauseAd(),e.isPlaying=!1;var r=t.getElement("jpx-wp-controls-button-play");-1!==r&&r.addClass("jpx-wp-play");var n=t.getElement("jpx-hv-controls-overlay");-1!==n&&n.addClass("jpx-hv-control-overlay-visible")},t.prototype.play=function(){var e=a.get(this);e.di.spotX.playAd(),e.isPlaying=!0},t.prototype.removeParentClass=function(e){var t=a.get(this),r=t.parent,n="";null!==r.getAttribute("class")&&(n=r.getAttribute("class").replace(new RegExp(e,"g"),"").replace("  ",""),t.parent.setAttribute("class",n))},t.prototype.ready=function(){var e=a.get(this);return Promise.resolve(e.di.spotX)},t.prototype.resetPlayerTime=function(){a.get(this).video.currentTime=.2},t.prototype.setParentClass=function(e){var t=a.get(this),r=t.parent,n="";null!==r.getAttribute("class")&&(n=r.getAttribute("class")),t.parent.setAttribute("class",n+" "+e)},t.prototype.setup=function(e,t){var r=this;a.get(r).playerOpts=t,r._bindEvents(),r._applyStyles(),r._bindMuteEvent(),r._bindFocusEvent()},t.prototype.unmute=function(){var e=a.get(this);e.video.muted=!1,e.video.volume=1},t}(n.default);t.default=u},584:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(61));o(r(2));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var a=new WeakMap,u=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r)),o=n,i={},u=(r=r||{}).di||{};return a.set(o,i),i.di=u,n}return i(t,e),t.prototype._executionFail=function(t,r){if([203,204,205].indexOf(t.code)>-1)throw t;e.prototype._executionFail.call(this,t,r)},t.prototype._setupExecution=function(e){var t=this,r=e.di;return t.publish("asyncWriteAdStart",[t,r.jModel]),new Promise(function(e,n){var o=r.jAdFrame.getJDOMElement("adframe"),i=o.getDOMElement().getAttribute("jpx-is-empty");if("1"===i){var a=t.error(204);r.jModel.addProperty("error",a),n(a)}else if("0"===i)t.publish("asyncWriteAdFound",[t,r.jModel]),t.publish("asyncWriteAdShown",[t,r.jModel]),e();else{o.getDOMElement().contentWindow["fn"+r.jModel.getData("sourceId")]=function(o){if(o.isEmpty){var i=t.error(204);r.jModel.addProperty("error",i),n(i)}else t.publish("asyncWriteAdFound",[t,r.jModel]),t.publish("asyncWriteAdShown",[t,r.jModel]),e();e()}}})},t}(n.default);t.default=u},62:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(19)),o=a(r(1)),i=a(r(4));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var s=new WeakMap,c=o.default.getTopScope(),l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));if(r.record=null,r.jsonp=!1,r.write=!1,r.multi=!1,void 0===r.run)throw r.error(104,{method:"run",class:"JCaller"});if(void 0===r.after)throw r.error(104,{method:"after",class:"JCaller"});if(void 0===r.before)throw r.error(104,{method:"before",class:"JCaller"});if(void 0===r.request)throw r.error(104,{method:"request",class:"JCaller"});return s.set(r,{}),r}return u(t,e),t.prototype.getUrl=function(e){return""},t.prototype.setGlobals=function(e){return s.get(this).settings=e,this},t.prototype.getGlobals=function(){return s.get(this).settings},t.prototype.isWrite=function(){return this.write},t.prototype.isJsonp=function(){return this.jsonp},t.prototype.JSONPRequest=function(e,t,r){var n=c.document,o=n.createElement("script"),i=n.getElementById("jpx_0x000000_caller_window"),a="jpx_"+ +new Date+"_"+parseInt(9900*Math.random()+100)+"_callback",u=(28!==t?e:e=e.replace("%callback_uid%",r[0].callbackId))+"&callback="+a;o.async=!0,o.src=u;var s=this.getGlobals();return new Promise(function(e,u){var l=void 0;try{l=JSON.parse(window.localStorage.getItem("jpx_offline_callback_content_"+s.server.zone))}catch(e){}window.navigator.onLine||null===l||"preview"!==c.location.hostname.split(".").shift()?(c[a]=function(n){if(window.navigator.onLine&&"preview"===c.location.hostname.split(".").shift())try{window.localStorage.setItem("jpx_offline_callback_content_"+s.server.zone,JSON.stringify(n))}catch(e){}e({response:n,ssp:t,records:r}),delete c[a]},o.onerror=function(e){u("JQueue: script failed to load")},(i||n.body).appendChild(o)):e({response:l,ssp:t,records:r})})},t.prototype.XHRequest=function(e,t,r){return new Promise(function(i,a){var u=null;"withCredentials"in(u=o.default.isOldIE()?new window.XDomainRequest:window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"))&&(u.withCredentials=!0);var s=void 0,c=function(e){a(e)};return u.open("GET",e,!0),u.onload=function(){if(4!==u.readyState)return c(new Error("ReadyState error",404)),!1;if(200!==u.status)return c(new Error("Request error",u.status)),!1;try{s=JSON.parse(u.responseText),i({response:s,ssp:t,records:r})}catch(e){}},u.onprogress=function(e){var r=e.total||100,o=(e.loaded||100)/r,i=void 0;i=o<1?"Caller: SSP ID "+t+" -> loading ("+parseInt(100*o)+"%) a remote data via XHR...":"Caller: SSP ID "+t+" -> loading done.",n.default.info(i)},u.onerror=c,u.send(),u})},t.isMulti=function(e){return!1},t.factory=function(){return new t},t}(i.default);t.default=l}},[567]);this.Jpx=this.Jpx||{},this.Jpx.PluginExtend=webpackJsonpJpx__name_([25],{585:function(e,t,r){"use strict";e.exports=r(586).default},586:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(124)),o=s(r(61)),i=s(r(84)),d=s(r(19)),a=s(r(1)),c=s(r(42));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var p=new WeakMap,f=a.default.getTopScope(),l=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this)),o=n,i={};return i.parent=r.di.jAdManager,p.set(o,i),n}return u(t,e),t.prototype._execute=function(e){var r=this,n=p.get(r),o=t.getExecution({di:{localWindow:window,window:f,Jpx:window.Jpx||f.Jpx,jPlugin:r}});o.subscribe("dependenciesReady",function(e){n.parent.publish("adReady",e)}),e.global=e.product.settings.product,e.model.price=parseInt(1e3*e.model.floorprice),e.model.integration="extend",r.publish("beforeExecution",[r,e]),n.parent.loadFormat(e.format).then(function(){return o.run(e)}).catch(function(t){r.publish("error",[t,e]),d.default.error("JAdManager: Loading some resources failed."),console.error(t)})},t.prototype._prepareExecutionTracking=function(e){var r=p.get(this),n=e.di.jExecution,o=r.ad.product.settings.product;return this.subscribe("beforeExecution",function(e){var n=t.getModel(r.ad);n.addProperty("extendCore",o.jpamEx),n.addProperty("isAdv",!0),c.default.instance().track("extend","eadm",o,n)}),n.subscribe("afterFrameWrite",function(e){var t=e[2];c.default.instance().track("extend","eim",o,t)}),n.subscribe("afterProductShow",function(e){var t=e[2];c.default.instance().track("extend","esh",o,t)}),n.subscribe("execError",function(e){var t=e[0],r=e[1];c.default.instance().track("extend","eerr",o,r,t.code||t.message||"Execution error.",t.stack)}),n.subscribe("apiExecError",function(e){var t=e[0],r=e[1];c.default.instance().track("extend","eerr",o,r,t.code||t.message||"Execution error.",t.stack)}),this},t.prototype.execute=function(e,t){var r=p.get(this),n=r.ad.product.settings.product;if(!r.ad)return c.default.instance().track("extend","eerr",n,{},"No ad with source "+e+" found."),!1;try{t&&(r.ad.model.prerendered=t),this._execute(r.ad)}catch(e){console.log(e),c.default.instance().track("extend","eerr",n,{},e.toString())}},t.prototype.loadAd=function(e){var t=p.get(this),r=e.settings,n=r.server,o=e.ads[0],i=e.ads[0].models[0],a=e.ads[0].models[0].creative,c=i.zoneId;n&&d.default.debug(n.debug);var s={format:o.format,model:{prerendered:"",adId:i.adId,adunitid:i.adunitid,creative:{html:decodeURIComponent(a.creatives[0].source)},dealId:i.dealId,floorprice:i.cpm||i.floorprice,format:o.format,isTest:i.isTest,options:i.options,reqId:i.reqId,sourceId:i.sourceId,ssp:i.ssp,zoneId:i.zoneId},product:{inits:{product:o.product.inits.product,site:o.product.inits.site},settings:{product:r},height:o.product.height,width:o.product.width}};t.ad=s,t.zoneId=i.zoneId,t.parent.setGlobals(n.device||"desktop","");var u={ads:s,inits:{global:""},devices:{type:n.device},settings:{site:r.site,server:n}};return d.default.info("JPluginExtend: ad for zone "+c+" loaded"),this.publish("tagLoaded:"+c,[this,c,u.settings]),this},t.prototype.renderAd=function(e,t){return this.execute(e,t)},t.getExecution=function(e){var t=new o.default(e);e.di;return e.di.jPlugin._prepareExecutionTracking({di:{jExecution:t}}),t},t.getModel=function(e){e.product;var t=e.model;return new i.default({data:t})},t}(n.default);t.default=l}},[585]);